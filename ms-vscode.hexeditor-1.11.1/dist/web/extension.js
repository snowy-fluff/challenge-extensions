"use strict";var Qx=Object.create;var xs=Object.defineProperty;var $x=Object.getOwnPropertyDescriptor;var Jx=Object.getOwnPropertyNames;var Yx=Object.getPrototypeOf,Zx=Object.prototype.hasOwnProperty;var ue=(e,t)=>()=>(e&&(t=e(e=0)),t);var Zc=(e,t)=>{for(var n in t)xs(e,n,{get:t[n],enumerable:!0})},Lp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jx(t))!Zx.call(e,i)&&i!==n&&xs(e,i,{get:()=>t[i],enumerable:!(r=$x(t,i))||r.enumerable});return e};var ft=(e,t,n)=>(n=e!=null?Qx(Yx(e)):{},Lp(t||!e||!e.__esModule?xs(n,"default",{value:e,enumerable:!0}):n,e)),e0=e=>Lp(xs({},"__esModule",{value:!0}),e);var Qt,Ze,et,tt,$o,jt,ki,Fi,bs,Ni,En,ws=ue(()=>{"use strict";Qt="function",Ze="object",et="undefined",tt="prototype",$o="hasOwnProperty",jt=Object,ki=jt[tt],Fi=jt.assign,bs=jt.create,Ni=jt.defineProperty,En=ki[$o]});function on(e){return e===void 0&&(e=!0),(!Ui||!e)&&(typeof globalThis!==et&&globalThis&&(Ui=globalThis),typeof self!==et&&self&&(Ui=self),typeof window!==et&&window&&(Ui=window),typeof global!==et&&global&&(Ui=global)),Ui}function Li(e){throw new TypeError(e)}function Cn(e){var t=bs;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==Ze&&n!==Qt&&Li("Object prototype may only be an Object:"+e);function r(){}return r[tt]=e,new r}var Ui,el=ue(()=>{"use strict";ws();Ui=null});function an(e,t){typeof t!==Qt&&t!==null&&Li("Class extends value "+String(t)+" is not a constructor or null"),tl(e,t);function n(){this.constructor=e}e[tt]=t===null?Cn(t):(n[tt]=t[tt],new n)}function Es(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var eC,tC,n0,Ss,tl,Op=ue(()=>{"use strict";ws();el();eC=(on()||{}).Symbol,tC=(on()||{}).Reflect,n0=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)ki[$o].call(t,i)&&(e[i]=t[i])}return e},Ss=Fi||n0,tl=function(e,t){return tl=jt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[$o](i)&&(n[i]=r[i])},tl(e,t)}});var Hp=ue(()=>{"use strict"});var Ft=ue(()=>{"use strict";ws();el();Op();Hp()});var nl,Bp=ue(()=>{"use strict";nl=100});var De,Cs,rl,Jo,zn,$t,sn,il,Yo,Oi,Br,Is,Ts,zp,zr,qr,Hi,Bi,zi,Zo,Nt=ue(()=>{"use strict";De="",Cs="processTelemetry",rl="priority",Jo="setNextPlugin",zn="isInitialized",$t="teardown",sn="core",il="update",Yo="disabled",Oi="_doTeardown",Br="processNext",Is="resume",Ts="pause",zp="NotificationListener",zr="add"+zp,qr="remove"+zp,Hi="eventsSent",Bi="eventsDiscarded",zi="eventsSendRequest",Zo="perfEvent"});function g0(e){if(e){if(Ds)return Ds(e);var t=e[r0]||e[tt]||e[_s];if(t)return t}return null}function qi(e,t){return typeof e===t}function _e(e){return e===void 0||typeof e===et}function de(e){return e===null||_e(e)}function ll(e){return!de(e)}function In(e,t){return!!(e&&En.call(e,t))}function vt(e){return!!(e&&typeof e===Ze)}function Se(e){return!!(e&&typeof e===Qt)}function jr(e){var t=e;return t&&qe(t)&&(t=t.replace(d0,function(n,r){return r.toUpperCase()}),t=t.replace(p0,"_"),t=t.replace(v0,function(n,r){return"_"+r})),t}function Ne(e,t){if(e)for(var n in e)En.call(e,n)&&t.call(e,n,e[n])}function Wr(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=a0?e[$p](t):m0(e,t)),n}function m0(e,t){var n=!1,r=t?t.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,a=r-1;a>=0;a--){if(e[o]!=t[a])return!1;o--}n=!0}return n}function ji(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=s0?e[Jp](t):h0(e,t)),n}function h0(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}function Xe(e,t){return e&&t?e.indexOf(t)!==-1:!1}function Wi(e){return!!(e&&cl.call(e)==="[object Date]")}function y0(e){return!!(e&&cl.call(e)==="[object Array]")}function Vr(e){return!!(e&&cl.call(e)==="[object Error]")}function qe(e){return typeof e=="string"}function Ut(e){return typeof e=="number"}function qn(e){return typeof e=="boolean"}function Gp(e){var t=!1;if(e&&typeof e=="object"){var n=Ds?Ds(e):g0(e);n?(n[_s]&&En.call(n,_s)&&(n=n[_s]),t=typeof n===Qt&&Zp.call(n)===f0):t=!0}return t}function Jt(e){if(e)return c0?e[Qp]():x0(e)}function x0(e){if(e&&e.getUTCFullYear){var t=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function J(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}catch{}}function ot(e,t,n){if(e){if(e[qp])return e[qp](t,n);var r=e.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Kr(e,t,n){var r;if(e){if(e[jp])return e[jp](t,n);var i=e.length,o=n||e;r=new Array(i);try{for(var a=0;a<i;a++)a in e&&(r[a]=t.call(o,e[a],e))}catch{}}return r}function Gr(e,t,n){var r;if(e){if(e[Wp])return e[Wp](t,n);var i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function Ue(e){return e&&(e=o0&&e[al]?e[al]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}function Et(e){var t=typeof e;if(t!==Qt&&(t!==Ze||e===null)&&Li("objKeys called on non-object"),!Xp&&Kp)return Kp(e);var n=[];for(var r in e)e&&En.call(e,r)&&n.push(r);if(Xp)for(var i=ol.length,o=0;o<i;o++)e&&En.call(e,ol[o])&&n.push(ol[o]);return n}function Wt(e,t,n,r){if(Vp)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Vp(e,t,i),!0}catch{}return!1}function ev(e){return e}function fl(e){return sl&&Ne(e,function(t,n){(he(n)||vt(n))&&sl(n)}),Lt(e)}function at(){var e=Date;return e.now?e.now():new e().getTime()}function Xr(e){return Vr(e)?e.name:De}function st(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function ea(e,t,n){var r;return e?(r=e[t],!r&&de(r)&&(r=_e(n)?{}:n,e[t]=r)):r=_e(n)?{}:n,r}function Vi(e){return!e}function Ki(e){return!!e}function gt(e){throw new Error(e)}function tv(e,t){var n=null,r=null;return Se(e)?n=e:r=e,function(){var i=arguments;if(n&&(r=n()),r)return r[t].apply(r,i)}}function pl(e,t,n){if(e&&t&&vt(e)&&vt(t)){var r=function(o){if(qe(o)){var a=t[o];Se(a)?(!n||n(o,!0,t,e))&&(e[o]=tv(t,o)):(!n||n(o,!1,t,e))&&(In(e,o)&&delete e[o],Wt(e,o,function(){return t[o]},function(s){t[o]=s})||(e[o]=a))}};for(var i in t)r(i)}return e}function pr(e,t,n,r,i){e&&t&&n&&(i!==!1||_e(e[t]))&&(e[t]=tv(n,r))}function Qr(e,t,n,r){return e&&t&&vt(e)&&he(n)&&J(n,function(i){qe(i)&&pr(e,i,t,i,r)}),e}function jn(e){return e&&Fi&&(e=jt(Fi({},e))),e}function Gi(e,t,n,r,i,o){var a=arguments,s=a[0]||{},u=a.length,c=!1,l=1;for(u>0&&qn(s)&&(c=s,s=a[l]||{},l++),vt(s)||(s={});l<u;l++){var d=a[l],f=he(d),p=vt(d);for(var g in d){var m=f&&g in d||p&&En.call(d,g);if(m){var v=d[g],h=void 0;if(c&&v&&((h=he(v))||Gp(v))){var x=s[g];h?he(x)||(x=[]):Gp(x)||(x={}),v=Gi(c,x,v)}v!==void 0&&(s[g]=v)}}}return s}var Qp,$p,Jp,qp,jp,Wp,al,Yp,r0,_s,Vp,sl,i0,Kp,ul,o0,a0,s0,u0,c0,l0,cl,Zp,f0,d0,p0,v0,Ds,he,Xp,ol,Lt,dl,Qe=ue(()=>{"use strict";Ft();Nt();Qp="toISOString",$p="endsWith",Jp="startsWith",qp="indexOf",jp="map",Wp="reduce",al="trim",Yp="toString",r0="__proto__",_s="constructor",Vp=Ni,sl=jt.freeze,i0=jt.seal,Kp=jt.keys,ul=String[tt],o0=ul[al],a0=ul[$p],s0=ul[Jp],u0=Date[tt],c0=u0[Qp],l0=Array.isArray,cl=ki[Yp],Zp=En[Yp],f0=Zp.call(jt),d0=/-([a-z])/g,p0=/([^\w\d_$])/g,v0=/^(\d+[\w\d_$])/,Ds=Object.getPrototypeOf;he=l0||y0;Xp=!{toString:null}.propertyIsEnumerable("toString"),ol=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Lt=sl||ev,dl=i0||ev});function Ct(e){var t={};return Ne(e,function(n,r){t[n]=r,t[r]=n}),fl(t)}var Ps=ue(()=>{"use strict";Qe()});var un,nv=ue(()=>{"use strict";Ps();un=Ct({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function Vn(e,t){return e&&Us[Wn].hasOwnProperty.call(e,t)}function cv(e){return e&&(e===Us[Wn]||e===Array[Wn])}function xl(e){return cv(e)||e===Function[Wn]}function $r(e){var t;if(e){if(na)return na(e);var n=e[uv]||e[Wn]||(e[Rs]?e[Rs][Wn]:null);t=e[As]||n,Vn(e,As)||(delete e[vl],t=e[As]=e[vl]||e[As],e[vl]=n)}return t}function Fs(e,t){var n=[];if(ov)n=ov(e);else for(var r in e)typeof r=="string"&&Vn(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function bl(e,t,n){return t!==Rs&&typeof e[t]===Ms&&(n||Vn(e,t))}function Ns(e){throw new TypeError("DynamicProto: "+e)}function w0(e){var t={};return Fs(e,function(n){!t[n]&&bl(e,n,!1)&&(t[n]=e[n])}),t}function wl(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function S0(e,t,n,r){function i(u,c,l){var d=c[l];if(d[hl]&&r){var f=u[ks]||{};f[ta]!==!1&&(d=(f[c[Xi]]||{})[l]||d)}return function(){return d.apply(u,arguments)}}var o={};Fs(n,function(u){o[u]=i(t,n,u)});for(var a=$r(e),s=[];a&&!xl(a)&&!wl(s,a);)Fs(a,function(u){!o[u]&&bl(a,u,!na)&&(o[u]=i(t,a,u))}),s.push(a),a=$r(a);return o}function E0(e,t,n,r){var i=null;if(e&&Vn(n,Xi)){var o=e[ks]||{};if(i=(o[n[Xi]]||{})[t],i||Ns("Missing ["+t+"] "+Ms),!i[yl]&&o[ta]!==!1){for(var a=!Vn(e,t),s=$r(e),u=[];a&&s&&!xl(s)&&!wl(u,s);){var c=s[t];if(c){a=c===r;break}u.push(s),s=$r(s)}try{a&&(e[t]=i),i[yl]=1}catch{o[ta]=!1}}}return i}function C0(e,t,n){var r=t[e];return r===n&&(r=$r(t)[e]),typeof r!==Ms&&Ns("["+e+"] is not a "+Ms),r}function I0(e,t,n,r,i){function o(u,c){var l=function(){var d=E0(this,c,u,l)||C0(c,u,l);return d.apply(this,arguments)};return l[hl]=1,l}if(!cv(e)){var a=n[ks]=n[ks]||{},s=a[t]=a[t]||{};a[ta]!==!1&&(a[ta]=!!i),Fs(n,function(u){bl(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!Vn(e,u)||e[u]&&!e[u][hl])&&(e[u]=o(e,u)))})}}function T0(e,t){if(na){for(var n=[],r=$r(t);r&&!xl(r)&&!wl(n,r);){if(r===e)return!0;n.push(r),r=$r(r)}return!1}return!0}function ml(e,t){return Vn(e,Wn)?e.name||t||rv:((e||{})[Rs]||{}).name||t||rv}function Ce(e,t,n,r){Vn(e,Wn)||Ns("theClass is an invalid class definition.");var i=e[Wn];T0(i,t)||Ns("["+ml(e)+"] is not in class hierarchy of ["+ml(t)+"]");var o=null;Vn(i,Xi)?o=i[Xi]:(o=b0+ml(e,"_")+"$"+av,av++,i[Xi]=o);var a=Ce[sv],s=!!a[gl];s&&r&&r[gl]!==void 0&&(s=!!r[gl]);var u=w0(t),c=S0(i,t,u,s);n(t,c);var l=!!na&&!!a[iv];l&&r&&(l=!!r[iv]),I0(i,o,t,u,l!==!1)}var Rs,Wn,Ms,ks,hl,Xi,b0,yl,ta,sv,rv,uv,As,vl,gl,iv,Us,na,ov,av,_0,mt=ue(()=>{"use strict";Rs="constructor",Wn="prototype",Ms="function",ks="_dynInstFuncs",hl="_isDynProxy",Xi="_dynClass",b0="_dynCls$",yl="_dynInstChk",ta=yl,sv="_dfOpts",rv="_unknown_",uv="__proto__",As="_dyn"+uv,vl="_dynInstProto",gl="useBaseInst",iv="setInstFuncs",Us=Object,na=Us.getPrototypeOf,ov=Us.getOwnPropertyNames,av=0;_0={setInstFuncs:!0,useBaseInst:!0};Ce[sv]=_0});function vv(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[tt];r&&(n=t in r)}}catch{}if(!n)try{var i=new e;n=!_e(i[t])}catch{}}return n}function _l(e){pv=e}function je(e){var t=on();return t&&t[e]?t[e]:e===lv&&ra()?window:null}function ra(){return!!(typeof window===Ze&&window)}function Tn(){return ra()?window:je(lv)}function Ls(){return!!(typeof document===Ze&&document)}function Ot(){return Ls()?document:je(D0)}function ia(){return!!(typeof navigator===Ze&&navigator)}function Vt(){return ia()?navigator:je(A0)}function Os(){return!!(typeof history===Ze&&history)}function Dl(){return Os()?history:je(R0)}function Jr(e){if(e&&pv){var t=je("__mockLocation");if(t)return t}return typeof location===Ze&&location?location:je(M0)}function oa(){return typeof console!==et?console:je(k0)}function $i(){return je(F0)}function Yr(){return!!(typeof JSON===Ze&&JSON||je(fv)!==null)}function Ji(){return Yr()?JSON||je(fv):null}function aa(){return je(N0)}function sa(){return je(U0)}function Kn(){var e=Vt();return e&&e.product?e.product===L0:!1}function cn(){var e=Vt();if(e&&(e.userAgent!==El||Sl===null)){El=e.userAgent;var t=(El||De).toLowerCase();Sl=Xe(t,Il)||Xe(t,Tl)}return Sl}function Pl(e){if(e===void 0&&(e=null),!e){var t=Vt()||{};e=t?(t.userAgent||De).toLowerCase():De}var n=(e||De).toLowerCase();if(Xe(n,Il)){var r=Ot()||{};return Math.max(parseInt(n.split(Il)[1]),r[P0]||0)}else if(Xe(n,Tl)){var i=parseInt(n.split(Tl)[1]);if(i)return i+4}return null}function ze(e){var t=Object[tt].toString.call(e),n=De;return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Yr()&&(n=Ji().stringify(e)),t+n}function vr(){return Cl===null&&(Cl=ia()&&!!Vt().sendBeacon),Cl}function ua(e){var t=!1;try{t=!!je("fetch");var n=je("Request");t&&e&&n&&(t=vv(n,"keepalive"))}catch{}return t}function Zr(){return Qi===null&&(Qi=typeof XDomainRequest!==et,Qi&&Yi()&&(Qi=Qi&&!vv(je(dv),"withCredentials"))),Qi}function Yi(){var e=!1;try{var t=je(dv);e=!!t}catch{}return e}function gv(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.name&&r.name===t)return r}return{}}function Al(e){var t=Ot();return t&&e?gv(t.querySelectorAll("meta"),e).content:null}function Rl(e){var t,n=$i();if(n){var r=n.getEntriesByType("navigation")||[];t=gv((r.length>0?r[0]:{}).serverTiming,e).description}return t}var lv,D0,P0,A0,R0,M0,k0,F0,fv,N0,U0,L0,Il,Tl,dv,Sl,El,pv,Qi,Cl,Yt=ue(()=>{"use strict";Ft();Nt();Qe();lv="window",D0="document",P0="documentMode",A0="navigator",R0="history",M0="location",k0="console",F0="performance",fv="JSON",N0="crypto",U0="msCrypto",L0="ReactNative",Il="msie",Tl="trident/",dv="XMLHttpRequest",Sl=null,El=null,pv=!1,Qi=null,Cl=null});function O0(e,t){return function(){var n=arguments,r=kl(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function H0(){var e=je("Microsoft");return e&&(Bs=e.ApplicationInsights),Bs}function kl(e){var t=Bs;return!t&&e.disableDbgExt!==!0&&(t=Bs||H0()),t?t.ChromeDbgExt:null}function mv(e){if(!Hs){Hs={};for(var t=0;t<Ml.length;t++)Hs[Ml[t]]=O0(Ml[t],e)}return Hs}var Ml,Bs,Hs,Fl=ue(()=>{"use strict";Yt();Ml=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Bs=null});function hv(e){return e?'"'+e.replace(/\"/g,De)+'"':De}function yv(e,t){var n=oa();if(n){var r="log";n[e]&&(r=e),Se(n[r])&&n[r](t)}}function ca(e,t){return(e||{}).logger||new Zt(t)}function V0(e){return e||new Zt}function We(e,t,n,r,i,o){o===void 0&&(o=!1),(e||new Zt).throwInternal(t,n,r,i,o)}function Nl(e,t){V0(e).warnToConsole(t)}var B0,z0,q0,j0,W0,ei,Zt,gr=ue(()=>{"use strict";Yt();mt();Qe();Fl();Nt();B0="AI (Internal): ",z0="AI: ",q0="AITR_",j0="errorToConsole",W0="warnToConsole";ei=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=t,o.message=(r?z0:B0)+t;var a=De;Yr()&&(a=Ji().stringify(i));var s=(n?" message:"+hv(n):De)+(i?" props:"+hv(a):De);o.message+=s}return e.dataType="MessageData",e}();Zt=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Ce(e,this,function(i){de(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(u,c,l,d,f){f===void 0&&(f=!1);var p=new ei(c,l,f,d);if(i.enableDebugExceptions())throw ze(p);var g=u===1?j0:W0;if(_e(p.message))s("throw"+(u===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(f){var v=+p.messageId;!r[v]&&m>=u&&(i[g](p.message),r[v]=!0)}else m>=u&&i[g](p.message);i.logInternalMessage(u,p)}},i.warnToConsole=function(u){yv("warn",u),s("warning",u)},i.errorToConsole=function(u){yv("error",u),s("error",u)},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(u,c){if(!a()){var l=!0,d=q0+c.messageId;if(r[d]?l=!1:r[d]=!0,l&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++,s(u===1?"error":"warn",c)),n===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",p=new ei(23,f,!1);i.queue.push(p),u===1?i.errorToConsole(f):i.warnToConsole(f)}}};function o(u,c){var l=t[u];return de(l)?c:l}function a(){return n>=i.maxInternalMessageLimit()}function s(u,c){var l=kl(t);l&&l.diagLog&&l.diagLog(u,c)}})}return e}()});function Ge(e,t,n,r,i){if(e){var o=e;if(Se(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Ul);try{if(a=o.create(t(),r,i),a){if(s&&a.setCtx&&(a.setCtx(ti.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(ti.ChildrenContextKey);u||(u=[],s.setCtx(ti.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Ul,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(Ul,s)}}}return n()}function Ll(){return K0}var Zi,K0,ti,la,Ul,fa=ue(()=>{"use strict";mt();Qe();Zi="ctx",K0=null,ti=function(){function e(t,n,r){var i=this,o=!1;if(i.start=at(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Se(n)){var a;o=Wt(i,"payload",function(){return!a&&Se(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===e.ParentContextKey||s===e.ChildrenContextKey?i[s]:(i[Zi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===e.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===e.ChildrenContextKey)i[s]=u;else{var c=i[Zi]=i[Zi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(e.ChildrenContextKey);if(he(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=at()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&Se(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),la=function(){function e(t){this.ctx={},Ce(e,this,function(n){n.create=function(r,i,o){return new ti(r,i,o)},n.fire=function(r){r&&(r.complete(),t&&Se(t.perfEvent)&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[Zi]=n[Zi]||{};o[r]=i}},n.getCtx=function(r){return(n[Zi]||{})[r]}})}return e}(),Ul="CoreUtils.doPerf"});function wv(e){e<0&&(e>>>=0),da=123456789+e&mr,pa=987654321-e&mr,bv=!0}function Sv(){try{var e=at()&2147483647;wv((Math.random()*xv^e)+e)}catch{}}function ni(e){return e>0?Math.floor(ln()/mr*(e+1))>>>0:0}function ln(e){var t=0,n=aa()||sa();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&mr),t===0&&cn()&&(bv||Sv(),t=va()&mr),t===0&&(t=Math.floor(xv*Math.random()|0)),e||(t>>>=0),t}function zs(e){e?wv(e):Sv()}function va(e){pa=36969*(pa&65535)+(pa>>16)&mr,da=18e3*(da&65535)+(da>>16)&mr;var t=(pa<<16)+(da&65535)>>>0&mr|0;return e||(t>>>=0),t}function hr(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ln()>>>0,r=0,i=De;i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(ln()<<2&4294967295|n&3)>>>0,r=0);return i}var xv,mr,bv,da,pa,qs=ue(()=>{"use strict";Yt();Qe();Nt();xv=4294967296,mr=4294967295,bv=!1,da=123456789,pa=987654321});function Q0(e,t,n){if(Ev)try{return Ev(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function Iv(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function $0(e,t){var n=t[e.id];if(!n){n={};try{Iv(t)&&(Q0(t,e.id,n)||(t[e.id]=n))}catch{}}return n}function fn(e,t){return t===void 0&&(t=!1),jr(e+X0+++(t?"."+Cv:"")+G0)}function js(e){var t={id:fn("_aiData-"+(e||"")+"."+Cv),accept:function(n){return Iv(n)},get:function(n,r,i,o){var a=n[t.id];return a?a[jr(r)]:(o&&(a=$0(t,n),a[jr(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var Ev,Cv,G0,X0,ga=ue(()=>{"use strict";Ft();Qe();qs();Ev=Ni,Cv="2.8.4",G0="."+hr(6),X0=0});function J0(e,t){var n=Gn[yr]||Ks[yr];return n||(n=Gn[yr]=Gn(e,t),Ks[yr]=n),n}function Vs(e){return e?e.isEnabled():!0}function Y0(e){var t=e.cookieCfg=e.cookieCfg||{};if(st(t,"domain",e.cookieDomain,ll,de),st(t,"path",e.cookiePath||"/",null,de),de(t[Bl])){var n=void 0;_e(e[Dv])||(n=!e[Dv]),_e(e[Pv])||(n=!e[Pv]),t[Bl]=n}return t}function xr(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[yr]?n=r[yr]:n=Gn(t)}return n||(n=J0(t,(e||{}).logger)),n}function Gn(e,t){var n=Y0(e||Ks),r=n.path||"/",i=n.domain,o=n[Bl]!==!1,a={isEnabled:function(){var s=o&&dn(t),u=Ks[yr];return s&&u&&a!==u&&(s=Vs(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,d){var f=!1;if(Vs(a)){var p={},g=Ue(u||De),m=g.indexOf(";");if(m!==-1&&(g=Ue(u.substring(0,m)),p=Nv(u.substring(m+1))),st(p,"domain",l||i,Ki,_e),!de(c)){var v=cn();if(_e(p[Ol])){var h=at(),x=h+c*1e3;if(x>0){var E=new Date;E.setTime(x),st(p,Ol,Mv(E,v?Tv:_v)||Mv(E,v?Tv:_v)||De,Ki)}}v||st(p,"max-age",De+c,null,_e)}var _=Jr();_&&_.protocol==="https:"&&(st(p,"secure",null,null,_e),Hl===null&&(Hl=!eo((Vt()||{}).userAgent)),Hl&&st(p,"SameSite","None",null,_e)),st(p,"path",d||r,null,_e);var y=n.setCookie||Fv;y(s,kv(g,p)),f=!0}return f},get:function(s){var u=De;return Vs(a)&&(u=(n.getCookie||Z0)(s)),u},del:function(s,u){var c=!1;return Vs(a)&&(c=a.purge(s,u)),c},purge:function(s,u){var c,l=!1;if(dn(t)){var d=(c={},c.path=u||"/",c[Ol]="Thu, 01 Jan 1970 00:00:01 GMT",c);cn()||(d["max-age"]="0");var f=n.delCookie||Fv;f(s,kv(De,d)),l=!0}return l}};return a[yr]=a,a}function dn(e){if(Ws===null){Ws=!1;try{var t=ma||{};Ws=t[zl]!==void 0}catch(n){We(e,2,68,"Cannot access document.cookie - "+Xr(n),{exception:ze(n)})}}return Ws}function Nv(e){var t={};if(e&&e.length){var n=Ue(e).split(";");J(n,function(r){if(r=Ue(r||De),r){var i=r.indexOf("=");i===-1?t[r]=null:t[Ue(r.substring(0,i))]=Ue(r.substring(i+1))}})}return t}function Mv(e,t){return Se(e[t])?e[t]():null}function kv(e,t){var n=e||De;return Ne(t,function(r,i){n+="; "+r+(de(i)?De:"="+i)}),n}function Z0(e){var t=De;if(ma){var n=ma[zl]||De;Av!==n&&(Rv=Nv(n),Av=n),t=Ue(Rv[e]||De)}return t}function Fv(e,t){ma&&(ma[zl]=e+"="+t)}function eo(e){return qe(e)?!!(Xe(e,"CPU iPhone OS 12")||Xe(e,"iPad; CPU OS 12")||Xe(e,"Macintosh; Intel Mac OS X 10_14")&&Xe(e,"Version/")&&Xe(e,"Safari")||Xe(e,"Macintosh; Intel Mac OS X 10_14")&&Wr(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Xe(e,"Chrome/5")||Xe(e,"Chrome/6")||Xe(e,"UnrealEngine")&&!Xe(e,"Chrome")||Xe(e,"UCBrowser/12")||Xe(e,"UCBrowser/11")):!1}var Tv,_v,zl,Ol,Bl,Dv,Pv,yr,Ws,Hl,Av,ma,Rv,Ks,ql=ue(()=>{"use strict";Yt();Qe();Nt();gr();Tv="toGMTString",_v="toUTCString",zl="cookie",Ol="expires",Bl="enabled",Dv="isCookieUseDisabled",Pv="disableCookiesUsage",yr="_ckMgr",Ws=null,Hl=null,Av=null,ma=Ot(),Rv={},Ks={}});function Bv(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Qs(e,t){if(t){var n="";he(t)?(n="",J(t,function(i){i=Bv(i),i&&(i[0]!=="."&&(i="."+i),n+=i)})):n=Bv(t),n&&(n[0]!=="."&&(n="."+n),e=(e||"")+n)}var r=rb.exec(e||"")||[];return{type:r[1],ns:(r[2]||"").replace(eb,".").replace(tb,"").split(".").sort().join(".")}}function jl(e,t,n){var r=[],i=ya.get(e,Gs,{},!1),o=Qs(t,n);return Ne(i,function(a,s){J(s,function(u){(!o.type||o.type===u.evtName.type)&&(!o.ns||o.ns===o.ns)&&r.push({name:u.evtName.type+(u.evtName.ns?"."+u.evtName.ns:""),handler:u.handler})})}),r}function Xv(e,t,n){n===void 0&&(n=!0);var r=ya.get(e,Gs,{},n),i=r[t];return i||(i=r[t]=[]),i}function Qv(e,t,n,r){e&&t&&t.type&&(e[Hv]?e[Hv](t.type,n,r):e[Ov]&&e[Ov](qv+t.type,n))}function ib(e,t,n,r){var i=!1;return e&&t&&t.type&&n&&(e[Lv]?(e[Lv](t.type,n,r),i=!0):e[Uv]&&(e[Uv](qv+t.type,n),i=!0)),i}function zv(e,t,n,r){for(var i=t.length;i--;){var o=t[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(Qv(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function ob(e,t,n){if(t.type)zv(e,Xv(e,t.type),t,n);else{var r=ya.get(e,Gs,{});Ne(r,function(i,o){zv(e,o,t,n)}),Et(r).length===0&&ya.kill(e,Gs)}}function Xn(e,t){var n;return t?(he(t)?n=[e].concat(t):n=[e,t],n=Qs("xx",n).ns.split(".")):n=e,n}function ri(e,t,n,r,i){i===void 0&&(i=!1);var o=!1;if(e)try{var a=Qs(t,r);if(o=ib(e,a,n,i),o&&ya.accept(e)){var s={guid:nb++,evtName:a,handler:n,capture:i};Xv(e,a.type).push(s)}}catch{}return o}function ii(e,t,n,r,i){if(i===void 0&&(i=!1),e)try{var o=Qs(t,r),a=!1;ob(e,o,function(s){return o.ns&&!n||s.handler===n?(a=!0,!0):!1}),a||Qv(e,o,n,i)}catch{}}function no(e,t,n,r){return r===void 0&&(r=!1),ri(e,t,n,null,r)}function ro(e,t,n,r){r===void 0&&(r=!1),ii(e,t,n,null,r)}function wr(e,t,n){var r=!1,i=Tn();i&&(r=ri(i,e,t,n),r=ri(i.body,e,t,n)||r);var o=Ot();return o&&(r=ri(o,e,t,n)||r),r}function $s(e,t,n){var r=Tn();r&&(ii(r,e,t,n),ii(r.body,e,t,n));var i=Ot();i&&ii(i,e,t,n)}function to(e,t,n,r){var i=!1;return t&&e&&e.length>0&&J(e,function(o){o&&(!n||ot(n,o)===-1)&&(i=wr(o,t,r)||i)}),i}function Js(e,t,n,r){var i=!1;return t&&e&&he(e)&&(i=to(e,t,n,r),!i&&n&&n.length>0&&(i=to(e,t,null,r))),i}function br(e,t,n){e&&he(e)&&J(e,function(r){r&&$s(r,t,n)})}function oi(e,t,n){return Js([Vv,Wv,Xs],e,t,n)}function xa(e,t){br([Vv,Wv,Xs],e,t)}function io(e,t,n){function r(a){var s=Ot();e&&s&&s.visibilityState==="hidden"&&e(a)}var i=Xn(Kv,n),o=to([Xs],e,t,i);return(!t||ot(t,ha)===-1)&&(o=to([ha],r,t,i)||o),!o&&t&&(o=io(e,null,n)),o}function ba(e,t){var n=Xn(Kv,t);br([Xs],e,n),br([ha],null,n)}function oo(e,t,n){function r(a){var s=Ot();e&&s&&s.visibilityState==="visible"&&e(a)}var i=Xn(Gv,n),o=to([jv],e,t,i);return o=to([ha],r,t,i)||o,!o&&t&&(o=oo(e,null,n)),o}function wa(e,t){var n=Xn(Gv,t);br([jv],e,n),br([ha],null,n)}var qv,Uv,Lv,Ov,Hv,Gs,ha,Xs,jv,Wv,Vv,Kv,Gv,eb,tb,nb,ya,rb,Wl=ue(()=>{"use strict";ga();Yt();Qe();qv="on",Uv="attachEvent",Lv="addEventListener",Ov="detachEvent",Hv="removeEventListener",Gs="events",ha="visibilitychange",Xs="pagehide",jv="pageshow",Wv="unload",Vv="beforeunload",Kv=fn("aiEvtPageHide"),Gv=fn("aiEvtPageShow"),eb=/\.[\.]+/g,tb=/[\.]+$/,nb=1,ya=js("events"),rb=/^([^.]*)(?:\.(.+)|)/});function ao(){function e(){return ni(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ab,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}function so(){var e=$i();return e&&e.now?e.now():at()}function Sr(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=De,n,r=0;r<4;r++)n=ln(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(ln()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var ab,Vl,Kl=ue(()=>{"use strict";Yt();Qe();Wl();qs();Nt();ab=/[xy]/g,Vl={Attach:no,AttachEvent:no,Detach:ro,DetachEvent:ro}});function Qn(e,t,n){return e&&e.length===t&&e!==n?!!e.match(/^[\da-f]*$/):!1}function Jv(e,t,n){return Qn(e,t)?e:n}function Yv(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function Ql(e,t,n,r){return{version:Qn(r,2,Xl)?r:Gl,traceId:uo(e)?e:Sr(),spanId:co(t)?t:Sr().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function Sa(e){if(!e||(he(e)&&(e=e[0]||""),!e||!qe(e)||e.length>8192))return null;var t=sb.exec(Ue(e));return!t||t[1]===Xl||t[2]===Ys||t[3]===Zs?null:{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}function uo(e){return Qn(e,32,Ys)}function co(e){return Qn(e,16,Zs)}function eu(e){return!(!e||!Qn(e.version,2,Xl)||!Qn(e.traceId,32,Ys)||!Qn(e.spanId,16,Zs)||!Qn(Yv(e.traceFlags),2))}function $l(e){return eu(e)?(e.traceFlags&$v)===$v:!1}function Jl(e){if(e){var t=Yv(e.traceFlags);Qn(t,2)||(t="01");var n=e.version||Gl;return n!=="00"&&n!=="ff"&&(n=Gl),"".concat(n,"-").concat(Jv(e.traceId,32,Ys),"-").concat(Jv(e.spanId,16,Zs),"-").concat(t)}return""}function Yl(){var e="traceparent",t=Sa(Al(e));return t||(t=Sa(Rl(e))),t}var sb,Gl,Xl,Ys,Zs,$v,Zl=ue(()=>{"use strict";Kl();Yt();Qe();sb=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,Gl="00",Xl="ff",Ys="00000000000000000000000000000000",Zs="0000000000000000",$v=1});function $n(e){return ub.get(e,"state",{},!0)}function tu(e,t){for(var n=[],r=null,i=e.getNext(),o;i;){var a=i.getPlugin();if(a){r&&Se(r[Jo])&&Se(a[Cs])&&r[Jo](a);var s=!1;Se(a[zn])?s=a[zn]():(o=$n(a),s=o[zn]),s||n.push(a),r=a,i=i.getNext()}}J(n,function(u){var c=e.core();u.initialize(e.getCfg(),c,t,e.getNext()),o=$n(u),!u[sn]&&!o[sn]&&(o[sn]=c),o[zn]=!0,delete o[$t]})}function nu(e){return e.sort(function(t,n){var r=0;if(n){var i=Se(n[Cs]);Se(t[Cs])?r=i?t[rl]-n[rl]:1:i&&(r=-1)}else r=t?1:-1;return r})}function Zv(e){var t={};return{getName:function(){return t.name},setName:function(n){e&&e.setName(n),t.name=n},getTraceId:function(){return t.traceId},setTraceId:function(n){e&&e.setTraceId(n),uo(n)&&(t.traceId=n)},getSpanId:function(){return t.spanId},setSpanId:function(n){e&&e.setSpanId(n),co(n)&&(t.spanId=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}var ub,ru=ue(()=>{"use strict";Qe();Nt();ga();Zl();ub=js("plugin")});function lb(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return _n([n],t.config||{},t)}function ef(e,t,n,r){var i=null,o=[];r!==null&&(i=r?lb(e,n,r):e);var a={_next:u,ctx:{core:function(){return n},diagLog:function(){return ca(n,t)},getCfg:function(){return t},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(f){i=f},iterate:d,onComplete:s}};function s(f,p){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];f&&o.push({func:f,self:_e(p)?a.ctx:p,args:g})}function u(){var f=i;if(i=f?f.getNext():null,!f){var p=o;p&&p.length>0&&(J(p,function(g){try{g.func.call(g.self,g.args)}catch(m){We(n.logger,2,73,"Unexpected Exception during onComplete - "+ze(m))}}),o=[])}return f}function c(f,p,g){p===void 0&&(p={}),g===void 0&&(g=0);var m;if(t){var v=t.extensionConfig;v&&f&&(m=v[f])}if(!m)m=p;else if(vt(p)&&g!==0){var h=Gi(!0,p,m);t&&g===2&&Ne(p,function(x){if(de(h[x])){var E=t[x];de(E)||(h[x]=E)}}),m=h}return m}function l(f,p,g){g===void 0&&(g=!1);var m,v=c(f,null);return v&&!de(v[p])?m=v[p]:t&&!de(t[p])&&(m=t[p]),de(m)?g:m}function d(f){for(var p;p=a._next();){var g=p.getPlugin();g&&f(g)}}return a}function Ht(e,t,n,r){var i=ef(e,t,n,r),o=i.ctx;function a(u){var c=i._next();return c&&c.processTelemetry(u,o),!c}function s(u,c){return u===void 0&&(u=null),he(u)&&(u=_n(u,t,n,c)),Ht(u||o.getNext(),t,n,c)}return o.processNext=a,o.createNew=s,o}function lo(e,t,n){var r=t.config||{},i=ef(e,r,t,n),o=i.ctx;function a(u){var c=i._next();return c&&c.unload(o,u),!c}function s(u,c){return u===void 0&&(u=null),he(u)&&(u=_n(u,r,t,c)),lo(u||o.getNext(),t,c)}return o.processNext=a,o.createNew=s,o}function Ea(e,t,n){var r=t.config||{},i=ef(e,r,t,n),o=i.ctx;function a(u){return o.iterate(function(c){Se(c.update)&&c.update(o,u)})}function s(u,c){return u===void 0&&(u=null),he(u)&&(u=_n(u,r,t,c)),Ea(u||o.getNext(),t,c)}return o.processNext=a,o.createNew=s,o}function _n(e,t,n,r){var i=null,o=!r;if(he(e)&&e.length>0){var a=null;J(e,function(s){if(!o&&r===s&&(o=!0),o&&s&&Se(s.processTelemetry)){var u=fb(s,t,n);i||(i=u),a&&a._setNext(u),a=u}})}return r&&!i?_n([r],t,n):i}function fb(e,t,n){var r=null,i=Se(e.processTelemetry),o=Se(e.setNextPlugin),a;e?a=e.identifier+"-"+e.priority+"-"+ng++:a="Unknown-0-"+ng++;var s={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:l,unload:d,update:f,_id:a,_setNext:function(p){r=p}};function u(){var p;return e&&Se(e[tg])&&(p=e[tg]()),p||(p=Ht(s,t,n)),p}function c(p,g,m,v,h){var x=!1,E=e?e.identifier:cb,_=p[eg];return _||(_=p[eg]={}),p.setNext(r),e&&Ge(p[sn](),function(){return E+":"+m},function(){_[a]=!0;try{var y=r?r._id:De;y&&(_[y]=!1),x=g(p)}catch(ne){var K=r?_[r._id]:!0;K&&(x=!0),(!r||!K)&&We(p.diagLog(),1,73,"Plugin ["+E+"] failed during "+m+" - "+ze(ne)+", run flags: "+ze(_))}},v,h),x}function l(p,g){g=g||u();function m(v){if(!e||!i)return!1;var h=$n(e);return h.teardown||h[Yo]?!1:(o&&e.setNextPlugin(r),e.processTelemetry(p,v),!0)}c(g,m,"processTelemetry",function(){return{item:p}},!p.sync)||g.processNext(p)}function d(p,g){function m(){var v=!1;if(e){var h=$n(e),x=e[sn]||h.core;e&&(!x||x===p[sn]())&&!h[$t]&&(h[sn]=null,h[$t]=!0,h[zn]=!1,e[$t]&&e[$t](p,g)===!0&&(v=!0))}return v}c(p,m,"unload",function(){},g.isAsync)||p.processNext(g)}function f(p,g){function m(){var v=!1;if(e){var h=$n(e),x=e[sn]||h.core;e&&(!x||x===p[sn]())&&!h[$t]&&e[il]&&e[il](p,g)===!0&&(v=!0)}return v}c(p,m,"update",function(){},!1)||p.processNext(g)}return Lt(s)}var cb,eg,tg,ng,tf,Ca=ue(()=>{"use strict";gr();Qe();fa();Yt();Nt();ru();cb="TelemetryPluginChain",eg="_hasRun",tg="_getTelCtx",ng=0;tf=function(){function e(t,n,r,i){var o=this,a=Ht(t,n,r,i);Qr(o,a,Et(a))}return e}()});var rg,iu,nf=ue(()=>{"use strict";rg="iKey",iu="extensionConfig"});function ig(e,t,n,r){t&&he(t)&&t.length>0&&(t=t.sort(function(i,o){return i.priority-o.priority}),J(t,function(i){i.priority<Ia&&gt(db+i.identifier)}),e.push({queue:Lt(t),chain:_n(t,n,r)}))}function og(e,t){var n;function r(){return Ht(null,t.config,t,null)}function i(l,d,f,p){var g=l?l.length+1:1;function m(){g--,g===0&&(p&&p(),p=null)}g>0&&J(l,function(v){if(v&&v.queue.length>0){var h=v.chain,x=d.createNew(h);x.onComplete(m),f(x)}else g--}),m()}function o(l,d){var f=d||{reason:0};return i(e,l,function(p){p[Br](f)},function(){l[Br](f)}),!0}function a(l,d){var f=d||{reason:0,isAsync:!1};return i(e,l,function(p){p[Br](f)},function(){l[Br](f),u=!1}),!0}function s(l){var d=null;return e&&e.length>0&&J(e,function(f){if(f&&f.queue.length>0&&(J(f.queue,function(p){if(p.identifier===l)return d=p,-1}),d))return-1}),d}var u=!1,c=(n={identifier:"ChannelControllerPlugin",priority:Ia,initialize:function(l,d,f,p){u=!0,J(e,function(g){g&&g.queue.length>0&&tu(Ht(g.chain,l,d),f)})},isInitialized:function(){return u},processTelemetry:function(l,d){i(e,d||r(),function(f){f[Br](l)},function(){d[Br](l)})},update:o},n[Ts]=function(){i(e,r(),function(l){l.iterate(function(d){d[Ts]&&d[Ts]()})},null)},n[Is]=function(){i(e,r(),function(l){l.iterate(function(d){d[Is]&&d[Is]()})},null)},n[$t]=a,n.getChannel=s,n.flush=function(l,d,f,p){var g=1,m=!1,v=null;p=p||5e3;function h(){g--,m&&g===0&&(v&&(clearTimeout(v),v=null),d&&d(m),d=null)}return i(e,r(),function(x){x.iterate(function(E){if(E.flush){g++;var _=!1;E.flush(l,function(){_=!0,h()},f)||_||(l&&v==null?v=setTimeout(function(){v=null,h()},p):h())}})},function(){m=!0,h()}),!0},n._setQueue=function(l){e=l},n);return c}function ag(e,t,n,r){var i=[];if(e&&J(e,function(a){return ig(i,a,n,r)}),t){var o=[];J(t,function(a){a.priority>Ia&&o.push(a)}),ig(i,o,n,r)}return i}var Ia,db,sg=ue(()=>{"use strict";Qe();Nt();Ca();ru();Ia=500,db="Channel has invalid priority - "});function ai(){var e=[];function t(r){r&&e.push(r)}function n(r,i){J(e,function(o){try{o(r,i)}catch(a){We(r.diagLog(),2,73,"Unexpected error calling unload handler - "+ze(a))}}),e=[]}return{add:t,run:n}}var ou=ue(()=>{"use strict";gr();Yt();Qe()});var Er,si,rf=ue(()=>{"use strict";mt();Ca();Qe();nf();ou();Nt();Er="getPlugin",si=function(){function e(){var t=this,n,r,i,o,a;c(),Ce(e,t,function(l){l.initialize=function(d,f,p,g){u(d,f,g),n=!0},l.teardown=function(d,f){var p=l.core;if(!p||d&&p!==d.core())return;var g,m=!1,v=d||lo(null,p,i&&i[Er]?i[Er]():i),h=f||{reason:0,isAsync:!1};function x(){m||(m=!0,o.run(v,f),J(a,function(E){E.rm()}),a=[],g===!0&&v.processNext(h),c())}return!l[Oi]||l[Oi](v,h,x)!==!0?x():g=!0,g},l.update=function(d,f){var p=l.core;if(!p||d&&p!==d.core())return;var g,m=!1,v=d||Ea(null,p,i&&i[Er]?i[Er]():i),h=f||{reason:0};function x(){m||(m=!0,u(v.getCfg(),v.core(),v.getNext()))}return!l._doUpdate||l._doUpdate(v,h,x)!==!0?x():g=!0,g},l._addHook=function(d){d&&(he(d)?a=a.concat(d):a.push(d))},pr(l,"_addUnloadCb",function(){return o},"add")}),t.diagLog=function(l){return s(l).diagLog()},t[zn]=function(){return n},t.setInitialized=function(l){n=l},t[Jo]=function(l){i=l},t.processNext=function(l,d){d?d.processNext(l):i&&Se(i.processTelemetry)&&i.processTelemetry(l,null)},t._getTelCtx=s;function s(l){l===void 0&&(l=null);var d=l;if(!d){var f=r||Ht(null,{},t.core);i&&i[Er]?d=f.createNew(null,i[Er]):d=f.createNew(null,i)}return d}function u(l,d,f){l&&st(l,iu,[],null,de),!f&&d&&(f=d.getProcessTelContext().getNext());var p=i;i&&i[Er]&&(p=i[Er]()),t.core=d,r=Ht(f,l,d,p)}function c(){n=!1,t.core=null,r=null,i=null,a=[],o=ai()}}return e}()});var ug,cg=ue(()=>{"use strict";Ft();mt();rf();gr();Yt();Qe();Nt();ug=function(e){an(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Ce(t,n,function(a,s){a.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i.push(c);var l={remove:function(){J(i,function(d,f){if(d.id===c.id)return i.splice(f,1),-1})}};return l},a.processTelemetry=function(u,c){for(var l=!1,d=i.length,f=0;f<d;++f){var p=i[f];if(p)try{if(p.fn.apply(null,[u])===!1){l=!0;break}}catch(g){We(c.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Xr(g),{exception:ze(g)},!0)}}l||a.processNext(u,c)},a[Oi]=function(){o()}});function o(){r=0,i=[]}return n}return t}(si)});function gb(e,t){return new la(t)}function mb(e,t,n){var r=[],i={};return J(n,function(o){(de(o)||de(o.initialize))&&gt(pg);var a=o.priority,s=o.identifier;o&&a&&(de(i[a])?i[a]=s:Nl(e,"Two extensions have same priority #"+a+" - "+i[a]+", "+s)),(!a||a<t)&&r.push(o)}),{all:n,core:r}}function dg(e,t){var n=!1;return J(t,function(r){if(r===e)return n=!0,-1}),n}function hb(){var e;return Cn((e={},e[zr]=function(t){},e[qr]=function(t){},e[Hi]=function(t){},e[Bi]=function(t,n){},e[zi]=function(t,n){},e))}var pg,lg,fg,pb,vb,ui,of=ue(()=>{"use strict";Ft();Ft();mt();Ca();ru();fa();ql();Qe();nf();gr();Fl();sg();cg();ga();ou();Nt();pg="Plugins must provide initialize method",lg="_notificationManager",fg="SDK is still unloading...",pb="SDK is not initialized",vb={loggingLevelConsole:1};ui=function(){function e(){var t,n,r,i,o,a,s,u,c,l,d,f,p,g,m,v,h,x,E,_=0;Ce(e,this,function(y){K(),y.isInitialized=function(){return t},y.initialize=function(C,B,Q,G){p&&gt(fg),y.isInitialized()&&gt("Core should not be initialized more than once"),(!C||de(C.instrumentationKey))&&gt("Please provide instrumentation key"),r=G,y[lg]=G,y.config=C||{},b(C),I(C),C.extensions=de(C.extensions)?[]:C.extensions,F(C),Q&&(y.logger=Q),u=[],u.push.apply(u,Es(Es([],B,!1),C.extensions,!1)),d=(C||{}).channels,P(C,null),(!f||f.length===0)&&gt("No channels available"),t=!0,y.releaseQueue()},y.getTransmissionControls=function(){var C=[];return f&&J(f,function(B){C.push(B.queue)}),Lt(C)},y.track=function(C){st(C,rg,y.config.instrumentationKey,null,Vi),st(C,"time",Jt(new Date),null,Vi),st(C,"ver","4.0",null,de),!p&&y.isInitialized()?ne().processNext(C):n.push(C)},y.getProcessTelContext=ne,y.getNotifyMgr=function(){return r||(r=hb(),y[lg]=r),r},y[zr]=function(C){r&&r[zr](C)},y[qr]=function(C){r&&r[qr](C)},y.getCookieMgr=function(){return a||(a=Gn(y.config,y.logger)),a},y.setCookieMgr=function(C){a=C},y.getPerfMgr=function(){return!i&&!o&&y.config&&y.config.enablePerfMgr&&Se(y.config.createPerfMgr)&&(o=y.config.createPerfMgr(y,y.getNotifyMgr())),i||o||Ll()},y.setPerfMgr=function(C){i=C},y.eventCnt=function(){return n.length},y.releaseQueue=function(){if(t&&n.length>0){var C=n;n=[],J(C,function(B){ne().processNext(B)})}},y.pollInternalLogs=function(C){m=C||null;var B=y.config.diagnosticLogInterval;return(!B||!(B>0))&&(B=1e4),_&&clearInterval(_),_=setInterval(function(){Z()},B),_},y.stopPollingInternalLogs=function(){_&&(clearInterval(_),_=0,Z())},Qr(y,function(){return g},["addTelemetryInitializer"]),y.unload=function(C,B,Q){C===void 0&&(C=!0),t||gt(pb),p&&gt(fg);var G={reason:50,isAsync:C,flushComplete:!1},fe=lo(q(),y);fe.onComplete(function(){K(),B&&B(G)},y);function T(A){G.flushComplete=A,p=!0,h.run(fe,G),y.stopPollingInternalLogs(),fe.processNext(G)}le(C,T,6,Q)||T(!1)},y.getPlugin=Y,y.addPlugin=function(C,B,Q,G){if(!C){G&&G(!1),X(pg);return}var fe=Y(C.identifier);if(fe&&!B){G&&G(!1),X("Plugin ["+C.identifier+"] is already loaded!");return}var T={reason:16};function A($){u.push(C),T.added=[C],P(y.config,T),G&&G(!0)}if(fe){var U=[fe.plugin],z={reason:2,isAsync:!!Q};ae(U,z,function($){$?(T.removed=U,T.reason|=32,A(!0)):G&&G(!1)})}else A(!1)},y.evtNamespace=function(){return v},y.flush=le,y.getTraceCtx=function(C){return E||(E=Zv()),E},y.setTraceCtx=function(C){E=C||null},pr(y,"addUnloadCb",function(){return h},"add");function K(){t=!1,y.config=Gi(!0,{},vb),y.logger=new Zt(y.config),y._extensions=[],g=new ug,n=[],r=null,i=null,o=null,a=null,s=null,c=null,u=[],l=null,d=null,f=null,p=!1,m=null,v=fn("AIBaseCore",!0),h=ai(),E=null}function ne(){return Ht(q(),y.config,y)}function P(C,B){var Q=mb(y.logger,Ia,u);c=Q.core,s=null;var G=Q.all;if(f=Lt(ag(d,G,C,y)),l){var fe=ot(G,l);fe!==-1&&G.splice(fe,1),fe=ot(c,l),fe!==-1&&c.splice(fe,1),l._setQueue(f)}else l=og(f,y);G.push(l),c.push(l),y._extensions=nu(G),l.initialize(C,y,G),tu(ne(),G),y._extensions=Lt(nu(c||[])).slice(),B&&H(B)}function Y(C){var B=null,Q=null;return J(y._extensions,function(G){if(G.identifier===C&&G!==l&&G!==g)return Q=G,-1}),!Q&&l&&(Q=l.getChannel(C)),Q&&(B={plugin:Q,setEnabled:function(G){$n(Q)[Yo]=!G},isEnabled:function(){var G=$n(Q);return!G[$t]&&!G[Yo]},remove:function(G,fe){G===void 0&&(G=!0);var T=[Q],A={reason:1,isAsync:G};ae(T,A,function(U){U&&P(y.config,{reason:32,removed:T}),fe&&fe(U)})}}),B}function q(){if(!s){var C=(c||[]).slice();ot(C,g)===-1&&C.push(g),s=_n(nu(C),y.config,y)}return s}function ae(C,B,Q){if(C&&C.length>0){var G=_n(C,y.config,y),fe=lo(G,y);fe.onComplete(function(){var T=!1,A=[];J(u,function(z,$){dg(z,C)?T=!0:A.push(z)}),u=A;var U=[];d&&(J(d,function(z,$){var oe=[];J(z,function(re){dg(re,C)?T=!0:oe.push(re)}),U.push(oe)}),d=U),Q&&Q(T)}),fe.processNext(B)}else Q(!1)}function Z(){var C=y.logger?y.logger.queue:[];C&&(J(C,function(B){var Q={name:m||"InternalMessageId: "+B.messageId,iKey:y.config.instrumentationKey,time:Jt(new Date),baseType:ei.dataType,baseData:{message:B.message}};y.track(Q)}),C.length=0)}function le(C,B,Q,G){return l?l.flush(C,B,Q||6,G):(B&&B(!1),!0)}function b(C){C.disableDbgExt===!0&&x&&(r[qr](x),x=null),r&&!x&&C.disableDbgExt!==!0&&(x=mv(C),r[zr](x))}function I(C){!C.enablePerfMgr&&o&&(o=null),C.enablePerfMgr&&st(y.config,"createPerfMgr",gb)}function F(C){var B=ea(C,iu);B.NotificationManager=r}function H(C){var B=Ea(q(),y);(!y._updateHook||y._updateHook(B,C)!==!0)&&B.processNext(C)}function X(C){var B=y.logger;B?We(B,2,73,C):gt(C)}})}return e}()});function au(e,t,n,r){J(e,function(i){if(i&&i[t])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var Ta,af=ue(()=>{"use strict";mt();Qe();Nt();Ta=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Ce(e,this,function(r){r[zr]=function(i){r.listeners.push(i)},r[qr]=function(i){for(var o=ot(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=ot(r.listeners,i)},r[Hi]=function(i){au(r.listeners,Hi,!0,function(o){o[Hi](i)})},r[Bi]=function(i,o){au(r.listeners,Bi,!0,function(a){a[Bi](i,o)})},r[zi]=function(i,o){au(r.listeners,zi,o,function(a){a[zi](i,o)})},r[Zo]=function(i){i&&(n||!i.isChildEvt())&&au(r.listeners,Zo,!1,function(o){i.isAsync?setTimeout(function(){return o[Zo](i)},0):o[Zo](i)})}})}return e}()});var _a,vg=ue(()=>{"use strict";Ft();of();af();fa();gr();mt();Qe();_a=function(e){an(t,e);function t(){var n=e.call(this)||this;return Ce(t,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Zt(s),l||new Ta(s))},r.track=function(s){Ge(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),gt("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)};function o(s){de(s.name)&&(a(s),gt("telemetry name required"))}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],2)}}),n}return t}(ui)});var sf,Da,gg=ue(()=>{"use strict";Ps();sf=Ct({CRITICAL:1,WARNING:2}),Da=Ct({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var Jn=ue(()=>{"use strict";Bp();nv();vg();of();rf();qs();Kl();Qe();Ps();Wl();Yt();Ft();af();fa();gr();Ca();gg();ql();ga();ou();Zl()});var mg,hg,yg,xg,bg,wg,Sg=ue(()=>{"use strict";Ft();Jn();mg=Ct({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),hg=Ct({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),yg=Ct({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),xg=Ct({Normal:1,Critical:2}),bg=Ct({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),wg=Lt(Ss(Ss({},Da),Ct({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function nt(e){return!(e===""||de(e))}function Aa(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function lf(){return uf===null&&(uf=!_e(Uint8Array)&&!Sb()&&!Kn()),uf}function Ra(e){return!!(e&&Ut(e)&&e>=1&&e<=4)}function Ma(e,t,n){if(!t&&!nt(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||he(t))t={value:t};else if(r==="object"&&!t.hasOwnProperty("value"))t={value:n?JSON.stringify(t):t};else if(de(t.value)||t.value===""||!qe(t.value)&&!Ut(t.value)&&!qn(t.value)&&!he(t.value))return null;if(he(t.value)&&!uu(t.value))return null;if(!de(t.kind)){if(he(t.value)||!fo(t.kind))return null;t.value=t.value.toString()}return t}function ka(e,t,n){var r=-1;if(!_e(e))if(t>0&&(t===32?r=8192:t<=13&&(r=t<<5)),wb(n))r===-1&&(r=0),r|=n;else{var i=bb[pn(e)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function ff(){xr(null).setEnabled(!1)}function df(e,t,n){dn(null)&&xr(null).set(e,t,n*86400,null,"/")}function pf(e){dn(null)&&xr(null).del(e)}function vf(e){return dn(null)?gf(xr(null),e):""}function gf(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function mf(e){e===void 0&&(e="D");var t=ao();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,"")),t}function Cr(e,t,n,r,i){var o={},a=!1,s=0,u=arguments.length,c=Object[tt],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(a=l[0],s++);s<u;s++){var e=l[s];Ne(e,function(f,p){a&&p&&vt(p)?he(p)?(o[f]=o[f]||[],J(p,function(g,m){g&&vt(g)?o[f][m]=Cr(!0,o[f][m],g):o[f][m]=g})):o[f]=Cr(!0,o[f],p):o[f]=p})}return o}function fo(e){return e===0||e>0&&e<=13||e===32}function wb(e){return e>=0&&e<=9}function Sb(){var e=Vt();if(!_e(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function uu(e){return e.length>0}function po(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=It()}function pn(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===Ze&&(t=4,he(e)?(t=4096,e.length>0&&(t|=pn(e[0]))):In(e,"value")&&(t=8192|pn(e.value)))}return t}function cu(){return!!je("chrome")}function lu(e,t,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function a(u,c,l){try{u[c]=l}catch{}}var s=new XMLHttpRequest;return r&&a(s,yb,r),n&&a(s,Eg,n),s.open(e,t,!i),n&&a(s,Eg,n),!i&&o&&a(s,xb,o),s}var Yn,su,Zn,yb,Eg,xb,bb,uf,Pa,cf,It,Cg,Ig,Fa=ue(()=>{"use strict";Ft();Jn();su="3.2.3",Zn="1DS-Web-JS-"+su,yb="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Eg="withCredentials",xb="timeout",bb=(Yn={},Yn[0]=0,Yn[2]=6,Yn[1]=1,Yn[3]=7,Yn[4098]=6,Yn[4097]=1,Yn[4099]=7,Yn),uf=null,Pa=!!Ot(),cf=!!Tn();It=so;Cg={Version:su,FullVersionString:Zn,strUndefined:et,strObject:Ze,Undefined:et,arrForEach:J,arrIndexOf:ot,arrMap:Kr,arrReduce:Gr,objKeys:Et,toISOString:Jt,isReactNative:Kn,isString:qe,isNumber:Ut,isBoolean:qn,isFunction:Se,isArray:he,isObject:vt,strTrim:Ue,isDocumentObjectAvailable:Pa,isWindowObjectAvailable:cf,isValueAssigned:nt,getTenantId:Aa,isBeaconsSupported:vr,isUint8ArrayAvailable:lf,isLatency:Ra,sanitizeProperty:Ma,getISOString:Jt,useXDomainRequest:Zr,getCommonSchemaMetaData:ka,cookieAvailable:dn,disallowsSameSiteNone:eo,setCookie:df,deleteCookie:pf,getCookie:vf,createGuid:mf,extend:Cr,getTime:It,isValueKind:fo,isArrayValid:uu,objDefineAccessors:Wt,addPageUnloadEventListener:oi,setProcessTelemetryTimings:po,addEventHandler:wr,getFieldValueType:pn,strEndsWith:Wr,objForEachKey:Ne},Ig={_canUseCookies:void 0,isTypeof:qi,isUndefined:_e,isNullOrUndefined:de,hasOwnProperty:In,isFunction:Se,isObject:vt,isDate:Wi,isArray:he,isError:Vr,isString:qe,isNumber:Ut,isBoolean:qn,toISOString:Jt,arrForEach:J,arrIndexOf:ot,arrMap:Kr,arrReduce:Gr,strTrim:Ue,objCreate:Cn,objKeys:Et,objDefineAccessors:Wt,addEventHandler:wr,dateNow:at,isIE:cn,disableCookies:ff,newGuid:ao,perfNow:so,newId:hr,randomValue:ni,random32:ln,mwcRandomSeed:zs,mwcRandom32:va,generateW3CId:Sr}});var hf,yf,Eb,Tg,_g=ue(()=>{"use strict";Ft();Jn();Fa();mt();hf="version",yf="properties",Eb=function(e){an(t,e);function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",Ce(t,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new Zt({loggingLevelConsole:1})),r.initialize=function(o,a,s,u){Ge(r,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var c=o.propertyStorageOverride;if(c&&(!c.getProperty||!c.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&J(o.channels,function(f){f&&J(f,function(p){if(p.identifier&&p.version){var g=p.identifier+"="+p.version;r.pluginVersionStringArr.push(g)}})})}r.getWParam=function(){return typeof document<"u"?0:-1},a&&J(a,function(f){if(f&&f.identifier&&f.version){var p=f.identifier+"="+f.version;r.pluginVersionStringArr.push(p)}}),r.pluginVersionString=r.pluginVersionStringArr.join(";");try{i.initialize(o,a,s,u),r.pollInternalLogs("InternalLog")}catch(f){var l=r.logger,d=ze(f);d.indexOf("channels")!==-1&&(d+=`
 - Channels must be provided through config.channels only!`),l.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+d)}},function(){return{config:o,extensions:a,logger:s,notificationManager:u}})},r.track=function(o){Ge(r,function(){return"AppInsightsCore.track"},function(){var a=o;if(a){a.timings=a.timings||{},a.timings.trackStart=It(),Ra(a.latency)||(a.latency=1);var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=Zn;var u=a.baseData=a.baseData||{};u[yf]||(u[yf]={});var c=u[yf];c[hf]||(c[hf]=""),r.pluginVersionString!==""&&(c[hf]=r.pluginVersionString)}i.track(a)},function(){return{item:o}},!o.sync)}}),n}return t}(_a),Tg=Eb});var Cb,Dg,Pg=ue(()=>{"use strict";Ft();mt();Jn();Fa();Cb=function(e){an(t,e);function t(){var n=e.call(this)||this;return Ce(t,n,function(r,i){r.initialize=function(o,a,s,u){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),r.getWParam=function(){return Pa?0:-1};try{i.initialize(o,a,s,u)}catch(c){We(r.logger,1,514,"Initialization Failed: "+ze(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var a=o;if(a){var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=Zn}i.track(a)}}),n}return t}(ui),Dg=Cb});function Ib(e,t,n){return function(r){e[t]=r,n()}}var ci,Tb,Ir,xf=ue(()=>{"use strict";Jn();mt();ci=Se;Tb=function(){function e(t){var n=0,r=null,i=[];Ce(e,this,function(c){c.then=function(l,d){return new e(function(f,p){o(l,d,f,p)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,d,f){i.push(function(){var p;try{n===1?p=ci(c)?c(r):r:p=ci(l)?l(r):r,p instanceof e?p.then(d,f):n===2&&!ci(l)?f(p):d(p)}catch(g){f(g);return}}),n!==0&&a()}function a(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,d=c.length;l<d;++l)try{c[l]()}catch{}},0)}}function s(c){n===0&&(r=c,n=1,a())}function u(c){n===0&&(r=c,n=2,a())}(function(){if(!ci(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,u)}catch(l){u(l)}})()}return e.resolve=function(t){return t instanceof e?t:t&&ci(t.then)?new e(function(n,r){try{t.then(n,r)}catch(i){r(i)}}):new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(n,r){try{for(var i=[],o=0,a=0;a<t.length;a++){var s=t[a];s&&ci(s.then)?(o++,s.then(Ib(i,a,function(){--o===0&&n(i)}),r)):i[a]=s}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},e.race=function(t){return new e(function(n,r){if(!(!t||!t.length))try{for(var i=function(a){var s=t[a];s&&ci(s.then)?s.then(n,r):setTimeout(function(){n(s)},0)},o=0;o<t.length;o++)i(o)}catch(a){r(a)}})},e}(),Ir=Tb});function vo(){return new Date().getTime()}var _b,Ag,Na,li,bf,Db,Rg,Mg=ue(()=>{"use strict";xf();Jn();mt();_b=6e5,Ag=0,Na=[],li=[],bf=[];Db=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+Ag;Ag++,Ce(e,this,function(s){var u=null,c=0;s.scheduleEvent=function(d,f,p){var g=i+"."+c;c++,f&&(g+="-("+f+")");var m=g+"{"+r+"}";r++;var v={evt:null,tm:vo(),id:m,isRunning:!1,isAborted:!1};return u?v.evt=ne(v,u):v.evt=K(v),u=v,u.evt._schId=m,v.evt;function h(P){for(var Y=vo(),q=Y-_b,ae=P.length,Z=0;Z<ae;){var le=P[Z];if(le&&le.tm<q){var b=null;le.abort?(b="Aborting ["+le.id+"] due to Excessive runtime ("+(Y-le.tm)+" ms)",le.abort(b)):b="Removing ["+le.id+"] due to Excessive runtime ("+(Y-le.tm)+" ms)",a(b),P.splice(Z,1),ae--}else Z++}}function x(P,Y){var q=!1,ae=l(Na,P);if(ae||(ae=l(bf,P),q=!0),ae){ae.to&&(clearTimeout(ae.to),ae.to=null);var Z=vo()-ae.tm;Y?q?a("Timed out event ["+P+"] finally complete -- "+Z+" ms"):o("Promise ["+P+"] Complete -- "+Z+" ms"):(bf.push(ae),a("Event ["+P+"] Timed out and removed -- "+Z+" ms"))}else o("Failed to remove ["+P+"] from running queue");u&&u.id===P&&(u=null),h(Na),h(li),h(bf)}function E(P,Y){return function(q){return x(P,!0),Y&&Y(q),q}}function _(P,Y,q,ae){Y.then(function(Z){return Z instanceof Ir?(o("Event ["+P+"] returned a promise -- waiting"),_(P,Z,q,ae),Z):E(P,q)(Z)},E(P,ae))}function y(P,Y){var q=P.id;return new Ir(function(ae,Z){o("Event ["+q+"] Starting -- waited for "+(P.wTm||"--")+" ms"),P.isRunning=!0,P.abort=function(b){P.abort=null,P.isAborted=!0,x(q,!1),Z(new Error(b))};var le=Y(q);le instanceof Ir?(p&&(P.to=setTimeout(function(){x(q,!1),Z(new Error("Timed out after ["+p+"] ms"))},p)),_(q,le,function(b){o("Event ["+q+"] Resolving after "+(vo()-P.tm)+" ms"),ae(b)},Z)):(o("Promise ["+q+"] Auto completed as the start action did not return a promise"),ae())})}function K(P){var Y=vo();return P.wTm=Y-P.tm,P.tm=Y,P.isAborted?Ir.reject(new Error("["+g+"] was aborted")):(Na.push(P),y(P,d))}function ne(P,Y){var q=new Ir(function(ae,Z){var le=vo()-Y.tm,b=Y.id;o("["+g+"] is waiting for ["+b+":"+le+" ms] to complete before starting -- ["+li.length+"] waiting and ["+Na.length+"] running"),P.abort=function(I){P.abort=null,l(li,g),P.isAborted=!0,Z(new Error(I))},Y.evt.then(function(I){l(li,g),K(P).then(ae,Z)},function(I){l(li,g),K(P).then(ae,Z)})});return li.push(P),q}};function l(d,f){for(var p=0;p<d.length;p++)if(d[p].id===f)return d.splice(p,1)[0];return null}});function o(s){var u=on();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+s)}function a(s){n&&n.warnToConsole("ESPromiseScheduler["+i+"] "+s)}}return e.incomplete=function(){return Na},e.waitingToStart=function(){return li},e}(),Rg=Db});var kg,Fg=ue(()=>{"use strict";Jn();Fa();kg=function(){function e(t){var n=this,r={},i=[],o=[];t&&o.push(t);function a(l,d){var f,p=r[l];if(p&&(f=p[d]),!f&&f!==null){if(qe(l)&&qe(d))if(o.length>0){for(var g=0;g<o.length;g++)if(o[g].handleField(l,d)){f={canHandle:!0,fieldHandler:o[g]};break}}else i.length===0&&(f={canHandle:!0});if(!f&&f!==null){f=null;for(var g=0;g<i.length;g++)if(i[g].handleField(l,d)){f={canHandle:!0,handler:i[g],fieldHandler:null};break}}p||(p=r[l]={}),p[d]=f}return f}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,d){var f=a(l,d);return f?f.canHandle:!1},n.value=function(l,d,f,p){var g=a(l,d);if(g&&g.canHandle){if(!g||!g.canHandle)return null;if(g.handler)return g.handler.value(l,d,f,p);if(!qe(d)||de(f)||f==="")return null;var m=null,v=pn(f);if((v&8192)===8192){var h=v&-8193;if(m=f,!nt(m.value)||h!==1&&h!==2&&h!==3&&(h&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?m=u(l,d,f):v===4&&(m=u(l,d,p?JSON.stringify(f):f));if(m)return s(g,l,d,v,m,p)}return null},n.property=function(l,d,f,p){var g=a(l,d);if(!g||!g.canHandle||!qe(d)||de(f)||!nt(f.value))return null;var m=pn(f.value);return m===0?null:s(g,l,d,m,f,p)};function s(l,d,f,p,g,m){if(l.handler)return l.handler.property(d,f,g,m);if(!de(g.kind)){if((p&4096)===4096||!fo(g.kind))return null;g.value=g.value.toString()}return c(l.fieldHandler,d,f,p,g)}function u(l,d,f){return nt(f)?{value:f}:null}function c(l,d,f,p,g){if(g&&l){var m=l.getSanitizer(d,f,p,g.kind,g.propertyType);if(m)if(p===4){var v={},h=g.value;Ne(h,function(E,_){var y=d+"."+f;if(nt(_)){var K=u(y,E,_);K=c(l,y,E,pn(_),K),K&&(v[E]=K.value)}}),g.value=v}else{var x={path:d,name:f,type:p,prop:g,sanitizer:n};g=m.call(n,x)}}return g}}return e.getFieldType=pn,e}()});var Ng={};Zc(Ng,{AppInsightsCore:()=>Tg,BaseCore:()=>Dg,BaseTelemetryPlugin:()=>si,CoreUtils:()=>Ig,DiagnosticLogger:()=>Zt,ESPromise:()=>Ir,ESPromiseScheduler:()=>Rg,EventHelper:()=>Vl,EventLatency:()=>hg,EventPersistence:()=>xg,EventPropertyType:()=>yg,EventsDiscardedReason:()=>un,FullVersionString:()=>Zn,InternalAppInsightsCore:()=>_a,InternalBaseCore:()=>ui,LoggingSeverity:()=>sf,MinChannelPriorty:()=>nl,NotificationManager:()=>Ta,PerfEvent:()=>ti,PerfManager:()=>la,ProcessTelemetryContext:()=>tf,TraceLevel:()=>bg,Undefined:()=>et,Utils:()=>Cg,ValueKind:()=>mg,ValueSanitizer:()=>kg,Version:()=>su,_ExtendedInternalMessageId:()=>wg,_InternalLogMessage:()=>ei,_InternalMessageId:()=>Da,__getRegisteredEvents:()=>jl,_throwInternal:()=>We,addEventHandler:()=>wr,addEventListeners:()=>Js,addPageHideEventListener:()=>io,addPageShowEventListener:()=>oo,addPageUnloadEventListener:()=>oi,areCookiesSupported:()=>dn,arrForEach:()=>J,arrIndexOf:()=>ot,arrMap:()=>Kr,arrReduce:()=>Gr,attachEvent:()=>no,cookieAvailable:()=>dn,createCookieMgr:()=>Gn,createEnumStyle:()=>Ct,createGuid:()=>mf,createProcessTelemetryContext:()=>Ht,createTraceParent:()=>Ql,createUniqueNamespace:()=>fn,createUnloadHandlerContainer:()=>ai,dateNow:()=>at,deleteCookie:()=>pf,detachEvent:()=>ro,disableCookies:()=>ff,disallowsSameSiteNone:()=>eo,doPerf:()=>Ge,dumpObj:()=>ze,eventOff:()=>ii,eventOn:()=>ri,extend:()=>Cr,findW3cTraceParent:()=>Yl,formatTraceParent:()=>Jl,generateW3CId:()=>Sr,getCommonSchemaMetaData:()=>ka,getConsole:()=>oa,getCookie:()=>vf,getCookieValue:()=>gf,getCrypto:()=>aa,getDocument:()=>Ot,getExceptionName:()=>Xr,getFieldValueType:()=>pn,getGlobal:()=>on,getGlobalInst:()=>je,getHistory:()=>Dl,getIEVersion:()=>Pl,getISOString:()=>Jt,getJSON:()=>Ji,getLocation:()=>Jr,getMsCrypto:()=>sa,getNavigator:()=>Vt,getPerformance:()=>$i,getSetValue:()=>ea,getTenantId:()=>Aa,getTime:()=>It,getWindow:()=>Tn,hasDocument:()=>Ls,hasHistory:()=>Os,hasJSON:()=>Yr,hasNavigator:()=>ia,hasOwnProperty:()=>In,hasWindow:()=>ra,isArray:()=>he,isArrayValid:()=>uu,isBeaconsSupported:()=>vr,isBoolean:()=>qn,isChromium:()=>cu,isDate:()=>Wi,isDocumentObjectAvailable:()=>Pa,isError:()=>Vr,isFetchSupported:()=>ua,isFunction:()=>Se,isIE:()=>cn,isLatency:()=>Ra,isNotTruthy:()=>Vi,isNullOrUndefined:()=>de,isNumber:()=>Ut,isObject:()=>vt,isReactNative:()=>Kn,isSampledFlag:()=>$l,isString:()=>qe,isTruthy:()=>Ki,isTypeof:()=>qi,isUint8ArrayAvailable:()=>lf,isUndefined:()=>_e,isValidSpanId:()=>co,isValidTraceId:()=>uo,isValidTraceParent:()=>eu,isValueAssigned:()=>nt,isValueKind:()=>fo,isWindowObjectAvailable:()=>cf,isXhrSupported:()=>Yi,mergeEvtNamespace:()=>Xn,newGuid:()=>ao,newId:()=>hr,normalizeJsName:()=>jr,objCreate:()=>Cn,objDefineAccessors:()=>Wt,objForEachKey:()=>Ne,objFreeze:()=>Lt,objKeys:()=>Et,objSeal:()=>dl,openXhr:()=>lu,optimizeObject:()=>jn,parseTraceParent:()=>Sa,perfNow:()=>so,proxyAssign:()=>pl,proxyFunctionAs:()=>pr,proxyFunctions:()=>Qr,random32:()=>ln,randomValue:()=>ni,removeEventHandler:()=>$s,removeEventListeners:()=>br,removePageHideEventListener:()=>ba,removePageShowEventListener:()=>wa,removePageUnloadEventListener:()=>xa,safeGetCookieMgr:()=>xr,safeGetLogger:()=>ca,sanitizeProperty:()=>Ma,setCookie:()=>df,setEnableEnvMocks:()=>_l,setProcessTelemetryTimings:()=>po,setValue:()=>st,strContains:()=>Xe,strEndsWith:()=>Wr,strFunction:()=>Qt,strObject:()=>Ze,strPrototype:()=>tt,strStartsWith:()=>ji,strTrim:()=>Ue,strUndefined:()=>et,throwError:()=>gt,toISOString:()=>Jt,useXDomainRequest:()=>Zr});var fi=ue(()=>{"use strict";Sg();_g();Pg();xf();Mg();Fg();Jn();Fa()});var di,fu,du,wf=ue(()=>{"use strict";di="REAL_TIME",fu="NEAR_REAL_TIME",du="BEST_EFFORT"});var pu,Ug,vu,Lg,Sf,Og,Hg,Bg,Ef,Cf,gu,zg,If,qg,Tf,mu,_f,hu,yu,xu,Ua,Df,jg,go,bu=ue(()=>{"use strict";pu="POST",Ug="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",vu="drop",Lg="send",Sf="requeue",Og="rspFail",Hg="oth",Bg="no-cache, no-store",Ef="application/x-json-stream",Cf="cache-control",gu="content-type",zg="kill-tokens",If="kill-duration",qg="kill-duration-seconds",Tf="time-delta-millis",mu="client-version",_f="client-id",hu="time-delta-to-apply-millis",yu="upload-time",xu="apikey",Ua="AuthMsaDeviceTicket",Df="AuthXToken",jg="NoResponseBody",go="msfpc"});function Vg(e){var t=(e.ext||{}).intweb;return t&&nt(t[go])?t[go]:null}function Wg(e){for(var t=null,n=0;t===null&&n<e.length;n++)t=Vg(e[n]);return t}var mo,Pf=ue(()=>{"use strict";fi();bu();mo=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=Wg(r);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(a){return a?(r.push(a),o||(o=Vg(a)),!0):!1},i.split=function(a,s){var u;if(a<r.length){var c=r.length-a;de(s)||(c=s<c?s:c),u=r.splice(a,c),o=Wg(r)}return new e(t,u)}}return e.create=function(t,n){return new e(t,n)},e}()});function Gg(e,t,n,r){if(r&&e){var i=ka(r.value,r.kind,r.propertyType);if(i>-1){var o=e[Kg];o||(o=e[Kg]={f:{}});var a=o[wu];if(a||(a=o[wu]={}),t)for(var s=0;s<t.length;s++){var u=t[s];a[u]||(a[u]={f:{}});var c=a[u][wu];c||(c=a[u][wu]={}),a=c}a=a[n]={},he(r.value)?a.a={t:i}:a.t=i}}}var Pb,Ab,Xg,Qg,Rb,Kg,wu,Mb,$g,Jg=ue(()=>{"use strict";fi();Pf();mt();Pb=20,Ab=3984588,Xg=65e3,Qg=2e6,Rb=Math.min(Qg,Xg),Kg="metadata",wu="f",Mb=/\./,$g=function(){function e(t,n,r,i){var o="data",a="baseData",s="ext",u=!!i,c=!0,l=n,d={};Ce(e,this,function(f){f.createPayload=function(m,v,h,x,E,_){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:v,isSync:h,isBeacon:x,sendType:_,sendReason:E}},f.appendPayload=function(m,v,h){var x=m&&v&&!m.overflow;return x&&Ge(t,function(){return"Serializer:appendPayload"},function(){for(var E=v.events(),_=m.payloadBlob,y=m.numEvents,K=!1,ne=[],P=[],Y=m.isBeacon,q=Y?Xg:Ab,ae=Y?Rb:Qg,Z=0,le=0;Z<E.length;){var b=E[Z];if(b){if(y>=h){m.overflow=v.split(Z);break}var I=f.getEventBlob(b);if(I&&I.length<=ae){var F=I.length,H=_.length;if(H+F>q){m.overflow=v.split(Z);break}_&&(_+=`
`),_+=I,le++,le>Pb&&(_.substr(0,1),le=0),K=!0,y++}else I?ne.push(b):P.push(b),E.splice(Z,1),Z--}Z++}if(ne&&ne.length>0&&m.sizeExceed.push(mo.create(v.iKey(),ne)),P&&P.length>0&&m.failedEvts.push(mo.create(v.iKey(),P)),K){m.batches.push(v),m.payloadBlob=_,m.numEvents=y;var X=v.iKey();ot(m.apiKeys,X)===-1&&m.apiKeys.push(X)}},function(){return{payload:m,theBatch:{iKey:v.iKey(),evts:v.events()},max:h}}),x},f.getEventBlob=function(m){try{return Ge(t,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=m.name,v.time=m.time,v.ver=m.ver,v.iKey="o:"+Aa(m.iKey);var h={},x=m[s];x&&(v[s]=h,Ne(x,function(y,K){var ne=h[y]={};g(K,ne,"ext."+y,!0,null,null,!0)}));var E=v[o]={};E.baseType=m.baseType;var _=E[a]={};return g(m.baseData,_,a,!1,[a],function(y,K,ne){Gg(h,y,K,ne)},c),g(m.data,E,o,!1,[],function(y,K,ne){Gg(h,y,K,ne)},c),JSON.stringify(v)},function(){return{item:m}})}catch{return null}};function p(m,v){var h=d[m];return h===void 0&&(m.length>=7&&(h=ji(m,"ext.metadata")||ji(m,"ext.web")),d[m]=h),h}function g(m,v,h,x,E,_,y){Ne(m,function(K,ne){var P=null;if(ne||nt(ne)){var Y=h,q=K,ae=E,Z=v;if(u&&!x&&Mb.test(K)){var le=K.split("."),b=le.length;if(b>1){ae&&(ae=ae.slice());for(var I=0;I<b-1;I++){var F=le[I];Z=Z[F]=Z[F]||{},Y+="."+F,ae&&ae.push(F)}q=le[b-1]}}var H=x&&p(Y,q);if(!H&&l&&l.handleField(Y,q)?P=l.value(Y,q,ne,r):P=Ma(q,ne,r),P){var X=P.value;if(Z[q]=X,_&&_(ae,q,P),y&&typeof X=="object"&&!he(X)){var C=ae;C&&(C=C.slice(),C.push(q)),g(ne,X,Y+"."+q,x,C,_,y)}}}})}})}return e}()});function Zg(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function Su(e){var t=0,n=Yg*kb,r=Yg*Fb,i=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*i,Math.min(t,Nb)}var kb,Fb,Yg,Nb,Af=ue(()=>{"use strict";kb=.8,Fb=1.2,Yg=3e3,Nb=6e5});var Ub,Lb,em,tm=ue(()=>{"use strict";mt();fi();Ub=1e3,Lb=function(){function e(){var t={};function n(r){var i=[];return r&&J(r,function(o){i.push(Ue(o))}),i}Ce(e,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var a=n(i.split(","));if(o==="this-request-only")return a;for(var s=parseInt(o,10)*Ub,u=0;u<a.length;++u)t[a[u]]=at()+s}catch{return[]}return[]},r.isTenantKilled=function(i){var o=t,a=Ue(i);return o[a]!==void 0&&o[a]>at()?!0:(delete o[a],!1)}})}return e}(),em=Lb});var Ob,nm,rm=ue(()=>{"use strict";mt();Ob=function(){function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Ce(e,this,function(a){a.allowRequestSending=function(){return t},a.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},a.shouldAddClockSkewHeaders=function(){return n},a.getClockSkewHeaderValue=function(){return i},a.setClockSkew=function(s){o||(s?(i=s,n=!0,o=!0):n=!1,t=!0)}})}return e}(),nm=Ob});function vi(e,t,n){Mf[e]=t,n!==!1&&(kf[t]=e)}function om(e){try{return e.responseText}catch{}return""}function am(e,t){var n=!1;if(e&&t){var r=Et(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&In(t,a)&&a.toLowerCase()===i){n=!0;break}}}return n}function ho(e,t,n,r){t&&n&&n.length>0&&(r&&Mf[t]?(e.hdrs[Mf[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}var pi,Rf,im,Hb,Mf,kf,sm,um=ue(()=>{"use strict";fi();Jg();Af();tm();rm();mt();bu();Rf="sendAttempt",im="&"+jg+"=true",Hb=(pi={},pi[1]=Sf,pi[100]=Sf,pi[200]="sent",pi[8004]=vu,pi[8003]=vu,pi),Mf={},kf={};vi(Ua,Ua,!1);vi(mu,mu);vi(_f,"Client-Id");vi(xu,xu);vi(hu,hu);vi(yu,yu);vi(Df,Df);sm=function(){function e(t,n,r,i,o){this._responseHandlers=[];var a="?cors=true&"+gu.toLowerCase()+"="+Ef,s=new em,u=!1,c=new nm,l=!1,d=0,f,p,g,m=!0,v=[],h={},x=[],E=null,_=!1,y,K=!1,ne=!1,P,Y;Ce(e,this,function(q){var ae=!0;q.initialize=function(w,R,k,O,ee){var me;ee||(ee={}),a=w+a,ne=_e(ee.avoidOptions)?!0:!ee.avoidOptions,g=R,y=R.getCookieMgr(),_=!g.config.disableEventTimings;var pe=!!g.config.enableCompoundKey;f=k;var we=ee.valueSanitizer,ve=ee.stringifyObjects;_e(ee.enableCompoundKey)||(pe=!!ee.enableCompoundKey),P=ee.xhrTimeout,Y=ee.disableXhrSync,l=!Kn(),E=new $g(g,we,ve,pe);var ie=O,S=ee.alwaysUseXhrOverride?O:null,D=ee.alwaysUseXhrOverride?O:null;if(!O){m=!1;var N=Jr();N&&N.protocol&&N.protocol.toLowerCase()==="file:"&&(ae=!1);var j=[];Kn()?j=[2,1]:j=[1,2,3];var se=ee.transports;se&&(Ut(se)?j=[se].concat(j):he(se)&&(j=se.concat(j))),O=Z(j,!1),ie=Z(j,!0),O||f.diagLog().warnToConsole("No available transport to send events")}p=(me={},me[0]=O,me[1]=ie||Z([1,2,3],!0),me[2]=S||Z([3,2],!0)||ie||Z([1],!0),me[3]=D||Z([2,3],!0)||ie||Z([1],!0),me)};function Z(w,R){for(var k=0,O=null,ee=0;O==null&&ee<w.length;)k=w[ee],k===1?Zr()?O=le:Yi()&&(O=I):k===2&&ua(R)?O=b:l&&k===3&&vr()&&(O=H),ee++;return O?{_transport:k,_isSync:R,sendPOST:O}:null}q._getDbgPlgTargets=function(){return[p[0],s,E,p]};function le(w,R,k){var O=new XDomainRequest;O.open(pu,w.urlString),w.timeout&&(O.timeout=w.timeout),O.onload=function(){var ee=om(O);F(R,200,{},ee),Bn(ee)},O.onerror=function(){F(R,400,{})},O.ontimeout=function(){F(R,500,{})},O.onprogress=function(){},k?O.send(w.data):o.set(function(){O.send(w.data)},0)}function b(w,R,k){var O,ee=w.urlString,me=!1,pe=!1,we=(O={body:w.data,method:pu},O[Ug]=!0,O);k&&(we.keepalive=!0,w._sendReason===2&&(me=!0,ee+=im)),ae&&(we.credentials="include"),w.headers&&Et(w.headers).length>0&&(we.headers=w.headers),fetch(ee,we).then(function(ve){var ie={},S="";ve.headers&&ve.headers.forEach(function(D,N){ie[N]=D}),ve.body&&ve.text().then(function(D){S=D}),pe||(pe=!0,F(R,ve.status,ie,S),Bn(S))}).catch(function(ve){pe||(pe=!0,F(R,0,{}))}),me&&!pe&&(pe=!0,F(R,200,{})),!pe&&w.timeout>0&&o.set(function(){pe||(pe=!0,F(R,500,{}))},w.timeout)}function I(w,R,k){var O=w.urlString;function ee(ve,ie,S){if(!ve[S]&&ie&&ie.getResponseHeader){var D=ie.getResponseHeader(S);D&&(ve[S]=Ue(D))}return ve}function me(ve){var ie={};return ve.getAllResponseHeaders?ie=Ye(ve.getAllResponseHeaders()):(ie=ee(ie,ve,Tf),ie=ee(ie,ve,If),ie=ee(ie,ve,qg)),ie}function pe(ve,ie){F(R,ve.status,me(ve),ie)}k&&w.disableXhrSync&&(k=!1);var we=lu(pu,O,ae,!0,k,w.timeout);Ne(w.headers,function(ve,ie){we.setRequestHeader(ve,ie)}),we.onload=function(){var ve=om(we);pe(we,ve),Bn(ve)},we.onerror=function(){pe(we)},we.ontimeout=function(){pe(we)},we.send(w.data)}function F(w,R,k,O){try{w(R,k,O)}catch(ee){We(f.diagLog(),2,518,ze(ee))}}function H(w,R,k){var O=w,ee=200,me=O._thePayload,pe=w.urlString+im;try{var we=Vt();if(!we.sendBeacon(pe,w.data))if(me){var ve=[];J(me.batches,function(ie){if(ve&&ie&&ie.count()>0){for(var S=ie.events(),D=0;D<S.length;D++)if(!we.sendBeacon(pe,E.getEventBlob(S[D]))){ve.push(ie.split(D));break}}else ve.push(ie.split(0))}),Rt(ve,8003,me.sendType,!0)}else ee=0}catch(ie){f.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+ze(ie)),ee=0}finally{F(R,ee,{},"")}}function X(w){return w===2||w===3}function C(w){return K&&X(w)&&(w=2),w}q.addQueryStringParameter=function(w,R){for(var k=0;k<v.length;k++)if(v[k].name===w){v[k].value=R;return}v.push({name:w,value:R})},q.addHeader=function(w,R){h[w]=R},q.canSendRequest=function(){return B()&&c.allowRequestSending()},q.sendQueuedRequests=function(w,R){_e(w)&&(w=0),K&&(w=C(w),R=2),G(x,w,0)&&T(Q(),0,!1,w,R||0)},q.isCompletelyIdle=function(){return!u&&d===0&&x.length===0},q.setUnloading=function(w){K=w},q.addBatch=function(w){if(w&&w.count()>0){if(s.isTenantKilled(w.iKey()))return!1;x.push(w)}return!0},q.teardown=function(){x.length>0&&T(Q(),0,!0,2,2)},q.pause=function(){u=!0},q.resume=function(){u=!1,q.sendQueuedRequests(0,4)},q.sendSynchronousBatch=function(w,R,k){w&&w.count()>0&&(de(R)&&(R=1),K&&(R=C(R),k=2),T([w],0,!1,R,k||0))};function B(){return!u&&d<n}function Q(){var w=x;return x=[],w}function G(w,R,k){var O=!1;return w&&w.length>0&&!u&&p[R]&&E&&(O=R!==0||B()&&(k>0||c.allowRequestSending())),O}function fe(w){var R={};return w&&J(w,function(k,O){R[O]={iKey:k.iKey(),evts:k.events()}}),R}function T(w,R,k,O,ee){if(!(!w||w.length===0)){if(u){Rt(w,1,O);return}O=C(O);try{var me=w,pe=O!==0;Ge(g,function(){return"HttpManager:_sendBatches"},function(we){we&&(w=w.slice(0));for(var ve=[],ie=null,S=It(),D=p[O]||(pe?p[1]:p[0]),N=(K||X(O)||D&&D._transport===3)&&U();G(w,O,R);){var j=w.shift();j&&j.count()>0&&(s.isTenantKilled(j.iKey())?ve.push(j):(ie=ie||E.createPayload(R,k,pe,N,ee,O),E.appendPayload(ie,j,t)?ie.overflow!==null&&(w=[ie.overflow].concat(w),ie.overflow=null,$(ie,S,It(),ee),S=It(),ie=null):($(ie,S,It(),ee),S=It(),w=[j].concat(w),ie=null)))}ie&&$(ie,S,It(),ee),w.length>0&&(x=w.concat(x)),Rt(ve,8004,O)},function(){return{batches:fe(me),retryCount:R,isTeardown:k,isSynchronous:pe,sendReason:ee,useSendBeacon:X(O),sendType:O}},!pe)}catch(we){We(f.diagLog(),2,48,"Unexpected Exception sending batch: "+ze(we))}}}function A(w,R){var k={url:a,hdrs:{},useHdrs:!1};R?(k.hdrs=Cr(k.hdrs,h),k.useHdrs=Et(k.hdrs).length>0):Ne(h,function(we,ve){kf[we]?ho(k,kf[we],ve,!1):(k.hdrs[we]=ve,k.useHdrs=!0)}),ho(k,_f,"NO_AUTH",R),ho(k,mu,Zn,R);var O="";J(w.apiKeys,function(we){O.length>0&&(O+=","),O+=we}),ho(k,xu,O,R),ho(k,yu,at().toString(),R);var ee=rn(w);if(nt(ee)&&(k.url+="&ext.intweb.msfpc="+ee),c.shouldAddClockSkewHeaders()&&ho(k,hu,c.getClockSkewHeaderValue(),R),g.getWParam){var me=g.getWParam();me>=0&&(k.url+="&w="+me)}for(var pe=0;pe<v.length;pe++)k.url+="&"+v[pe].name+"="+v[pe].value;return k}function U(){return!m&&l&&vr()}function z(w,R,k){w[R]=w[R]||{},w[R][f.identifier]=k}function $(w,R,k,O){if(w&&w.payloadBlob&&w.payloadBlob.length>0){var ee=!!q.sendHook,me=p[w.sendType];!X(w.sendType)&&w.isBeacon&&w.sendReason===2&&(me=p[2]||p[3]||me);var pe=ne;(w.isBeacon||me._transport===3)&&(pe=!1);var we=A(w,pe);pe=pe||we.useHdrs;var ve=It();Ge(g,function(){return"HttpManager:_doPayloadSend"},function(){for(var ie=0;ie<w.batches.length;ie++)for(var S=w.batches[ie],D=S.events(),N=0;N<D.length;N++){var j=D[N];if(_){var se=j.timings=j.timings||{};z(se,"sendEventStart",ve),z(se,"serializationStart",R),z(se,"serializationCompleted",k)}j[Rf]>0?j[Rf]++:j[Rf]=1}Rt(w.batches,1e3+(O||0),w.sendType,!0);var ce={data:w.payloadBlob,urlString:we.url,headers:we.hdrs,_thePayload:w,_sendReason:O,timeout:P};_e(Y)||(ce.disableXhrSync=!!Y),pe&&(am(ce.headers,Cf)||(ce.headers[Cf]=Bg),am(ce.headers,gu)||(ce.headers[gu]=Ef));var Ke=null;me&&(Ke=function(pt){c.firstRequestSent();var kt=function(Yc,Xx){re(Yc,Xx,w,O)},Sn=w.isTeardown||w.isSync;try{me.sendPOST(pt,kt,Sn),q.sendListener&&q.sendListener(ce,pt,Sn,w.isBeacon)}catch(Yc){f.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+ze(Yc)),F(kt,0,{})}}),Ge(g,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ke)if(w.sendType===0&&d++,ee&&!w.isBeacon&&me._transport!==3){var pt={data:ce.data,urlString:ce.urlString,headers:Cr({},ce.headers),timeout:ce.timeout,disableXhrSync:ce.disableXhrSync},kt=!1;Ge(g,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{q.sendHook(pt,function(Sn){kt=!0,!m&&!Sn._thePayload&&(Sn._thePayload=Sn._thePayload||ce._thePayload,Sn._sendReason=Sn._sendReason||ce._sendReason),Ke(Sn)},w.isSync||w.isTeardown)}catch{kt||Ke(ce)}})}else Ke(ce)})},function(){return{thePayload:w,serializationStart:R,serializationCompleted:k,sendReason:O}},w.isSync)}w.sizeExceed&&w.sizeExceed.length>0&&Rt(w.sizeExceed,8003,w.sendType),w.failedEvts&&w.failedEvts.length>0&&Rt(w.failedEvts,8002,w.sendType)}function oe(w,R){_&&J(w,function(k){var O=k.timings=k.timings||{};z(O,"sendEventCompleted",R)})}function re(w,R,k,O){var ee=9e3,me=null,pe=!1,we=!1;try{var ve=!0;if(typeof w!==et){if(R){c.setClockSkew(R[Tf]);var ie=R[If]||R["kill-duration-seconds"];J(s.setKillSwitchTenants(R[zg],ie),function(D){J(k.batches,function(N){if(N.iKey()===D){me=me||[];var j=N.split(0);k.numEvents-=j.count(),me.push(j)}})})}if(w==200||w==204){ee=200;return}(!Zg(w)||k.numEvents<=0)&&(ve=!1),ee=9e3+w%1e3}if(ve){ee=100;var S=k.retryCnt;k.sendType===0&&(S<r?(pe=!0,Oe(function(){k.sendType===0&&d--,T(k.batches,S+1,k.isTeardown,K?2:k.sendType,5)},K,Su(S))):(we=!0,K&&(ee=8001)))}}finally{pe||(c.setClockSkew(),be(k,ee,O,we)),Rt(me,8004,k.sendType)}}function be(w,R,k,O){try{O&&f._backOffTransmission(),R===200&&(!O&&!w.isSync&&f._clearBackOff(),Me(w.batches)),Rt(w.batches,R,w.sendType,!0)}finally{w.sendType===0&&(d--,k!==5&&q.sendQueuedRequests(w.sendType,k))}}function Me(w){if(_){var R=It();J(w,function(k){k&&k.count()>0&&oe(k.events(),R)})}}function Oe(w,R,k){R?w():o.set(w,k)}function Ye(w){var R={};if(qe(w)){var k=Ue(w).split(/[\r\n]+/);J(k,function(O){if(O){var ee=O.indexOf(": ");if(ee!==-1){var me=Ue(O.substring(0,ee)).toLowerCase(),pe=Ue(O.substring(ee+1));R[me]=pe}else R[Ue(O)]=1}})}return R}function rn(w){for(var R=0;R<w.batches.length;R++){var k=w.batches[R].Msfpc();if(k)return encodeURIComponent(k)}return""}function Bn(w){var R=q._responseHandlers;try{for(var k=0;k<R.length;k++)try{R[k](w)}catch(ee){We(f.diagLog(),1,519,"Response handler failed: "+ee)}if(w){var O=JSON.parse(w);nt(O.webResult)&&nt(O.webResult[go])&&y.set("MSFPC",O.webResult[go],365*86400)}}catch{}}function Rt(w,R,k,O){if(w&&w.length>0&&i){var ee=i[Mt(R)];if(ee){var me=k!==0;Ge(g,function(){return"HttpManager:_sendBatchesNotification"},function(){Oe(function(){try{ee.call(i,w,R,me,k)}catch(pe){We(f.diagLog(),1,74,"send request notification failed: "+pe)}},O||me,0)},function(){return{batches:fe(w),reason:R,isSync:me,sendSync:O,sendType:k}},!me)}}}function Mt(w){var R=Hb[w];return nt(R)||(R=Hg,w>=9e3&&w<=9999?R=Og:w>=8e3&&w<=8999?R=vu:w>=1e3&&w<=1999&&(R=Lg)),R}})}return e}()});function Bb(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function zb(e){clearTimeout(e)}function La(e,t){return{set:e||Bb,clear:t||zb}}var cm=ue(()=>{"use strict"});var qb,lm,jb,fm,dm,Wb,pm,Vb,gi,Eu,vm,gm,Kb,Gb,mm,hm=ue(()=>{"use strict";Ft();mt();fi();wf();Pf();um();Af();bu();cm();qb=.25,lm=500,jb=20,fm=6,dm=2,Wb=4,pm=2,Vb=1,gi="eventsDiscarded",Eu="overrideInstrumentationKey",vm="maxEventRetryAttempts",gm="maxUnloadEventRetryAttempts",Kb="addUnloadCb",Gb=function(e){an(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.3";var r,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,d=1e4,f={},p=di,g=null,m=null,v=0,h=0,x,E,_={},y,K,ne=-1,P,Y=!0,q=!1,ae=fm,Z=dm,le,b;return Ce(t,n,function(I,F){T(),I._getDbgPlgTargets=function(){return[E]},I.initialize=function(S,D,N){Ge(D,function(){return"PostChannel:initialize"},function(){var j=D;F.initialize(S,D,N);try{var se=!!D[Kb];le=Xn(fn(I.identifier),D.evtNamespace&&D.evtNamespace());var ce=I._getTelCtx();S.extensionConfig[I.identifier]=S.extensionConfig[I.identifier]||{},r=ce.getExtCfg(I.identifier),b=La(r.setTimeoutOverride,r.clearTimeoutOverride),Y=!r.disableOptimizeObj&&cu(),H(j),r.eventsLimitInMem>0&&(d=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(y=r.autoFlushEventsLimit),Ut(r[vm])&&(ae=r[vm]),Ut(r[gm])&&(Z=r[gm]),ie(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(x=r.httpXHROverride),nt(S.anonCookieName)&&E.addQueryStringParameter("anoncknm",S.anonCookieName),E.sendHook=r.payloadPreprocessor,E.sendListener=r.payloadListener;var Ke=r.overrideEndpointUrl?r.overrideEndpointUrl:S.endpointUrl;I._notificationManager=S.extensionConfig.NotificationManager,E.initialize(Ke,I.core,I,x,r);var pt=S.disablePageUnloadEvents||[];oi(X,pt,le),io(X,pt,le),oo(C,S.disablePageShowEvents,le)}catch(kt){throw I.setInitialized(!1),kt}},function(){return{coreConfig:S,core:D,extensions:N}})},I.processTelemetry=function(S,D){po(S,I.identifier),D=I._getTelCtx(D);var N=D.getExtCfg(I.identifier),j=!!r.disableTelemetry;N&&(j=j||!!N.disableTelemetry);var se=S;!j&&!i&&(r[Eu]&&(se.iKey=r[Eu]),N&&N[Eu]&&(se.iKey=N[Eu]),B(se,!0),q?z(2,2):fe()),I.processNext(se,D)},I._doTeardown=function(S,D){z(2,2),i=!0,E.teardown(),xa(null,le),ba(null,le),wa(null,le),T()};function H(S){var D=S.getWParam;S.getWParam=function(){var N=0;return r.ignoreMc1Ms0CookieProcessing&&(N=N|2),N|D()}}function X(S){var D=S||Tn().event;D.type!=="beforeunload"&&(q=!0,E.setUnloading(q)),z(2,2)}function C(S){q=!1,E.setUnloading(q)}function B(S,D){if(S.sendAttempt||(S.sendAttempt=0),S.latency||(S.latency=1),S.ext&&S.ext.trace&&delete S.ext.trace,S.ext&&S.ext.user&&S.ext.user.id&&delete S.ext.user.id,Y&&(S.ext=jn(S.ext),S.baseData&&(S.baseData=jn(S.baseData)),S.data&&(S.data=jn(S.data))),S.sync){if(v||s)S.latency=3,S.sync=!1;else if(E){Y&&(S=jn(S)),E.sendSynchronousBatch(mo.create(S.iKey,[S]),S.sync===!0?1:S.sync,3);return}}var N=S.latency,j=l,se=d;N===4&&(j=u,se=c);var ce=!1;if(j<se)ce=!be(S,D);else{var Ke=1,pt=jb;N===4&&(Ke=4,pt=1),ce=!0,Me(S.iKey,S.latency,Ke,pt)&&(ce=!be(S,D))}ce&&k(gi,[S],un.QueueFull)}I.setEventQueueLimits=function(S,D){d=S>0?S:1e4,y=D>0?D:0,ie();var N=l>S;if(!N&&K>0)for(var j=1;!N&&j<=3;j++){var se=_[j];se&&se.batches&&J(se.batches,function(ce){ce&&ce.count()>=K&&(N=!0)})}re(!0,N)},I.pause=function(){U(),s=!0,E.pause()},I.resume=function(){s=!1,E.resume(),fe()},I.addResponseHandler=function(S){E._responseHandlers.push(S)},I._loadTransmitProfiles=function(S){Rt(),Ne(S,function(D,N){var j=N.length;if(j>=2){var se=j>2?N[2]:0;if(N.splice(0,j-2),N[1]<0&&(N[0]=-1),N[1]>0&&N[0]>0){var ce=N[0]/N[1];N[0]=Math.ceil(ce)*N[1]}se>=0&&N[1]>=0&&se>N[1]&&(se=N[1]),N.push(se),f[D]=N}})},I.flush=function(S,D,N){if(S===void 0&&(S=!0),!s)if(N=N||1,S)a==null?(U(),Ye(1,0,N),a=A(function(){a=null,rn(D,N)},0)):o.push(D);else{var j=U();Q(1,1,N),D?.(),j&&fe()}},I.setMsaAuthTicket=function(S){E.addHeader(Ua,S)},I.hasEvents=G,I._setTransmitProfile=function(S){p!==S&&f[S]!==void 0&&(U(),p=S,fe())};function Q(S,D,N){var j=Ye(S,D,N);return E.sendQueuedRequests(D,N),j}function G(){return l>0}function fe(){if(ne>=0&&Ye(ne,0,P)&&E.sendQueuedRequests(0,P),u>0&&!m&&!s){var S=f[p][2];S>=0&&(m=A(function(){m=null,Q(4,0,1),fe()},S))}var D=f[p][1];!g&&!a&&D>=0&&!s&&(G()?g=A(function(){g=null,Q(h===0?3:1,0,1),h++,h%=2,fe()},D):h=0)}I._backOffTransmission=function(){v<Wb&&(v++,U(),fe())},I._clearBackOff=function(){v&&(v=0,U(),fe())};function T(){r=null,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,d=1e4,f={},p=di,g=null,m=null,v=0,h=0,x=null,_={},y=void 0,K=0,ne=-1,P=null,Y=!0,q=!1,ae=fm,Z=dm,le=null,b=La(),E=new sm(lm,pm,Vb,{requeue:w,send:ee,sent:me,drop:pe,rspFail:we,oth:ve},b),Mt(),$(),ie()}function A(S,D){D===0&&v&&(D=1);var N=1e3;return v&&(N=Su(v-1)),b.set(S,D*N)}function U(){return g!==null?(b.clear(g),g=null,h=0,!0):!1}function z(S,D){U(),a&&(b.clear(a),a=null),s||Q(1,S,D)}function $(){_[4]={batches:[],iKeyMap:{}},_[3]={batches:[],iKeyMap:{}},_[2]={batches:[],iKeyMap:{}},_[1]={batches:[],iKeyMap:{}}}function oe(S,D,N){var j=_[D];j||(D=1,j=_[D]);var se=j.iKeyMap[S];return!se&&N&&(se=mo.create(S),j.batches.push(se),j.iKeyMap[S]=se),se}function re(S,D){E.canSendRequest()&&!v&&(y>0&&l>y&&(D=!0),D&&a==null&&I.flush(S,null,20))}function be(S,D){Y&&(S=jn(S));var N=S.latency,j=oe(S.iKey,N,!0);return j.addEvent(S)?(N!==4?(l++,D&&S.sendAttempt===0&&re(!S.sync,K>0&&j.count()>=K)):u++,!0):!1}function Me(S,D,N,j){for(;N<=D;){var se=oe(S,D,!0);if(se&&se.count()>0){var ce=se.split(0,j),Ke=ce.count();if(Ke>0)return N===4?u-=Ke:l-=Ke,O(gi,[ce],un.QueueFull),!0}N++}return Oe(),!1}function Oe(){for(var S=0,D=0,N=function(se){var ce=_[se];ce&&ce.batches&&J(ce.batches,function(Ke){se===4?S+=Ke.count():D+=Ke.count()})},j=1;j<=4;j++)N(j);l=D,u=S}function Ye(S,D,N){var j=!1,se=D===0;return!se||E.canSendRequest()?Ge(I.core,function(){return"PostChannel._queueBatches"},function(){for(var ce=[],Ke=4;Ke>=S;){var pt=_[Ke];pt&&pt.batches&&pt.batches.length>0&&(J(pt.batches,function(kt){E.addBatch(kt)?j=j||kt&&kt.count()>0:ce=ce.concat(kt.events()),Ke===4?u-=kt.count():l-=kt.count()}),pt.batches=[],pt.iKeyMap={}),Ke--}ce.length>0&&k(gi,ce,un.KillSwitch),j&&ne>=S&&(ne=-1,P=0)},function(){return{latency:S,sendType:D,sendReason:N}},!se):(ne=ne>=0?Math.min(ne,S):S,P=Math.max(P,N)),j}function rn(S,D){Q(1,0,D),Oe(),Bn(function(){S&&S(),o.length>0?a=A(function(){a=null,rn(o.shift(),D)},0):(a=null,fe())})}function Bn(S){E.isCompletelyIdle()?S():a=A(function(){a=null,Bn(S)},qb)}function Rt(){U(),Mt(),p=di,fe()}function Mt(){f={},f[di]=[2,1,0],f[fu]=[6,3,0],f[du]=[18,9,0]}function w(S,D){var N=[],j=ae;q&&(j=Z),J(S,function(se){se&&se.count()>0&&J(se.events(),function(ce){ce&&(ce.sync&&(ce.latency=4,ce.sync=!1),ce.sendAttempt<j?(po(ce,I.identifier),B(ce,!1)):N.push(ce))})}),N.length>0&&k(gi,N,un.NonRetryableStatus),q&&z(2,2)}function R(S,D){var N=I._notificationManager||{},j=N[S];if(j)try{j.apply(N,D)}catch(se){We(I.diagLog(),1,74,S+" notification failed: "+se)}}function k(S,D){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];D&&D.length>0&&R(S,[D].concat(N))}function O(S,D){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];D&&D.length>0&&J(D,function(se){se&&se.count()>0&&R(S,[se.events()].concat(N))})}function ee(S,D,N){S&&S.length>0&&R("eventsSendRequest",[D>=1e3&&D<=1999?D-1e3:0,N!==!0])}function me(S,D){O("eventsSent",S,D),fe()}function pe(S,D){O(gi,S,D>=8e3&&D<=8999?D-8e3:un.Unknown)}function we(S){O(gi,S,un.NonRetryableStatus),fe()}function ve(S,D){O(gi,S,un.Unknown),fe()}function ie(){!r||!r.disableAutoBatchFlushLimit?K=Math.max(lm*(pm+1),d/6):K=0}Wt(I,"_setTimeoutOverride",function(){return b.set},function(S){b=La(S,b.clear)}),Wt(I,"_clearTimeoutOverride",function(){return b.clear},function(S){b=La(b.set,S)})}),n}return t}(si),mm=Gb});var ym={};Zc(ym,{BE_PROFILE:()=>du,NRT_PROFILE:()=>fu,PostChannel:()=>mm,RT_PROFILE:()=>di});var xm=ue(()=>{"use strict";hm();wf()});var GE={};Zc(GE,{activate:()=>VE,deactivate:()=>KE});module.exports=e0(GE);var Jm=ft(require("vscode")),Ym=Object.defineProperty,bm=Object.getOwnPropertySymbols,Xb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable,wm=(e,t,n)=>t in e?Ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pn=(e,t)=>{for(var n in t||(t={}))Xb.call(t,n)&&wm(e,n,t[n]);if(bm)for(var n of bm(t))Qb.call(t,n)&&wm(e,n,t[n]);return e},M=(e,t)=>()=>(e&&(t=e(e=0)),t),$b=(e,t)=>{for(var n in t)Ym(e,n,{get:t[n],enumerable:!0})},Mo=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{s(n.next(u))}catch(c){i(c)}},a=u=>{try{s(n.throw(u))}catch(c){i(c)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);s((n=n.apply(e,t)).next())}),Zm,Jb=M(()=>{Zm={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),qo,On,or,Gt,qu,nr,ju,Wu,eh,th,Ya,Rd=M(()=>{qo="function",On="object",or="undefined",Gt="prototype",qu="hasOwnProperty",nr=Object,ju=nr[Gt],Wu=nr.assign,eh=nr.create,th=nr.defineProperty,Ya=ju[qu]});function ko(){return typeof globalThis!==or&&globalThis?globalThis:typeof self!==or&&self?self:typeof window!==or&&window?window:typeof global!==or&&global?global:null}function Md(e){throw new TypeError(e)}function Vu(e){var t=eh;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==On&&n!==qo&&Md("Object prototype may only be an Object:"+e);function r(){}return r[Gt]=e,new r}var nh=M(()=>{Rd()});function Ae(e,t){typeof t!==qo&&t!==null&&Md("Class extends value "+String(t)+" is not a constructor or null"),Ru(e,t);function n(){this.constructor=e}e[Gt]=t===null?Vu(t):(n[Gt]=t[Gt],new n)}var Yb,Zb,Sm,Fo,Ru,ew=M(()=>{Rd(),nh(),Yb=(ko()||{}).Symbol,Zb=(ko()||{}).Reflect,Sm=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)ju[qu].call(t,i)&&(e[i]=t[i])}return e},Fo=Wu||Sm,Ru=function(e,t){return Ru=nr.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[qu](i)&&(n[i]=r[i])},Ru(e,t)}}),tw=M(()=>{}),Fe=M(()=>{Rd(),nh(),ew(),tw()});function lr(e,t){return e&&Qa[Un].hasOwnProperty.call(e,t)}function rh(e){return e&&(e===Qa[Un]||e===Array[Un])}function kd(e){return rh(e)||e===Function[Un]}function Ii(e){var t;if(e){if(Uo)return Uo(e);var n=e[Xf]||e[Un]||(e[Za]?e[Za][Un]:null);t=e[Va]||n,lr(e,Va)||(delete e[Mu],t=e[Va]=e[Mu]||e[Va],e[Mu]=n)}return t}function Ku(e,t){var n=[];if($f)n=$f(e);else for(var r in e)typeof r=="string"&&lr(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function Fd(e,t,n){return t!==Za&&typeof e[t]===es&&(n||lr(e,t))}function Gu(e){throw new TypeError("DynamicProto: "+e)}function nw(e){var t={};return Ku(e,function(n){!t[n]&&Fd(e,n,!1)&&(t[n]=e[n])}),t}function Nd(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function rw(e,t,n,r){function i(u,c,l){var d=c[l];if(d[Xu]&&r){var f=u[ts]||{};f[No]!==!1&&(d=(f[c[wi]]||{})[l]||d)}return function(){return d.apply(u,arguments)}}var o={};Ku(n,function(u){o[u]=i(t,n,u)});for(var a=Ii(e),s=[];a&&!kd(a)&&!Nd(s,a);)Ku(a,function(u){!o[u]&&Fd(a,u,!Uo)&&(o[u]=i(t,a,u))}),s.push(a),a=Ii(a);return o}function iw(e,t,n,r){var i=null;if(e&&lr(n,wi)){var o=e[ts]||{};if(i=(o[n[wi]]||{})[t],i||Gu("Missing ["+t+"] "+es),!i[Qu]&&o[No]!==!1){for(var a=!lr(e,t),s=Ii(e),u=[];a&&s&&!kd(s)&&!Nd(u,s);){var c=s[t];if(c){a=c===r;break}u.push(s),s=Ii(s)}try{a&&(e[t]=i),i[Qu]=1}catch{o[No]=!1}}}return i}function ow(e,t,n){var r=t[e];return r===n&&(r=Ii(t)[e]),typeof r!==es&&Gu("["+e+"] is not a "+es),r}function aw(e,t,n,r,i){function o(u,c){var l=function(){var d=iw(this,c,u,l)||ow(c,u,l);return d.apply(this,arguments)};return l[Xu]=1,l}if(!rh(e)){var a=n[ts]=n[ts]||{},s=a[t]=a[t]||{};a[No]!==!1&&(a[No]=!!i),Ku(n,function(u){Fd(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!lr(e,u)||e[u]&&!e[u][Xu])&&(e[u]=o(e,u)))})}}function sw(e,t){if(Uo){for(var n=[],r=Ii(t);r&&!kd(r)&&!Nd(n,r);){if(r===e)return!0;n.push(r),r=Ii(r)}return!1}return!0}function Ff(e,t){return lr(e,Un)?e.name||t||Gf:((e||{})[Za]||{}).name||t||Gf}function $e(e,t,n,r){lr(e,Un)||Gu("theClass is an invalid class definition.");var i=e[Un];sw(i,t)||Gu("["+Ff(e)+"] is not in class hierarchy of ["+Ff(t)+"]");var o=null;lr(i,wi)?o=i[wi]:(o=ih+Ff(e,"_")+"$"+Jf,Jf++,i[wi]=o);var a=$e[Kf],s=!!a[ku];s&&r&&r[ku]!==void 0&&(s=!!r[ku]);var u=nw(t),c=rw(i,t,u,s);n(t,c);var l=!!Uo&&!!a[Qf];l&&r&&(l=!!r[Qf]),aw(i,o,t,u,l!==!1)}var Za,Un,es,ts,Xu,wi,ih,Qu,No,Kf,Gf,Xf,Va,Mu,ku,Qf,Qa,Uo,$f,Jf,Em,dt=M(()=>{Za="constructor",Un="prototype",es="function",ts="_dynInstFuncs",Xu="_isDynProxy",wi="_dynClass",ih="_dynCls$",Qu="_dynInstChk",No=Qu,Kf="_dfOpts",Gf="_unknown_",Xf="__proto__",Va="_dyn"+Xf,Mu="_dynInstProto",ku="useBaseInst",Qf="setInstFuncs",Qa=Object,Uo=Qa.getPrototypeOf,$f=Qa.getOwnPropertyNames,Jf=0,Em={setInstFuncs:!0,useBaseInst:!0},$e[Kf]=Em}),W,L,cc=M(()=>{(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(W||(W={})),L={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Ud(e){return ju.toString.call(e)}function uw(e,t){return typeof e===t}function Pt(e){return e===void 0||typeof e===or}function V(e){return e===null||Pt(e)}function cw(e){return!V(e)}function Ld(e,t){return e&&Ya.call(e,t)}function Ti(e){return typeof e===On}function Te(e){return typeof e===qo}function ns(e,t,n,r){r===void 0&&(r=!1);var i=!1;if(!V(e))try{V(e[td])?V(e[ed])||(e[ed](Bd+t,n),i=!0):(e[td](t,n,r),i=!0)}catch{}return i}function Cm(e,t,n,r){if(r===void 0&&(r=!1),!V(e))try{V(e[rd])?V(e[nd])||e[nd](Bd+t,n):e[rd](t,n,r)}catch{}}function lw(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}function ct(e,t){if(e)for(var n in e)Ya.call(e,n)&&t.call(e,n,e[n])}function fw(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}function xt(e,t){return e&&t?e.indexOf(t)!==-1:!1}function Od(e){return Ud(e)==="[object Date]"}function fr(e){return Ud(e)==="[object Array]"}function lc(e){return Ud(e)==="[object Error]"}function ye(e){return typeof e=="string"}function Hd(e){return typeof e=="number"}function Yf(e){return typeof e=="boolean"}function Mr(e){if(Od(e)){var t=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function xe(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}function rs(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function Ka(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e));return o}function oh(e,t,n){var r=e.length,i=0,o;if(arguments.length>=3)o=arguments[2];else{for(;i<r&&!(i in e);)i++;o=e[i++]}for(;i<r;)i in e&&(o=t(o,e[i],i,e)),i++;return o}function ht(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}function _i(e){var t=typeof e;t!==qo&&(t!==On||e===null)&&Md("objKeys called on non-object");var n=[];for(var r in e)e&&Ya.call(e,r)&&n.push(r);if(sh)for(var i=Fu.length,o=0;o<i;o++)e&&Ya.call(e,Fu[o])&&n.push(Fu[o]);return n}function Lo(e,t,n,r){if(id)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),id(e,t,i),!0}catch{}return!1}function tn(){var e=Date;return e.now?e.now():new e().getTime()}function Pe(e){return lc(e)?e.name:""}function Ie(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function yt(e,t,n){var r;return e?(r=e[t],!r&&V(r)&&(r=Pt(n)?{}:n,e[t]=r)):r=Pt(n)?{}:n,r}function Im(e){return!e}function Zf(e){return!!e}function An(e){throw new Error(e)}function ah(e,t,n){if(e&&t&&e!==t&&Ti(e)&&Ti(t)){var r=function(o){if(ye(o)){var a=t[o];Te(a)?(!n||n(o,!0,t,e))&&(e[o]=function(s){return function(){var u=arguments;return t[s].apply(t,u)}}(o)):(!n||n(o,!1,t,e))&&(Ld(e,o)&&delete e[o],Lo(e,o,function(){return t[o]},function(s){t[o]=s})||(e[o]=a))}};for(var i in t)r(i)}return e}function dw(e){return function(){function t(){var n=this;e&&ct(e,function(r,i){n[r]=i})}return t}()}function Tm(e){return e&&(e=nr(Wu?Wu({},e):e)),e}var Bd,ed,td,nd,rd,id,pw,vw,sh,Fu,wt=M(()=>{Fe(),Bd="on",ed="attachEvent",td="addEventListener",nd="detachEvent",rd="removeEventListener",id=th,pw=nr.freeze,vw=nr.seal,sh=!{toString:null}.propertyIsEnumerable("toString"),Fu=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function bt(e){var t=ko();return t&&t[e]?t[e]:e===qd&&fc()?window:null}function fc(){return!!(typeof window===On&&window)}function is(){return fc()?window:bt(qd)}function uh(){return!!(typeof document===On&&document)}function Rn(){return uh()?document:bt(ch)}function gw(){return!!(typeof navigator===On&&navigator)}function Ln(){return gw()?navigator:bt(lh)}function mw(){return!!(typeof history===On&&history)}function hw(){return mw()?history:bt(fh)}function Si(e){if(e&&yh){var t=bt("__mockLocation");if(t)return t}return typeof location===On&&location?location:bt(dh)}function yw(){return typeof console!==or?console:bt(ph)}function rr(){return bt(vh)}function jo(){return!!(typeof JSON===On&&JSON||bt(jd)!==null)}function hn(){return jo()?JSON||bt(jd):null}function xw(){return bt(gh)}function bw(){return bt(mh)}function ww(){var e=Ln();return e&&e.product?e.product===hh:!1}function $u(){var e=Ln();if(e&&(e.userAgent!==Uu||Nu===null)){Uu=e.userAgent;var t=(Uu||"").toLowerCase();Nu=xt(t,Ju)||xt(t,Yu)}return Nu}function zd(e){if(e===void 0&&(e=null),!e){var t=Ln()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(xt(n,Ju))return parseInt(n.split(Ju)[1]);if(xt(n,Yu)){var r=parseInt(n.split(Yu)[1]);if(r)return r+4}return null}function ge(e){var t=Object[Gt].toString.call(e),n="";return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":jo()&&(n=hn().stringify(e)),t+n}var qd,ch,lh,fh,dh,ph,vh,jd,gh,mh,hh,Ju,Yu,Nu,Uu,yh,cs=M(()=>{"use strict";Fe(),wt(),qd="window",ch="document",lh="navigator",fh="history",dh="location",ph="console",vh="performance",jd="JSON",gh="crypto",mh="msCrypto",hh="ReactNative",Ju="msie",Yu="trident/",Nu=null,Uu=null,yh=!1});function _m(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function dc(e,t){return(e||{}).logger||new Wd(t)}var Dm,Pm,Am,Po,Wd,Vd=M(()=>{"use strict";cc(),cs(),dt(),wt(),Dm="AI (Internal): ",Pm="AI: ",Am="AITR_",Po=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=t,o.message=(r?Pm:Dm)+t;var a="";jo()&&(a=hn().stringify(i));var s=(n?" message:"+_m(n):"")+(i?" props:"+_m(a):"");o.message+=s}return e.dataType="MessageData",e}(),Wd=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};$e(e,this,function(i){V(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(s,u,c,l,d){d===void 0&&(d=!1);var f=new Po(u,c,d,l);if(i.enableDebugExceptions())throw f;if(!Pt(f.message)){var p=i.consoleLoggingLevel();if(d){var g=+f.messageId;!r[g]&&p>=W.WARNING&&(i.warnToConsole(f.message),r[g]=!0)}else p>=W.WARNING&&i.warnToConsole(f.message);i.logInternalMessage(s,f)}},i.warnToConsole=function(s){var u=yw();if(u){var c="log";u.warn&&(c="warn"),Te(u[c])&&u[c](s)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,u){if(!a()){var c=!0,l=Am+u.messageId;if(r[l]?c=!1:r[l]=!0,c&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(u),n++),n===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",f=new Po(L.MessageLimitPerPVExceeded,d,!1);i.queue.push(f),i.warnToConsole(d)}}};function o(s,u){var c=t[s];return V(c)?u:c}function a(){return n>=i.maxInternalMessageLimit()}})}return e}()});function Oo(e,t,n,r,i){if(e){var o=e;if(Te(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Lu);try{if(a=o.create(t(),r,i),a){if(s&&a.setCtx&&(a.setCtx(Ao.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(Ao.ChildrenContextKey);u||(u=[],s.setCtx(Ao.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Lu,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(Lu,s)}}}return n()}var mi,Ao,Kd,Lu,pc=M(()=>{dt(),wt(),mi="ctx",Ao=function(){function e(t,n,r){var i=this,o=!1;if(i.start=tn(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Te(n)){var a;o=Lo(i,"payload",function(){return!a&&Te(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===e.ParentContextKey||s===e.ChildrenContextKey?i[s]:(i[mi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===e.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===e.ChildrenContextKey)i[s]=u;else{var c=i[mi]=i[mi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(e.ChildrenContextKey);if(fr(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=tn()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&Te(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Kd=function(){function e(t){this.ctx={},$e(e,this,function(n){n.create=function(r,i,o){return new Ao(r,i,o)},n.fire=function(r){r&&(r.complete(),t&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[mi]=n[mi]||{};o[r]=i}},n.getCtx=function(r){return(n[mi]||{})[r]}})}return e}(),Lu="CoreUtils.doPerf"}),xh,Sw=M(()=>{"use strict";pc(),cc(),wt(),xh=function(){function e(t,n){var r=this,i=null,o=Te(t.processTelemetry),a=Te(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(s){i=s},r.processTelemetry=function(s,u){u||(u=n);var c=t?t.identifier:"TelemetryPluginChain";Oo(u?u.core():null,function(){return c+":processTelemetry"},function(){if(t&&o){r._hasRun=!0;try{u.setNext(i),a&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(s,u)}catch(d){var l=i&&i._hasRun;(!i||!l)&&u.diagLog().throwInternal(W.CRITICAL,L.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+d),i&&!l&&i.processTelemetry(s,u)}}else i&&(r._hasRun=!0,i.processTelemetry(s,u))},function(){return{item:s}},!s.sync)}}return e}()});function Gd(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&Te(o.processTelemetry)){var a=new xh(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}function Ew(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),Gd(r,t)}function Cw(e,t,n){var r=e,i=!1;return n&&e&&(r=[],xe(e,function(o){(i||o===n)&&(i=!0,r.push(o))})),n&&!i&&(r||(r=[]),r.push(n)),Gd(r,t)}var Ei,Xd=M(()=>{"use strict";Vd(),Sw(),wt(),Ei=function(){function e(t,n,r,i){var o=this,a=null;i!==null&&(t&&Te(t.getPlugin)?a=Ew(t,o,i||t.getPlugin()):i?a=Cw(t,o,i):Pt(i)&&(a=Gd(t,o))),o.core=function(){return r},o.diagLog=function(){return dc(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(s,u){u===void 0&&(u={});var c;if(n){var l=n.extensionConfig;l&&s&&(c=l[s])}return c||u},o.getConfig=function(s,u,c){c===void 0&&(c=!1);var l,d=o.getExtCfg(s,null);return d&&!V(d[u])?l=d[u]:n&&!V(n[u])&&(l=n[u]),V(l)?c:l},o.hasNext=function(){return a!=null},o.getNext=function(){return a},o.setNext=function(s){a=s},o.processNext=function(s){var u=a;u&&(a=u.getNext(),u.processTelemetry(s,o))},o.createNew=function(s,u){return s===void 0&&(s=null),new e(s||a,n,r,u)}}return e}()}),bh,Qd,wh=M(()=>{bh="iKey",Qd="extensionConfig"}),Oa,Ai,Sh=M(()=>{"use strict";Xd(),wt(),wh(),Oa="getPlugin",Ai=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(o){return t._getTelCtx(o).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(o){n=o},t.setNextPlugin=function(o){i=o},t.processNext=function(o,a){a?a.processNext(o):i&&Te(i.processTelemetry)&&i.processTelemetry(o,null)},t._getTelCtx=function(o){o===void 0&&(o=null);var a=o;if(!a){var s=r||new Ei(null,{},t.core);i&&i[Oa]?a=s.createNew(null,i[Oa]):a=s.createNew(null,i)}return a},t._baseTelInit=function(o,a,s,u){o&&Ie(o,Qd,[],null,V),!u&&a&&(u=a.getProcessTelContext().getNext());var c=i;i&&i[Oa]&&(c=i[Oa]()),t.core=a,r=new Ei(u,o,a,c),n=!0}}return e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}()});function od(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&Te(r[sd])&&Te(o[Zu])&&r[sd](o),(!Te(o[ud])||!o[ud]())&&n.push(o),r=o,i=i.getNext())}xe(n,function(a){a.initialize(e.getCfg(),e.core(),t,e.getNext())})}function Rm(e){return e.sort(function(t,n){var r=0,i=Te(n[Zu]);return Te(t[Zu])?r=i?t[ad]-n[ad]:1:i&&(r=-1),r})}var Zu,ad,sd,ud,Eh=M(()=>{"use strict";wt(),Zu="processTelemetry",ad="priority",sd="setNextPlugin",ud="isInitialized"}),Cu,Mm,Ch,Iw=M(()=>{"use strict";Fe(),dt(),Sh(),Xd(),Eh(),wt(),Cu=500,Mm="Channel has invalid priority",Ch=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=Cu;var r;$e(t,n,function(s,u){s.setNextPlugin=function(c){},s.processTelemetry=function(c,l){r&&xe(r,function(d){if(d.length>0){var f=n._getTelCtx(l).createNew(d);f.processNext(c)}})},s.getChannelControls=function(){return r},s.initialize=function(c,l,d){s.isInitialized()||(u.initialize(c,l,d),a((c||{}).channels,d),xe(r,function(f){return od(new Ei(f,c,l),d)}))}});function i(s){xe(s,function(u){u.priority<Cu&&An(Mm+u.identifier)})}function o(s){s&&s.length>0&&(s=s.sort(function(u,c){return u.priority-c.priority}),i(s),r.push(s))}function a(s,u){if(r=[],s&&xe(s,function(l){return o(l)}),u){var c=[];xe(u,function(l){l.priority>Cu&&c.push(l)}),o(c)}}return n}return t._staticInit=function(){var n=t.prototype;Lo(n,"ChannelControls",n.getChannelControls),Lo(n,"channelQueue",n.getChannelControls)}(),t}(Ai)});function Ih(e,t){var n=$a[ar]||os[ar];return n||(n=$a[ar]=$a(e,t),os[ar]=n),n}function Iu(e){return e?e.isEnabled():!0}function Tw(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ie(t,"domain",e.cookieDomain,cw,V),Ie(t,"path",e.cookiePath||"/",null,V),V(t[ec])){var n=void 0;Pt(e[fd])||(n=!e[fd]),Pt(e[dd])||(n=!e[dd]),t[ec]=n}return t}function $d(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[ar]?n=r[ar]:n=$a(t)}return n||(n=Ih(t,(e||{}).logger)),n}function $a(e,t){var n=Tw(e||os),r=n.path||"/",i=n.domain,o=n[ec]!==!1,a={isEnabled:function(){var s=o&&km(t),u=os[ar];return s&&u&&a!==u&&(s=Iu(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,d){if(Iu(a)){var f={},p=ht(u||en),g=p.indexOf(";");if(g!==-1&&(p=ht(u.substring(0,g)),f=Th(u.substring(g+1))),Ie(f,"domain",l||i,Zf,Pt),!V(c)){var m=$u();if(Pt(f[Ou])){var v=tn(),h=v+c*1e3;if(h>0){var x=new Date;x.setTime(h),Ie(f,Ou,Fm(x,m?cd:ld)||Fm(x,m?cd:ld)||en,Zf)}}m||Ie(f,"max-age",en+c,null,Pt)}var E=Si();E&&E.protocol==="https:"&&(Ie(f,"secure",null,null,Pt),Hu===null&&(Hu=!_h((Ln()||{}).userAgent)),Hu&&Ie(f,"SameSite","None",null,Pt)),Ie(f,"path",d||r,null,Pt);var _=n.setCookie||Um;_(s,Nm(p,f))}},get:function(s){var u=en;return Iu(a)&&(u=(n.getCookie||_w)(s)),u},del:function(s,u){Iu(a)&&a.purge(s,u)},purge:function(s,u){if(km(t)){var c=(d={},d.path=u||"/",d[Ou]="Thu, 01 Jan 1970 00:00:01 GMT",d);$u()||(c["max-age"]="0");var l=n.delCookie||Um;l(s,Nm(en,c))}var d}};return a[ar]=a,a}function km(e){if(Ga===null){Ga=!1;try{var t=Ho||{};Ga=t[vc]!==void 0}catch(n){e&&e.throwInternal(W.WARNING,L.CannotAccessCookie,"Cannot access document.cookie - "+Pe(n),{exception:ge(n)})}}return Ga}function Th(e){var t={};if(e&&e.length){var n=ht(e).split(";");xe(n,function(r){if(r=ht(r||en),r){var i=r.indexOf("=");i===-1?t[r]=null:t[ht(r.substring(0,i))]=ht(r.substring(i+1))}})}return t}function Fm(e,t){return Te(e[t])?e[t]():null}function Nm(e,t){var n=e||en;return ct(t,function(r,i){n+="; "+r+(V(i)?en:"="+i)}),n}function _w(e){var t=en;if(Ho){var n=Ho[vc]||en;pd!==n&&(vd=Th(n),pd=n),t=ht(vd[e]||en)}return t}function Um(e,t){Ho&&(Ho[vc]=e+"="+t)}function _h(e){return ye(e)?!!(xt(e,"CPU iPhone OS 12")||xt(e,"iPad; CPU OS 12")||xt(e,"Macintosh; Intel Mac OS X 10_14")&&xt(e,"Version/")&&xt(e,"Safari")||xt(e,"Macintosh; Intel Mac OS X 10_14")&&fw(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xt(e,"Chrome/5")||xt(e,"Chrome/6")||xt(e,"UnrealEngine")&&!xt(e,"Chrome")||xt(e,"UCBrowser/12")||xt(e,"UCBrowser/11")):!1}var cd,ld,vc,Ou,ec,fd,dd,ar,en,Ga,Hu,pd,Ho,vd,os,Jd=M(()=>{cc(),cs(),wt(),cd="toGMTString",ld="toUTCString",vc="cookie",Ou="expires",ec="enabled",fd="isCookieUseDisabled",dd="disableCookiesUsage",ar="_ckMgr",en="",Ga=null,Hu=null,pd=null,Ho=Rn(),vd={},os={}}),Lm,Nf,Yd,Dh=M(()=>{"use strict";Fe(),dt(),Iw(),Xd(),Eh(),pc(),Jd(),wt(),wh(),Lm="Extensions must provide callback to initialize",Nf="_notificationManager",Yd=function(){function e(){var t=!1,n,r,i,o,a;$e(e,this,function(s){s._extensions=new Array,r=new Ch,s.logger=Vu({throwInternal:function(u,c,l,d,f){f===void 0&&(f=!1)},warnToConsole:function(u){},resetInternalMessageCount:function(){}}),n=[],s.isInitialized=function(){return t},s.initialize=function(u,c,l,d){s.isInitialized()&&An("Core should not be initialized more than once"),(!u||V(u.instrumentationKey))&&An("Please provide instrumentation key"),i=d,s[Nf]=d,s.config=u||{},u.extensions=V(u.extensions)?[]:u.extensions;var f=yt(u,Qd);f.NotificationManager=d,l&&(s.logger=l);var p=[];p.push.apply(p,c.concat(u.extensions)),p=Rm(p);var g=[],m=[],v={};xe(p,function(h){(V(h)||V(h.initialize))&&An(Lm);var x=h.priority,E=h.identifier;h&&x&&(V(v[x])?v[x]=E:l.warnToConsole("Two extensions have same priority #"+x+" - "+v[x]+", "+E)),!x||x<r.priority?g.push(h):m.push(h)}),p.push(r),g.push(r),p=Rm(p),s._extensions=p,od(new Ei([r],u,s),p),od(new Ei(g,u,s),p),s._extensions=g,s.getTransmissionControls().length===0&&An("No channels available"),t=!0,s.releaseQueue()},s.getTransmissionControls=function(){return r.getChannelControls()},s.track=function(u){Ie(u,bh,s.config.instrumentationKey,null,Im),Ie(u,"time",Mr(new Date),null,Im),Ie(u,"ver","4.0",null,V),s.isInitialized()?s.getProcessTelContext().processNext(u):n.push(u)},s.getProcessTelContext=function(){var u=s._extensions,c=u;return(!u||u.length===0)&&(c=[r]),new Ei(c,s.config,s)},s.getNotifyMgr=function(){return i||(i=Vu({addNotificationListener:function(u){},removeNotificationListener:function(u){},eventsSent:function(u){},eventsDiscarded:function(u,c){},eventsSendRequest:function(u,c){}}),s[Nf]=i),i},s.getCookieMgr=function(){return a||(a=$a(s.config,s.logger)),a},s.setCookieMgr=function(u){a=u},s.getPerfMgr=function(){return o||s.config&&s.config.enablePerfMgr&&(o=new Kd(s.getNotifyMgr())),o},s.setPerfMgr=function(u){o=u},s.eventCnt=function(){return n.length},s.releaseQueue=function(){n.length>0&&(xe(n,function(u){s.getProcessTelContext().processNext(u)}),n=[])}})}return e}()}),Zd,Ph=M(()=>{dt(),wt(),Zd=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;$e(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var o=rs(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=rs(r.listeners,i)},r.eventsSent=function(i){xe(r.listeners,function(o){o&&o.eventsSent&&setTimeout(function(){return o.eventsSent(i)},0)})},r.eventsDiscarded=function(i,o){xe(r.listeners,function(a){a&&a.eventsDiscarded&&setTimeout(function(){return a.eventsDiscarded(i,o)},0)})},r.eventsSendRequest=function(i,o){xe(r.listeners,function(a){if(a&&a.eventsSendRequest)if(o)setTimeout(function(){return a.eventsSendRequest(i,o)},0);else try{a.eventsSendRequest(i,o)}catch{}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&xe(r.listeners,function(o){if(o&&o.perfEvent)if(i.isAsync)setTimeout(function(){return o.perfEvent(i)},0);else try{o.perfEvent(i)}catch{}})}})}return e}()}),ep,Dw=M(()=>{Fe(),Dh(),Jb(),Ph(),pc(),Vd(),dt(),wt(),ep=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return $e(t,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Wd(s),l||new Zd(s))},r.track=function(s){Oo(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),An("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)},r.addNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.addNotificationListener(s)},r.removeNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.removeNotificationListener(s)},r.pollInternalLogs=function(s){var u=r.config.diagnosticLogInterval;return(!u||!(u>0))&&(u=1e4),setInterval(function(){var c=r.logger?r.logger.queue:[];xe(c,function(l){var d={name:s||"InternalMessageId: "+l.messageId,iKey:r.config.instrumentationKey,time:Mr(new Date),baseType:Po.dataType,baseData:{message:l.message}};r.track(d)}),c.length=0},u)};function o(s){if(V(s.name))throw a(s),Error("telemetry name required")}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],Zm.InvalidEvent)}}),n}return t}(Yd)});function Ah(e){e<0&&(e>>>=0),Io=123456789+e&sr,To=987654321-e&sr,np=!0}function Rh(){try{var e=tn()&2147483647;Ah((Math.random()*tp^e)+e)}catch{}}function Mh(e){return e>0?Math.floor(Di()/sr*(e+1))>>>0:0}function Di(e){var t,n=xw()||bw();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&sr:$u()?(np||Rh(),t=kh()&sr):t=Math.floor(tp*Math.random()|0),e||(t>>>=0),t}function Pw(e){e?Ah(e):Rh()}function kh(e){To=36969*(To&65535)+(To>>16)&sr,Io=18e3*(Io&65535)+(Io>>16)&sr;var t=(To<<16)+(Io&65535)>>>0&sr|0;return e||(t>>>=0),t}var tp,sr,np,Io,To,Fh=M(()=>{cs(),wt(),tp=4294967296,sr=4294967295,np=!1,Io=123456789,To=987654321});function xi(e,t){var n=!1,r=is();r&&(n=ns(r,e,t),n=ns(r.body,e,t)||n);var i=Rn();return i&&(n=as.Attach(i,e,t)||n),n}function Aw(){function e(){return Mh(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Uh,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}function Rw(){var e=rr();return e&&e.now?e.now():tn()}function gc(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Di()>>>0,r=0,i="";i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(Di()<<2&4294967295|n&3)>>>0,r=0);return i}function Mn(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",n,r=0;r<4;r++)n=Di(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(Di()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}function Wo(e,t){var n=Ih(e,t),r=tc._canUseCookies;return Eo===null&&(Eo=[],Ha=r,Lo(tc,"_canUseCookies",function(){return Ha},function(i){Ha=i,xe(Eo,function(o){o.setEnabled(i)})})),rs(Eo,n)===-1&&Eo.push(n),Yf(r)&&n.setEnabled(r),Yf(Ha)&&n.setEnabled(Ha),n}function Nh(){Wo().setEnabled(!1)}function Mw(e){return Wo(null,e).isEnabled()}function kw(e,t){return Wo(null,e).get(t)}function Fw(e,t,n,r){Wo(null,e).set(t,n,null,r)}function Nw(e,t){return Wo(null,e).del(t)}var Eo,Ha,tc,Uh,as,Uw=M(()=>{"use strict";Fe(),Jd(),cs(),wt(),Fh(),Eo=null,tc={_canUseCookies:void 0,isTypeof:uw,isUndefined:Pt,isNullOrUndefined:V,hasOwnProperty:Ld,isFunction:Te,isObject:Ti,isDate:Od,isArray:fr,isError:lc,isString:ye,isNumber:Hd,isBoolean:Yf,toISOString:Mr,arrForEach:xe,arrIndexOf:rs,arrMap:Ka,arrReduce:oh,strTrim:ht,objCreate:Vu,objKeys:_i,objDefineAccessors:Lo,addEventHandler:xi,dateNow:tn,isIE:$u,disableCookies:Nh,newGuid:Aw,perfNow:Rw,newId:gc,randomValue:Mh,random32:Di,mwcRandomSeed:Pw,mwcRandom32:kh,generateW3CId:Mn},Uh=/[xy]/g,as={Attach:ns,AttachEvent:ns,Detach:Cm,DetachEvent:Cm}});function rp(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Uf(e,t,n,r,i){i>=0&&i<=2&&rp(e,function(o,a){var s=o.cbks,u=s[hd[i]];if(u){t.ctx=function(){var d=r[a]=r[a]||{};return d};try{u.apply(t.inst,n)}catch(d){var c=t.err;try{var l=s[hd[2]];l&&(t.err=d,l.apply(t.inst,n))}catch{}finally{t.err=c}}}})}function Lw(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:u},o=[],a=s([i],n);function s(l,d){return rp(d,function(f){l.push(f)}),l}function u(l,d){n=s([],n),n[l]=d,a=s([i],n)}Uf(r,i,a,o,0);var c=e.f;try{i.rslt=c.apply(t,n)}catch(l){throw i.err=l,Uf(r,i,a,o,3),l}return Uf(r,i,a,o,1),i.rslt}}function Ow(e){if(e){if(yd)return yd(e);var t=e[Oh]||e[Gt]||e[Hh];if(t)return t}return null}function Lh(e,t,n){var r=null;return e&&(Ld(e,t)?r=e:n&&(r=Lh(Ow(e),t,!1))),r}function Hw(e,t,n){return e?gd(e[Gt],t,n,!1):null}function gd(e,t,n,r){if(r===void 0&&(r=!0),e&&t&&n){var i=Lh(e,t,r);if(i){var o=i[t];if(typeof o===qo){var a=o[md];if(!a){a={i:0,n:t,f:o,h:[]};var s=Lw(a);s[md]=a,i[t]=s}var u={id:a.i,cbks:n,rm:function(){var c=this.id;rp(a.h,function(l,d){if(l.id===c)return a.h.splice(d,1),1})}};return a.i++,a.h.push(u),u}}}return null}var md,hd,Oh,Hh,yd,Bw=M(()=>{Fe(),wt(),md="_aiHooks",hd=["req","rsp","hkErr","fnErr"],Oh="__proto__",Hh="constructor",yd=Object.getPrototypeOf}),Ee=M(()=>{Dw(),Dh(),Sh(),Fh(),Uw(),wt(),cs(),Fe(),Ph(),pc(),Vd(),cc(),Bw(),Jd()}),Le,Bh=M(()=>{Le={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function ip(e,t,n){var r=t.length,i=zh(e,t);if(i.length!==r){for(var o=0,a=i;n[a]!==void 0;)o++,a=i.substring(0,147)+Wh(o);i=a}return i}function zh(e,t){var n;return t&&(t=ht(t.toString()),t.length>150&&(n=t.substring(0,150),e.throwInternal(W.WARNING,L.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),n||t}function At(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=ht(t),t.toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(W.WARNING,L.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function ls(e,t){return ap(e,t,2048,L.UrlTooLong)}function op(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(W.WARNING,L.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function qh(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(W.WARNING,L.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function kr(e,t){if(t){var n={};ct(t,function(r,i){if(Ti(i)&&jo())try{i=hn().stringify(i)}catch(o){e.throwInternal(W.WARNING,L.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:o},!0)}i=At(e,i,8192),r=ip(e,r,n),n[r]=i}),t=n}return t}function Fr(e,t){if(t){var n={};ct(t,function(r,i){r=ip(e,r,n),n[r]=i}),t=n}return t}function jh(e,t){return t&&ap(e,t,128,L.IdTooLong).toString()}function ap(e,t,n,r){var i;return t&&(t=ht(t),t.length>n&&(i=t.substring(0,n),e.throwInternal(W.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}function Wh(e){var t="00"+e;return t.substr(t.length-3)}var Vh,yn=M(()=>{Ee(),Vh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:ip,sanitizeKey:zh,sanitizeString:At,sanitizeUrl:ls,sanitizeMessage:op,sanitizeException:qh,sanitizeProperties:kr,sanitizeMeasurements:Fr,sanitizeId:jh,sanitizeInput:ap,padNumber:Wh,trim:ht}});function Co(e){var t=null;if(Te(Event))t=new Event(e);else{var n=Rn();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}var Kh=M(()=>{Ee()});function Re(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}function ir(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(o>0?o+".":"")+i+":"+r+":"+n+"."+t}function xd(){var e=Ln();return"sendBeacon"in e&&e.sendBeacon}function Gh(e,t){var n=null;return xe(e,function(r){if(r.identifier===t)return n=r,-1}),n}function Xh(e,t,n,r,i){return!i&&ye(e)&&(e==="Script error."||e==="Script error")}var mc=M(()=>{Ee()}),bi,hc,Ro,nc,sp,nn,xn=M(()=>{bi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",hc="sampleRate",Ro="ProcessLegacy",nc="http.method",sp="https://dc.services.visualstudio.com",nn="not_specified"}),Pi,vn,Qh=M(()=>{(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Pi||(Pi={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(vn||(vn={}))});function up(){return lp()?yc(Pi.LocalStorage):null}function yc(e){try{if(V(ko()))return null;var t=new Date,n=bt(e===Pi.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch{}return null}function cp(){return Bo()?yc(Pi.SessionStorage):null}function $h(){Ar=!1,Rr=!1}function lp(){return Ar===void 0&&(Ar=!!yc(Pi.LocalStorage)),Ar}function Jh(e,t){var n=up();if(n!==null)try{return n.getItem(t)}catch(r){Ar=!1,e.throwInternal(W.WARNING,L.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Pe(r),{exception:ge(r)})}return null}function Yh(e,t,n){var r=up();if(r!==null)try{return r.setItem(t,n),!0}catch(i){Ar=!1,e.throwInternal(W.WARNING,L.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Pe(i),{exception:ge(i)})}return!1}function Zh(e,t){var n=up();if(n!==null)try{return n.removeItem(t),!0}catch(r){Ar=!1,e.throwInternal(W.WARNING,L.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Pe(r),{exception:ge(r)})}return!1}function Bo(){return Rr===void 0&&(Rr=!!yc(Pi.SessionStorage)),Rr}function zw(){var e=[];return Bo()&&ct(bt("sessionStorage"),function(t){e.push(t)}),e}function rc(e,t){var n=cp();if(n!==null)try{return n.getItem(t)}catch(r){Rr=!1,e.throwInternal(W.WARNING,L.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Pe(r),{exception:ge(r)})}return null}function ic(e,t,n){var r=cp();if(r!==null)try{return r.setItem(t,n),!0}catch(i){Rr=!1,e.throwInternal(W.WARNING,L.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Pe(i),{exception:ge(i)})}return!1}function ey(e,t){var n=cp();if(n!==null)try{return n.removeItem(t),!0}catch(r){Rr=!1,e.throwInternal(W.WARNING,L.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Pe(r),{exception:ge(r)})}return!1}var Ar,Rr,ty=M(()=>{Ee(),Qh(),Ar=void 0,Rr=void 0});function ss(e){var t=Sd,n=oy,r=n[t];return wd.createElement?n[t]||(r=n[t]=wd.createElement("a")):r={host:iy(e,!0)},r.href=e,t++,t>=n.length&&(t=0),Sd=t,r}function ny(e){var t,n=ss(e);return n&&(t=n.href),t}function qw(e){var t,n=ss(e);return n&&(t=n.pathname),t}function ry(e,t){return e?e.toUpperCase()+" "+t:t}function iy(e,t){var n=bd(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&ye(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function bd(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&ye(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),n+=o}}return n}var wd,Sd,oy,ay=M(()=>{Ee(),wd=Rn()||{},Sd=0,oy=[null,null,null,null,null]});function Bu(e){return sy.indexOf(e.toLowerCase())!==-1}function jw(e,t,n,r){var i,o=r,a=r;if(t&&t.length>0){var s=ss(t);if(i=s.host,!o)if(s.pathname!=null){var u=s.pathname.length===0?"/":s.pathname;u.charAt(0)!=="/"&&(u="/"+u),a=s.pathname,o=At(e,n?n+" "+u:u)}else o=At(e,t)}else i=r,o=r;return{target:i,name:o,data:a}}function Xa(){var e=rr();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return tn()}function _t(e,t){var n=null;return e!==0&&t!==0&&!V(e)&&!V(t)&&(n=t-e),n}var sy,fp,uy,Pr,cy,ly=M(()=>{Ee(),Bh(),yn(),Kh(),mc(),xn(),ty(),ay(),sy=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],fp={NotSpecified:nn,createDomEvent:Co,disableStorage:$h,isInternalApplicationInsightsEndpoint:Bu,canUseLocalStorage:lp,getStorage:Jh,setStorage:Yh,removeStorage:Zh,canUseSessionStorage:Bo,getSessionStorageKeys:zw,getSessionStorage:rc,setSessionStorage:ic,removeSessionStorage:ey,disableCookies:Nh,canUseCookies:Mw,disallowsSameSiteNone:_h,setCookie:Fw,stringToBoolOrDefault:Re,getCookie:kw,deleteCookie:Nw,trim:ht,newId:gc,random32:function(){return Di(!0)},generateW3CId:Mn,isArray:fr,isError:lc,isDate:Od,toISOStringForIE8:Mr,getIEVersion:zd,msToTimeSpan:ir,isCrossOriginError:Xh,dump:ge,getExceptionName:Pe,addEventHandler:ns,IsBeaconApiSupported:xd,getExtension:Gh},uy={parseUrl:ss,getAbsoluteUrl:ny,getPathName:qw,getCompleteUrl:ry,parseHost:iy,parseFullHost:bd},Pr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1}var i=ss(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(bd(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o=e&&e.correlationHeaderDomains;if(o){var a;if(xe(o,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(i)}),!a)return!1}var s=e&&e.correlationHeaderExcludedDomains;if(!s||s.length===0)return!0;for(var r=0;r<s.length;r++){var u=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Pr.getCorrelationContextValue(e,Le.requestContextTargetKey);if(t&&t!==Pr.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===t)return i[1]}}},cy={Now:Xa,GetDuration:_t}});function fy(e){if(!e)return{};var t=e.split(dy),n=oh(t,function(i,o){var a=o.split(py);if(a.length===2){var s=a[0].toLowerCase(),u=a[1];i[s]=u}return i},{});if(_i(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||sp}return n}var dy,py,vy,Ww=M(()=>{xn(),Ee(),dy=";",py="=",vy={parse:fy}}),dp,gy=M(()=>{dp=function(){function e(){}return e}()}),pp,my=M(()=>{Fe(),gy(),pp=function(e){Ae(t,e);function t(){return e.call(this)||this}return t}(dp)}),hy,Vw=M(()=>{hy=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return e}()}),vp,Kw=M(()=>{Fe(),Vw(),yn(),Ee(),xn(),vp=function(e){Ae(t,e);function t(n,r,i){var o=e.call(this)||this;return o.name=At(n,i)||nn,o.data=r,o.time=Mr(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1},o}return t}(hy)}),gp,yy=M(()=>{gp=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}()}),gn,Gw=M(()=>{Fe(),yy(),yn(),xn(),gn=function(e){Ae(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=At(n,r)||nn,a.properties=kr(n,i),a.measurements=Fr(n,o),a}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(gp)}),xy,Xw=M(()=>{xy=function(){function e(){}return e}()}),by,Qw=M(()=>{by=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return e}()}),wy,$w=M(()=>{wy=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return e}()});function Ed(e,t){var n=e;return n&&!ye(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||n==="{}")&&(Te(e.toString)?n=e.toString():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}function Om(e,t){var n=e;return e&&(n=e[sc]||e[mp]||"",n&&!ye(n)&&(n=Ed(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(n||"").indexOf(t)===-1&&(n=t+": "+n),n||""}function Jw(e){return Ti(e)?"hasFullStack"in e&&"typeName"in e:!1}function Yw(e){return Ti(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}function Hm(e){return e&&e.src&&ye(e.src)&&e.obj&&fr(e.obj)}function yo(e){var t=e||"";ye(t)||(ye(t[Kt])?t=t[Kt]:t=""+t);var n=t.split(`
`);return{src:t,obj:n}}function Zw(e){for(var t=[],n=e.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}function Bm(e){var t=null;if(e)try{if(e[Kt])t=yo(e[Kt]);else if(e[Ci]&&e[Ci][Kt])t=yo(e[Ci][Kt]);else if(e.exception&&e.exception[Kt])t=yo(e.exception[Kt]);else if(Hm(e))t=e;else if(Hm(e[ac]))t=e[ac];else if(window.opera&&e[sc])t=Zw(e.message);else if(ye(e))t=yo(e);else{var n=e[sc]||e[mp]||"";ye(e[Cd])&&(n&&(n+=`
`),n+=" from "+e[Cd]),n&&(t=yo(n))}}catch(r){t=yo(r)}return t||{src:"",obj:null}}function eS(e){var t="";return e&&(e.obj?xe(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}function tS(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;xe(n,function(g){var m=g.toString();if(uc.regex.test(m)){var v=new uc(m,r++);i+=v.sizeInBytes,t.push(v)}});var o=32*1024;if(i>o)for(var a=0,s=t.length-1,u=0,c=a,l=s;a<s;){var d=t[a].sizeInBytes,f=t[s].sizeInBytes;if(u+=d+f,u>o){var p=l-c+1;t.splice(c,p);break}c=a,l=s,a++,s--}}return t}function oc(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch{}return t}function Lf(e){if(e)try{if(!ye(e)){var t=oc(e),n=Ed(e,!1);return(!n||n==="{}")&&(e[Ci]&&(e=e[Ci],t=oc(e)),n=Ed(e,!0)),n.indexOf(t)!==0&&t!=="String"?t+":"+n:n}}catch{}return""+(e||"")}var zm,Ci,Kt,ac,Cd,sc,mp,Dt,Of,uc,nS=M(()=>{Fe(),Xw(),Qw(),$w(),yn(),Ee(),xn(),zm="<no_method>",Ci="error",Kt="stack",ac="stackDetails",Cd="errorSrc",sc="message",mp="description",Dt=function(e){Ae(t,e);function t(n,r,i,o,a,s){var u=e.call(this)||this;return u.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},Yw(r)?(u.exceptions=r.exceptions,u.properties=r.properties,u.measurements=r.measurements,r.severityLevel&&(u.severityLevel=r.severityLevel),r.id&&(u.id=r.id),r.problemGroup&&(u.problemGroup=r.problemGroup),u.ver=2,V(r.isManual)||(u.isManual=r.isManual)):(i||(i={}),u.exceptions=[new Of(n,r,i)],u.properties=kr(n,i),u.measurements=Fr(n,o),a&&(u.severityLevel=a),s&&(u.id=s)),u}return t.CreateAutoException=function(n,r,i,o,a,s,u,c){var l=oc(a||s||n);return{message:Om(n,l),url:r,lineNumber:i,columnNumber:o,error:Lf(a||s||n),evt:Lf(s||n),typeName:l,stackDetails:Bm(u||a||s),errorSrc:c}},t.CreateFromInterface=function(n,r,i,o){var a=r.exceptions&&Ka(r.exceptions,function(u){return Of.CreateFromInterface(n,u)}),s=new t(n,Fo({},r,{exceptions:a}),i,o);return s},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,o=n.measurements,a=n.severityLevel,s=n.ver,u=n.problemGroup,c=n.id,l=n.isManual,d=r instanceof Array&&Ka(r,function(f){return f.toInterface()})||void 0;return{ver:"4.0",exceptions:d,severityLevel:a,properties:i,measurements:o,problemGroup:u,id:c,isManual:l}},t.CreateSimpleException=function(n,r,i,o,a,s){return{exceptions:[{hasFullStack:!0,message:n,stack:a,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Lf,t}(by),Of=function(e){Ae(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},Jw(r))o.typeName=r.typeName,o.message=r.message,o[Kt]=r[Kt],o.parsedStack=r.parsedStack,o.hasFullStack=r.hasFullStack;else{var a=r,s=a&&a.evt;lc(a)||(a=a[Ci]||s||a),o.typeName=At(n,oc(a))||nn,o.message=op(n,Om(r||a,o.typeName))||nn;var u=r[ac]||Bm(r);o.parsedStack=tS(u),o[Kt]=qh(n,eS(u)),o.hasFullStack=fr(o.parsedStack)&&o.parsedStack.length>0,i&&(i.typeName=i.typeName||o.typeName)}return o}return t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&Ka(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Kt],parsedStack:n||void 0};return r},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&Ka(r.parsedStack,function(a){return uc.CreateFromInterface(a)})||r.parsedStack,o=new t(n,Fo({},r,{parsedStack:i}));return o},t}(wy),uc=function(e){Ae(t,e);function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var o=n;i.level=r,i.method=zm,i.assembly=ht(o),i.fileName="",i.line=0;var a=o.match(t.regex);a&&a.length>=5&&(i.method=ht(a[2])||i.method,i.fileName=ht(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(xy)}),Sy,rS=M(()=>{Sy=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return e}()}),Id,iS=M(()=>{(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Id||(Id={}))}),Ey,oS=M(()=>{iS(),Ey=function(){function e(){this.kind=Id.Measurement}return e}()}),Cy,aS=M(()=>{Fe(),oS(),Cy=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return t}(Ey)}),Fn,sS=M(()=>{Fe(),rS(),yn(),aS(),xn(),Fn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u,c){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var d=new Cy;return d.count=o>0?o:void 0,d.max=isNaN(s)||s===null?void 0:s,d.min=isNaN(a)||a===null?void 0:a,d.name=At(n,r)||nn,d.value=i,l.metrics=[d],l.properties=kr(n,u),l.measurements=Fr(n,c),l}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Sy)}),xc,hp=M(()=>{Fe(),yy(),xc=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(gp)}),mn,uS=M(()=>{Fe(),hp(),yn(),mc(),xn(),mn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=jh(n,u),c.url=ls(n,i),c.name=At(n,r)||nn,isNaN(o)||(c.duration=ir(o)),c.properties=kr(n,a),c.measurements=Fr(n,s),c}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(xc)}),Iy,cS=M(()=>{Iy=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return e}()}),Nn,lS=M(()=>{Fe(),yn(),ly(),cS(),mc(),Nn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u,c,l,d,f,p){l===void 0&&(l="Ajax");var g=e.call(this)||this;g.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},g.id=r,g.duration=ir(a),g.success=s,g.resultCode=u+"",g.type=At(n,l);var m=jw(n,i,c,o);return g.data=ls(n,o)||m.data,g.target=At(n,m.target),d&&(g.target=g.target+" | "+d),g.name=At(n,m.name),g.properties=kr(n,f),g.measurements=Fr(n,p),g}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Iy)}),Ty,fS=M(()=>{Ty=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}()}),ur,dS=M(()=>{Fe(),fS(),yn(),xn(),ur=function(e){Ae(t,e);function t(n,r,i,o,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||nn,s.message=op(n,r),s.properties=kr(n,o),s.measurements=Fr(n,a),i&&(s.severityLevel=i),s}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(Ty)}),_y,pS=M(()=>{Fe(),hp(),_y=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(xc)}),cr,vS=M(()=>{Fe(),pS(),yn(),xn(),cr=function(e){Ae(t,e);function t(n,r,i,o,a,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=ls(n,i),c.name=At(n,r)||nn,c.properties=kr(n,a),c.measurements=Fr(n,s),u&&(c.domProcessing=u.domProcessing,c.duration=u.duration,c.networkConnect=u.networkConnect,c.perfTotal=u.perfTotal,c.receivedResponse=u.receivedResponse,c.sentRequest=u.sentRequest),c}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(_y)}),tr,gS=M(()=>{Fe(),my(),tr=function(e){Ae(t,e);function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return t}(pp)}),us,mS=M(()=>{(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(us||(us={}))}),Dy,hS=M(()=>{Ee(),Dy=function(){function e(){}return e.getConfig=function(t,n,r,i){i===void 0&&(i=!1);var o;return r&&t.extensionConfig&&t.extensionConfig[r]&&!V(t.extensionConfig[r][n])?o=t.extensionConfig[r][n]:o=t[n],V(o)?i:o},e}()});function Tr(e){var t="ai."+e+".";return function(n){return t+n}}var xo,rt,Ba,hi,Tu,er,_r,bo,bc,Py=M(()=>{Fe(),Ee(),xo=Tr("application"),rt=Tr("device"),Ba=Tr("location"),hi=Tr("operation"),Tu=Tr("session"),er=Tr("user"),_r=Tr("cloud"),bo=Tr("internal"),bc=function(e){Ae(t,e);function t(){return e.call(this)||this}return t}(dw({applicationVersion:xo("ver"),applicationBuild:xo("build"),applicationTypeId:xo("typeId"),applicationId:xo("applicationId"),applicationLayer:xo("layer"),deviceId:rt("id"),deviceIp:rt("ip"),deviceLanguage:rt("language"),deviceLocale:rt("locale"),deviceModel:rt("model"),deviceFriendlyName:rt("friendlyName"),deviceNetwork:rt("network"),deviceNetworkName:rt("networkName"),deviceOEMName:rt("oemName"),deviceOS:rt("os"),deviceOSVersion:rt("osVersion"),deviceRoleInstance:rt("roleInstance"),deviceRoleName:rt("roleName"),deviceScreenResolution:rt("screenResolution"),deviceType:rt("type"),deviceMachineName:rt("machineName"),deviceVMName:rt("vmName"),deviceBrowser:rt("browser"),deviceBrowserVersion:rt("browserVersion"),locationIp:Ba("ip"),locationCountry:Ba("country"),locationProvince:Ba("province"),locationCity:Ba("city"),operationId:hi("id"),operationName:hi("name"),operationParentId:hi("parentId"),operationRootId:hi("rootId"),operationSyntheticSource:hi("syntheticSource"),operationCorrelationVector:hi("correlationVector"),sessionId:Tu("id"),sessionIsFirst:Tu("isFirst"),sessionIsNew:Tu("isNew"),userAccountAcquisitionDate:er("accountAcquisitionDate"),userAccountId:er("accountId"),userAgent:er("userAgent"),userId:er("id"),userStoreRegion:er("storeRegion"),userAuthUserId:er("authUserId"),userAnonymousUserAcquisitionDate:er("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:er("authUserAcquisitionDate"),cloudName:_r("name"),cloudRole:_r("role"),cloudRoleVer:_r("roleVer"),cloudRoleInstance:_r("roleInstance"),cloudEnvironment:_r("environment"),cloudLocation:_r("location"),cloudDeploymentUnit:_r("deploymentUnit"),internalNodeName:bo("nodeName"),internalSdkVersion:bo("sdkVersion"),internalAgentVersion:bo("agentVersion"),internalSnippet:bo("snippet"),internalSdkSrc:bo("sdkSrc")}))}),Dn,yS=M(()=>{yn(),Ee(),xn(),Dn=function(){function e(){}return e.create=function(t,n,r,i,o,a){if(r=At(i,r)||nn,V(t)||V(n)||V(r))throw Error("Input doesn't contain all required fields");var s={name:r,time:Mr(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:n,baseData:t};return V(o)||ct(o,function(u,c){s.data[u]=c}),s},e}()}),Tt,ke,xS=M(()=>{Py(),Tt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ke=new bc}),zo,wc,yp,lt=M(()=>{ly(),Ww(),Bh(),xn(),my(),gy(),Kw(),Gw(),nS(),sS(),uS(),hp(),lS(),dS(),vS(),gS(),mS(),hS(),Py(),yn(),yS(),xS(),Qh(),mc(),Kh(),ty(),ay(),zo="AppInsightsPropertiesPlugin",wc="AppInsightsChannelPlugin",yp="ApplicationInsightsAnalytics"}),Ay,bS=M(()=>{lt(),Ee(),dt(),Ay=function(){function e(t,n,r,i){$e(e,this,function(o){var a=null,s=[],u=!1,c;r&&(c=r.logger);function l(){r&&xe(r.getTransmissionControls(),function(f){xe(f,function(p){return p.flush(!0)})})}function d(f){s.push(f),a||(a=setInterval(function(){var p=s.slice(0),g=!1;s=[],xe(p,function(m){m()?g=!0:s.push(m)}),s.length===0&&(clearInterval(a),a=null),g&&l()},100))}o.trackPageView=function(f,p){var g=f.name;if(V(g)||typeof g!="string"){var m=Rn();g=f.name=m&&m.title||""}var v=f.uri;if(V(v)||typeof v!="string"){var h=Si();v=f.uri=h&&h.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(f,p),l(),c.throwInternal(W.WARNING,L.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var x=!1,E,_=i.getPerformanceTiming().navigationStart;_>0&&(E=_t(_,+new Date),i.shouldCollectDuration(E)||(E=void 0));var y;!V(p)&&!V(p.duration)&&(y=p.duration),(n||!isNaN(y))&&(isNaN(y)&&(p||(p={}),p.duration=E),t.sendPageViewInternal(f,p),l(),x=!0);var K=6e4;p||(p={}),d(function(){var ne=!1;try{if(i.isPerformanceTimingDataReady()){ne=!0;var P={name:g,uri:v};i.populatePageViewPerformanceEvent(P),!P.isValid&&!x?(p.duration=E,t.sendPageViewInternal(f,p)):(x||(p.duration=P.durationMs,t.sendPageViewInternal(f,p)),u||(t.sendPageViewPerformanceInternal(P,p),u=!0))}else _>0&&_t(_,+new Date)>K&&(ne=!0,x||(p.duration=K,t.sendPageViewInternal(f,p)))}catch(Y){c.throwInternal(W.CRITICAL,L.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Pe(Y),{exception:ge(Y)})}return ne})}})}return e}()}),Ry,qm,wS=M(()=>{lt(),Ee(),Ry=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ge(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ge(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(Bo()){rc(this._logger,this.prevPageVisitDataKeyName)!=null&&An("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new qm(t,n),i=hn().stringify(r);ic(this._logger,this.prevPageVisitDataKeyName,i)}}catch(o){this._logger.warnToConsole("Call to start failed: "+ge(o))}},e.prototype.stopPageVisitTimer=function(){try{if(Bo()){var t=tn(),n=rc(this._logger,this.prevPageVisitDataKeyName);if(n&&jo()){var r=hn().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,ey(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ge(i)),null}},e}(),qm=function(){function e(t,n){this.pageVisitStartTime=tn(),this.pageName=t,this.pageUrl=n}return e}()}),My,SS=M(()=>{lt(),Ee(),My=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,o=0,a=0,s=0,u=0;(n||r)&&(n?(i=n.duration,o=n.startTime===0?n.connectEnd:_t(n.startTime,n.connectEnd),a=_t(n.requestStart,n.responseStart),s=_t(n.responseStart,n.responseEnd),u=_t(n.responseEnd,n.loadEventEnd)):(i=_t(r.navigationStart,r.loadEventEnd),o=_t(r.navigationStart,r.connectEnd),a=_t(r.requestStart,r.responseStart),s=_t(r.responseStart,r.responseEnd),u=_t(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(W.WARNING,L.ErrorPVCalc,"error calculating page view performance.",{total:i,network:o,request:a,response:s,dom:u}):this.shouldCollectDuration(i,o,a,s,u)?i<Math.floor(o)+Math.floor(a)+Math.floor(s)+Math.floor(u)?this._logger.throwInternal(W.WARNING,L.ClientPerformanceMathError,"client performance math error.",{total:i,network:o,request:a,response:s,dom:u}):(t.durationMs=i,t.perfTotal=t.duration=ir(i),t.networkConnect=ir(o),t.sentRequest=ir(a),t.receivedResponse=ir(s),t.domProcessing=ir(u),t.isValid=!0):this._logger.throwInternal(W.WARNING,L.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:o,request:a,response:s,dom:u}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?rr().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?rr().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=rr();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=rr();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=rr(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ln()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=r.userAgent,a=!1;if(o)for(var s=0;s<i.length;s++)a=a||o.toLowerCase().indexOf(i[s])!==-1;if(a)return!1;for(var s=0;s<t.length;s++)if(t[s]<0||t[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()});function za(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Hf,_u,xp,Bf,ES=M(()=>{Fe(),lt(),Ee(),bS(),wS(),SS(),dt(),Hf="duration",_u="event",xp=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier=yp,n.priority=180,n.autoRoutePVDelay=500;var r,i,o,a=0,s,u;return $e(t,n,function(c,l){var d=Si(!0);s=d&&d.href||"",c.getCookieMgr=function(){return $d(c.core)},c.processTelemetry=function(v,h){Oo(c.core,function(){return c.identifier+":processTelemetry"},function(){var x=!1,E=c._telemetryInitializers.length;h=c._getTelCtx(h);for(var _=0;_<E;++_){var y=c._telemetryInitializers[_];if(y)try{if(y.apply(null,[v])===!1){x=!0;break}}catch(K){h.diagLog().throwInternal(W.CRITICAL,L.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(K),{exception:ge(K)},!0)}}x||c.processNext(v,h)},function(){return{item:v}},!v.sync)},c.trackEvent=function(v,h){try{var x=Dn.create(v,gn.dataType,gn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(E){c.diagLog().throwInternal(W.WARNING,L.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(E),{exception:ge(E)})}},c.startTrackEvent=function(v){try{r.start(v)}catch(h){c.diagLog().throwInternal(W.CRITICAL,L.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Pe(h),{exception:ge(h)})}},c.stopTrackEvent=function(v,h,x){try{r.stop(v,void 0,h)}catch(E){c.diagLog().throwInternal(W.CRITICAL,L.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Pe(E),{exception:ge(E)})}},c.trackTrace=function(v,h){try{var x=Dn.create(v,ur.dataType,ur.envelopeType,c.diagLog(),h);c.core.track(x)}catch(E){c.diagLog().throwInternal(W.WARNING,L.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(E),{exception:ge(E)})}},c.trackMetric=function(v,h){try{var x=Dn.create(v,Fn.dataType,Fn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(E){c.diagLog().throwInternal(W.CRITICAL,L.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Pe(E),{exception:ge(E)})}},c.trackPageView=function(v,h){try{var x=v||{};c._pageViewManager.trackPageView(x,Fo({},x.properties,x.measurements,h)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(x.name,x.uri)}catch(E){c.diagLog().throwInternal(W.CRITICAL,L.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Pe(E),{exception:ge(E)})}},c.sendPageViewInternal=function(v,h,x){var E=Rn();E&&(v.refUri=v.refUri===void 0?E.referrer:v.refUri);var _=Dn.create(v,mn.dataType,mn.envelopeType,c.diagLog(),h,x);c.core.track(_),a=0},c.sendPageViewPerformanceInternal=function(v,h,x){var E=Dn.create(v,cr.dataType,cr.envelopeType,c.diagLog(),h,x);c.core.track(E)},c.trackPageViewPerformance=function(v,h){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(v),c.sendPageViewPerformanceInternal(v,h)}catch(x){c.diagLog().throwInternal(W.CRITICAL,L.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Pe(x),{exception:ge(x)})}},c.startTrackPage=function(v){try{if(typeof v!="string"){var h=Rn();v=h&&h.title||""}i.start(v)}catch(x){c.diagLog().throwInternal(W.CRITICAL,L.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Pe(x),{exception:ge(x)})}},c.stopTrackPage=function(v,h,x,E){try{if(typeof v!="string"){var _=Rn();v=_&&_.title||""}if(typeof h!="string"){var y=Si();h=y&&y.href||""}i.stop(v,h,x,E),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(v,h)}catch(K){c.diagLog().throwInternal(W.CRITICAL,L.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Pe(K),{exception:ge(K)})}},c.sendExceptionInternal=function(v,h,x){var E=v.exception||v.error||new Error(nn),_=new Dt(c.diagLog(),E,v.properties||h,v.measurements,v.severityLevel,v.id).toInterface(),y=Dn.create(_,Dt.dataType,Dt.envelopeType,c.diagLog(),h,x);c.core.track(y)},c.trackException=function(v,h){try{c.sendExceptionInternal(v,h)}catch(x){c.diagLog().throwInternal(W.CRITICAL,L.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Pe(x),{exception:ge(x)})}},c._onerror=function(v){var h=v&&v.error,x=v&&v.evt;try{if(!x){var E=is();E&&(x=E[_u])}var _=v&&v.url||(Rn()||{}).URL,y=v.errorSrc||"window.onerror@"+_+":"+(v.lineNumber||0)+":"+(v.columnNumber||0),K={errorSrc:y,url:_,lineNumber:v.lineNumber||0,columnNumber:v.columnNumber||0,message:v.message};Xh(v.message,v.url,v.lineNumber,v.columnNumber,v.error)?m(Dt.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",_,v.lineNumber||0,v.columnNumber||0,h,x,null,y),K):(v.errorSrc||(v.errorSrc=y),c.trackException({exception:v,severityLevel:us.Error},K))}catch(P){var ne=h?h.name+", "+h.message:"null";c.diagLog().throwInternal(W.CRITICAL,L.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Pe(P),{exception:ge(P),errorString:ne})}},c.addTelemetryInitializer=function(v){c._telemetryInitializers.push(v)},c.initialize=function(v,h,x,E){if(!c.isInitialized()){if(V(h))throw Error("Error initializing");l.initialize(v,h,x,E),c.setInitialized(!1);var _=c._getTelCtx(),y=c.identifier;c.config=_.getExtCfg(y);var K=t.getDefaultConfig(v);K!==void 0&&ct(K,function(H,X){c.config[H]=_.getConfig(y,H,X),c.config[H]===void 0&&(c.config[H]=X)}),c.config.isStorageUseDisabled&&$h();var ne={instrumentationKey:function(){return v.instrumentationKey},accountId:function(){return c.config.accountId||v.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||v.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||v.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||v.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||v.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||v.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||v.appId}};c._pageViewPerformanceManager=new My(c.core),c._pageViewManager=new Ay(n,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new Ry(c.diagLog(),function(H,X,C){return f(H,X,C)}),c._telemetryInitializers=c._telemetryInitializers||[],p(ne),r=new Bf(c.diagLog(),"trackEvent"),r.action=function(H,X,C,B){B||(B={}),B[Hf]=C.toString(),c.trackEvent({name:H,properties:B})},i=new Bf(c.diagLog(),"trackPageView"),i.action=function(H,X,C,B,Q){V(B)&&(B={}),B[Hf]=C.toString();var G={name:H,uri:X,properties:B,measurements:Q};c.sendPageViewInternal(G,B)};var P=is(),Y=hw(),q=Si(!0),ae=n;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&P){var Z="onerror",le=P[Z];P.onerror=function(H,X,C,B,Q){var G=P[_u],fe=le&&le(H,X,C,B,Q);return fe!==!0&&ae._onerror(Dt.CreateAutoException(H,X,C,B,Q,G)),fe},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&P){var b="onunhandledrejection",I=P[b];P[b]=function(H){var X=P[_u],C=I&&I.call(P,H);return C!==!0&&ae._onerror(Dt.CreateAutoException(H.reason.toString(),q?q.href:"",0,0,H,X)),C},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&Y&&Te(Y.pushState)&&Te(Y.replaceState)&&P&&typeof Event<"u"){var F=n;xe(x,function(H){H.identifier===zo&&(o=H)}),Y.pushState=function(H){return function(){var X=H.apply(this,arguments);return za(P,Co(F.config.namePrefix+"pushState")),za(P,Co(F.config.namePrefix+"locationchange")),X}}(Y.pushState),Y.replaceState=function(H){return function(){var X=H.apply(this,arguments);return za(P,Co(F.config.namePrefix+"replaceState")),za(P,Co(F.config.namePrefix+"locationchange")),X}}(Y.replaceState),P.addEventListener&&(P.addEventListener(F.config.namePrefix+"popstate",function(){za(P,Co(F.config.namePrefix+"locationchange"))}),P.addEventListener(F.config.namePrefix+"locationchange",function(){if(o&&o.context&&o.context.telemetryTrace){o.context.telemetryTrace.traceID=Mn();var H="_unknown_";q&&q.pathname&&(H=q.pathname+(q.hash||"")),o.context.telemetryTrace.name=H}u&&(s=u),u=q&&q.href||"",setTimeout(function(X){F.trackPageView({refUri:X,properties:{duration:0}})}.bind(n,s),F.autoRoutePVDelay)}))}c.setInitialized(!0)}};function f(v,h,x){var E={PageName:v,PageUrl:h};c.trackMetric({name:"PageVisitTime",average:x,max:x,min:x,sampleCount:1},E)}function p(v){if(!v.isBrowserLinkTrackingEnabled()){var h=["/browserLinkSignalR/","/__browserLink/"],x=function(E){if(E.baseType===Nn.dataType){var _=E.baseData;if(_){for(var y=0;y<h.length;y++)if(_.target&&_.target.indexOf(h[y])>=0)return!1}}return!0};g(x)}}function g(v){c._telemetryInitializers.push(v)}function m(v,h){var x=Dn.create(v,Dt.dataType,Dt.envelopeType,c.diagLog(),h);c.core.track(x)}}),n}return t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Re(n.disableExceptionTracking),n.autoTrackPageVisitTime=Re(n.autoTrackPageVisitTime),n.overridePageViewDuration=Re(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Re(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Re(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Re(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Re(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Re(n.enableDebug),n.disableFlushOnBeforeUnload=Re(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Re(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.6.4",t}(Ai),Bf=function(){function e(t,n){var r=this,i={};r.start=function(o){typeof i[o]<"u"&&t.throwInternal(W.WARNING,L.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},r.stop=function(o,a,s,u){var c=i[o];if(isNaN(c))t.throwInternal(W.WARNING,L.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,d=_t(c,l);r.action(o,a,d,s,u)}delete i[o],i[o]=void 0}}return e}()}),ky=M(()=>{ES()}),Fy,Ny,CS=M(()=>{lt(),Ee(),dt(),Fy=function(){function e(t){var n=[];$e(e,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var o=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return o}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return e}(),Ny=function(){function e(t,n){var r=!1,i;$e(e,this,function(o){var a=c(e.BUFFER_KEY),s=c(e.SENT_BUFFER_KEY);i=a.concat(s),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,[]),l(e.BUFFER_KEY,i),o.enqueue=function(d){if(i.length>=e.MAX_BUFFER_SIZE){r||(t.throwInternal(W.WARNING,L.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(d),l(e.BUFFER_KEY,i)},o.count=function(){return i.length},o.clear=function(){i=[],l(e.BUFFER_KEY,[]),l(e.SENT_BUFFER_KEY,[]),r=!1},o.getItems=function(){return i.slice(0)},o.batchPayloads=function(d){if(d&&d.length>0){var f=n.emitLineDelimitedJson()?d.join(`
`):"["+d.join(",")+"]";return f}return null},o.markAsSent=function(d){i=u(d,i),l(e.BUFFER_KEY,i);var f=c(e.SENT_BUFFER_KEY);f instanceof Array&&d instanceof Array&&(f=f.concat(d),f.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(W.CRITICAL,L.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+f.length,!0),f.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,f))},o.clearSent=function(d){var f=c(e.SENT_BUFFER_KEY);f=u(d,f),l(e.SENT_BUFFER_KEY,f)};function u(d,f){var p=[];return xe(f,function(g){!Te(g)&&rs(d,g)===-1&&p.push(g)}),p}function c(d){var f=d;try{f=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+f:f;var p=rc(t,f);if(p){var g=hn().parse(p);if(ye(g)&&(g=hn().parse(g)),g&&fr(g))return g}}catch(m){t.throwInternal(W.CRITICAL,L.FailedToRestoreStorageBuffer," storage key: "+f+", "+Pe(m),{exception:ge(m)})}return[]}function l(d,f){var p=d;try{p=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+p:p;var g=JSON.stringify(f);ic(t,p,g)}catch(m){ic(t,p,JSON.stringify([])),t.throwInternal(W.WARNING,L.FailedToSetStorageBuffer," storage key: "+p+", "+Pe(m)+". Buffer cleared",{exception:ge(m)})}}})}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()});function it(e,t,n){return Ie(e,t,n,Zf)}var Du,He,ut,zf,Ve,Uy,Td,Ly,Oy,Hy,By,zy,IS=M(()=>{Fe(),lt(),Ee(),Du="baseType",He="baseData",ut="properties",zf="true",Ve=function(){function e(){}return e.extractPropsAndMeasurements=function(t,n,r){V(t)||ct(t,function(i,o){Hd(o)?r[i]=o:ye(o)?n[i]=o:jo()&&(n[i]=hn().stringify(o))})},e.createEnvelope=function(t,n,r,i){var o=new vp(t,i,n);it(o,"sampleRate",r[hc]),(r[He]||{}).startTime&&(o.time=Mr(r[He].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(r,o),r.tags=r.tags||[],Tm(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],a=i.user;a&&(it(r,ke.userAuthUserId,a.authId),it(r,ke.userId,a.id||a.localId));var s=i.app;s&&it(r,ke.sessionId,s.sesId);var u=i.device;u&&(it(r,ke.deviceId,u.id||u.localId),it(r,ke.deviceType,u.deviceClass),it(r,ke.deviceIp,u.ip),it(r,ke.deviceModel,u.model),it(r,ke.deviceType,u.deviceType));var c=t.ext.web;if(c){it(r,ke.deviceLanguage,c.browserLang),it(r,ke.deviceBrowserVersion,c.browserVer),it(r,ke.deviceBrowser,c.browser);var l=n.data=n.data||{},d=l[He]=l[He]||{},f=d[ut]=d[ut]||{};it(f,"domain",c.domain),it(f,"isManual",c.isManual?zf:null),it(f,"screenRes",c.screenRes),it(f,"userConsent",c.userConsent?zf:null)}var p=i.os;p&&it(r,ke.deviceOS,p.name);var g=i.trace;g&&(it(r,ke.operationParentId,g.parentID),it(r,ke.operationName,g.name),it(r,ke.operationId,g.traceID));for(var m={},v=o.length-1;v>=0;v--){var h=o[v];ct(h,function(E,_){m[E]=_}),o.splice(v,1)}ct(o,function(E,_){m[E]=_});var x=Fo({},r,m);x[ke.internalSdkVersion]||(x[ke.internalSdkVersion]="javascript:"+e.Version),n.tags=Tm(x)},e.prototype.Init=function(t,n){this._logger=t,V(n[He])&&this._logger.throwInternal(W.CRITICAL,L.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),Uy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[He].measurements||{},o=r[He][ut]||{};Ve.extractPropsAndMeasurements(r.data,o,i);var a=r[He];if(V(a))return n.warnToConsole("Invalid input for dependency data"),null;var s=a[ut]&&a[ut][nc]?a[ut][nc]:"GET",u=new Nn(n,a.id,a.target,a.name,a.duration,a.success,a.responseCode,s,a.type,a.correlationContext,o,i),c=new tr(Nn.dataType,u);return Ve.createEnvelope(n,Nn.envelopeType,r,c)},t.DependencyEnvelopeCreator=new t,t}(Ve),Td=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i={},o={};r[Du]!==gn.dataType&&(i.baseTypeSource=r[Du]),r[Du]===gn.dataType?(i=r[He][ut]||{},o=r[He].measurements||{}):r[He]&&Ve.extractPropsAndMeasurements(r[He],i,o),Ve.extractPropsAndMeasurements(r.data,i,o);var a=r[He].name,s=new gn(n,a,i,o),u=new tr(gn.dataType,s);return Ve.createEnvelope(n,gn.envelopeType,r,u)},t.EventEnvelopeCreator=new t,t}(Ve),Ly=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[He].measurements||{},o=r[He][ut]||{};Ve.extractPropsAndMeasurements(r.data,o,i);var a=r[He],s=Dt.CreateFromInterface(n,a,o,i),u=new tr(Dt.dataType,s);return Ve.createEnvelope(n,Dt.envelopeType,r,u)},t.ExceptionEnvelopeCreator=new t,t}(Ve),Oy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[He],o=i[ut]||{},a=i.measurements||{};Ve.extractPropsAndMeasurements(r.data,o,a);var s=new Fn(n,i.name,i.average,i.sampleCount,i.min,i.max,o,a),u=new tr(Fn.dataType,s);return Ve.createEnvelope(n,Fn.envelopeType,r,u)},t.MetricEnvelopeCreator=new t,t}(Ve),Hy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i="duration",o,a=r[He];!V(a)&&!V(a[ut])&&!V(a[ut][i])?(o=a[ut][i],delete a[ut][i]):!V(r.data)&&!V(r.data[i])&&(o=r.data[i],delete r.data[i]);var s=r[He],u;((r.ext||{}).trace||{}).traceID&&(u=r.ext.trace.traceID);var c=s.id||u,l=s.name,d=s.uri,f=s[ut]||{},p=s.measurements||{};if(V(s.refUri)||(f.refUri=s.refUri),V(s.pageType)||(f.pageType=s.pageType),V(s.isLoggedIn)||(f.isLoggedIn=s.isLoggedIn.toString()),!V(s[ut])){var g=s[ut];ct(g,function(h,x){f[h]=x})}Ve.extractPropsAndMeasurements(r.data,f,p);var m=new mn(n,l,d,o,f,p,c),v=new tr(mn.dataType,m);return Ve.createEnvelope(n,mn.envelopeType,r,v)},t.PageViewEnvelopeCreator=new t,t}(Ve),By=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[He],o=i.name,a=i.uri||i.url,s=i[ut]||{},u=i.measurements||{};Ve.extractPropsAndMeasurements(r.data,s,u);var c=new cr(n,o,a,void 0,s,u,i),l=new tr(cr.dataType,c);return Ve.createEnvelope(n,cr.envelopeType,r,l)},t.PageViewPerformanceEnvelopeCreator=new t,t}(Ve),zy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[He].message,o=r[He].severityLevel,a=r[He][ut]||{},s=r[He].measurements||{};Ve.extractPropsAndMeasurements(r.data,a,s);var u=new ur(n,i,o,a,s),c=new tr(ur.dataType,u);return Ve.createEnvelope(n,ur.envelopeType,r,c)},t.TraceEnvelopeCreator=new t,t}(Ve)}),qy,TS=M(()=>{Ee(),dt(),qy=function(){function e(t){$e(e,this,function(n){n.serialize=function(a){var s=r(a,"root");try{return hn().stringify(s)}catch(u){t.throwInternal(W.CRITICAL,L.CannotSerializeObject,u&&Te(u.toString)?u.toString():"Error serializing object",null,!0)}};function r(a,s){var u="__aiCircularRefCheck",c={};if(!a)return t.throwInternal(W.CRITICAL,L.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:s},!0),c;if(a[u])return t.throwInternal(W.WARNING,L.CircularReferenceDetected,"Circular reference detected while serializing object",{name:s},!0),c;if(!a.aiDataContract){if(s==="measurements")c=o(a,"number",s);else if(s==="properties")c=o(a,"string",s);else if(s==="tags")c=o(a,"string",s);else if(fr(a))c=i(a,s);else{t.throwInternal(W.WARNING,L.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{hn().stringify(a),c=a}catch(l){t.throwInternal(W.CRITICAL,L.CannotSerializeObject,l&&Te(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return a[u]=!0,ct(a.aiDataContract,function(l,d){var f=Te(d)?d()&1:d&1,p=Te(d)?d()&4:d&4,g=d&2,m=a[l]!==void 0,v=Ti(a[l])&&a[l]!==null;if(f&&!m&&!g)t.throwInternal(W.CRITICAL,L.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!p){var h=void 0;v?g?h=i(a[l],l):h=r(a[l],l):h=a[l],h!==void 0&&(c[l]=h)}}),delete a[u],c}function i(a,s){var u;if(a)if(!fr(a))t.throwInternal(W.CRITICAL,L.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{u=[];for(var c=0;c<a.length;c++){var l=a[c],d=r(l,s+"["+c+"]");u.push(d)}}return u}function o(a,s,u){var c;return a&&(c={},ct(a,function(l,d){if(s==="string")d===void 0?c[l]="undefined":d===null?c[l]="null":d.toString?c[l]=d.toString():c[l]="invalid field: toString() is not defined.";else if(s==="number")if(d===void 0)c[l]="undefined";else if(d===null)c[l]="null";else{var f=parseFloat(d);isNaN(f)?c[l]="NaN":c[l]=f}else c[l]="invalid field: "+u+" is of unknown type.",t.throwInternal(W.CRITICAL,c[l],null,!0)})),c}})}return e}()}),jm,_d,_S=M(()=>{Ee(),dt(),jm=function(){function e(){var t=is(),n=Rn(),r=!1,i=!0;$e(e,this,function(o){try{if(t&&as.Attach(t,"online",u)&&(as.Attach(t,"offline",c),r=!0),n){var a=n.body||n;Pt(a.ononline)||(a.ononline=u,a.onoffline=c,r=!0)}if(r){var s=Ln();s&&!V(s.onLine)&&(i=s.onLine)}}catch{r=!1}o.isListening=r,o.isOnline=function(){var l=!0,d=Ln();return r?l=i:d&&!V(d.onLine)&&(l=d.onLine),l},o.isOffline=function(){return!o.isOnline()};function u(){i=!0}function c(){i=!1}})}return e.Offline=new e,e}(),_d=jm.Offline}),jy,DS=M(()=>{jy=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}),Wy,PS=M(()=>{DS(),lt(),Wy=function(){function e(){this.hashCodeGeneragor=new jy,this.keys=new bc}return e.prototype.getSamplingScore=function(t){var n=0;return t.tags&&t.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):n=Math.random()*100,n},e}()}),Vy,AS=M(()=>{PS(),lt(),Ee(),Vy=function(){function e(t,n){this.INT_MAX_VALUE=2147483647,this._logger=n||dc(null),(t>100||t<0)&&(this._logger.throwInternal(W.WARNING,L.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new Wy}return e.prototype.isSampledIn=function(t){var n=this.sampleRate,r=!1;return n==null||n>=100||t.baseType===Fn.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(t)<n,r)},e}()});function Pu(e){try{return e.responseText}catch{}return null}var bp,RS=M(()=>{Fe(),CS(),IS(),TS(),lt(),Ee(),_S(),AS(),dt(),bp=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=wc,n._XMLHttpRequestSupported=!1;var r,i,o,a,s,u,c={};return $e(t,n,function(l,d){function f(){An("Method not implemented.")}l.pause=f,l.resume=f,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(b){l.diagLog().throwInternal(W.CRITICAL,L.FlushFailed,"flush failed, telemetry will not be collected: "+Pe(b),{exception:ge(b)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&xd())try{l.triggerSend(!0,v,2)}catch(b){l.diagLog().throwInternal(W.CRITICAL,L.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Pe(b),{exception:ge(b)})}else l.flush()},l.teardown=f,l.addHeader=function(b,I){c[b]=I},l.initialize=function(b,I,F,H){d.initialize(b,I,F,H);var X=l._getTelCtx(),C=l.identifier;s=new qy(I.logger),r=0,i=null,o=0,l._sender=null,u=0;var B=t._getDefaultAppInsightsChannelConfig();if(l._senderConfig=t._getEmptyAppInsightsChannelConfig(),ct(B,function(T,A){l._senderConfig[T]=function(){return X.getConfig(C,T,A())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&Bo()?new Ny(l.diagLog(),l._senderConfig):new Fy(l._senderConfig),l._sample=new Vy(l._senderConfig.samplingPercentage(),l.diagLog()),le(b)||l.diagLog().throwInternal(W.CRITICAL,L.InvalidInstrumentationKey,"Invalid Instrumentation key "+b.instrumentationKey),!Bu(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&xe(l._senderConfig.customHeaders(),function(T){n.addHeader(T.header,T.value)}),!l._senderConfig.isBeaconApiDisabled()&&xd())l._sender=v;else{var Q=bt("XMLHttpRequest");if(Q){var G=new Q;"withCredentials"in G?(l._sender=h,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==or&&(l._sender=Y)}else{var fe=bt("fetch");fe&&(l._sender=x)}}},l.processTelemetry=function(b,I){I=l._getTelCtx(I);try{if(l._senderConfig.disableTelemetry())return;if(!b){I.diagLog().throwInternal(W.CRITICAL,L.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(b.baseData&&!b.baseType){I.diagLog().throwInternal(W.CRITICAL,L.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(b.baseType||(b.baseType="EventData"),!l._sender){I.diagLog().throwInternal(W.CRITICAL,L.SenderNotInitialized,"Sender was not initialized");return}if(p(b))b[hc]=l._sample.sampleRate;else{I.diagLog().throwInternal(W.WARNING,L.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var F=t.constructEnvelope(b,l._senderConfig.instrumentationKey(),I.diagLog());if(!F){I.diagLog().throwInternal(W.CRITICAL,L.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var H=!1;if(b.tags&&b.tags[Ro]&&(xe(b.tags[Ro],function(Q){try{Q&&Q(F)===!1&&(H=!0,I.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(G){I.diagLog().throwInternal(W.CRITICAL,L.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(G),{exception:ge(G)},!0)}}),delete b.tags[Ro]),H)return;var X=s.serialize(F),C=l._buffer.getItems(),B=l._buffer.batchPayloads(C);B&&B.length+X.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(X),K()}catch(Q){I.diagLog().throwInternal(W.WARNING,L.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Pe(Q),{exception:ge(Q)})}l.processNext(b,I)},l._xhrReadyStateChange=function(b,I,F){b.readyState===4&&g(b.status,I,b.responseURL,F,P(b),Pu(b)||b.response)},l.triggerSend=function(b,I,F){b===void 0&&(b=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var H=l._buffer.getItems();Z(F||0,b),I?I.call(n,H,b):l._sender(H,b)}o=+new Date}clearTimeout(a),a=null,i=null}catch(C){var X=zd();(!X||X>9)&&l.diagLog().throwInternal(W.CRITICAL,L.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Pe(C),{exception:ge(C)})}},l._onError=function(b,I,F){l.diagLog().throwInternal(W.WARNING,L.OnError,"Failed to send telemetry.",{message:I}),l._buffer.clearSent(b)},l._onPartialSuccess=function(b,I){for(var F=[],H=[],X=I.errors.reverse(),C=0,B=X;C<B.length;C++){var Q=B[C],G=b.splice(Q.index,1)[0];ne(Q.statusCode)?H.push(G):F.push(G)}b.length>0&&l._onSuccess(b,I.itemsAccepted),F.length>0&&l._onError(F,P(null,["partial success",I.itemsAccepted,"of",I.itemsReceived].join(" "))),H.length>0&&(_(H),l.diagLog().throwInternal(W.WARNING,L.TransmissionFailed,"Partial success. Delivered: "+b.length+", Failed: "+F.length+". Will retry to send "+H.length+" our of "+I.itemsReceived+" items"))},l._onSuccess=function(b,I){l._buffer.clearSent(b)},l._xdrOnLoad=function(b,I){var F=Pu(b);if(b&&(F+""=="200"||F===""))r=0,l._onSuccess(I,0);else{var H=E(F);H&&H.itemsReceived&&H.itemsReceived>H.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(I,H):l._onError(I,q(b))}};function p(b){return l._sample.isSampledIn(b)}function g(b,I,F,H,X,C){var B=null;if(l._appId||(B=E(C),B&&B.appId&&(l._appId=B.appId)),(b<200||b>=300)&&b!==0){if((b===301||b===307||b===308)&&!m(F)){l._onError(I,X);return}!l._senderConfig.isRetryDisabled()&&ne(b)?(_(I),l.diagLog().throwInternal(W.WARNING,L.TransmissionFailed,". Response code "+b+". Will retry to send "+I.length+" items.")):l._onError(I,X)}else if(_d.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Q=10;_(I,Q),l.diagLog().throwInternal(W.WARNING,L.TransmissionFailed,". Offline - Response Code: "+b+". Offline status: "+_d.isOffline()+". Will retry to send "+I.length+" items.")}}else m(F),b===206?(B||(B=E(C)),B&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(I,B):l._onError(I,X)):(r=0,l._onSuccess(I,H))}function m(b){return u>=10?!1:!V(b)&&b!==""&&b!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return b},++u,!0):!1}function v(b,I){var F=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(b),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),C=Ln().sendBeacon(F,X);C?(l._buffer.markAsSent(b),l._onSuccess(b,b.length)):(h(b,!0),l.diagLog().throwInternal(W.WARNING,L.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function h(b,I){var F=new XMLHttpRequest,H=l._senderConfig.endpointUrl();try{F[bi]=!0}catch{}F.open("POST",H,I),F.setRequestHeader("Content-type","application/json"),Bu(H)&&F.setRequestHeader(Le.sdkContextHeader,Le.sdkContextHeaderAppIdRequest),xe(_i(c),function(C){F.setRequestHeader(C,c[C])}),F.onreadystatechange=function(){return l._xhrReadyStateChange(F,b,b.length)},F.onerror=function(C){return l._onError(b,P(F),C)};var X=l._buffer.batchPayloads(b);F.send(X),l._buffer.markAsSent(b)}function x(b,I){var F=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(b),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),C=new Headers;Bu(F)&&C.append(Le.sdkContextHeader,Le.sdkContextHeaderAppIdRequest),xe(_i(c),function(G){C.append(G,c[G])});var B={method:"POST",headers:C,body:X},Q=new Request(F,B);fetch(Q).then(function(G){if(G.ok)G.text().then(function(fe){g(G.status,b,G.url,b.length,G.statusText,fe)}),l._buffer.markAsSent(b);else throw Error(G.statusText)}).catch(function(G){l._onError(b,G.message)})}function E(b){try{if(b&&b!==""){var I=hn().parse(b);if(I&&I.itemsReceived&&I.itemsReceived>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors.length)return I}}catch(F){l.diagLog().throwInternal(W.CRITICAL,L.InvalidBackendResponse,"Cannot parse the response. "+Pe(F),{response:b})}return null}function _(b,I){if(I===void 0&&(I=1),!(!b||b.length===0)){l._buffer.clearSent(b),r++;for(var F=0,H=b;F<H.length;F++){var X=H[F];l._buffer.enqueue(X)}y(I),K()}}function y(b){var I=10,F;if(r<=1)F=I;else{var H=(Math.pow(2,r)-1)/2,X=Math.floor(Math.random()*H*I)+1;X=b*X,F=Math.max(Math.min(X,3600),I)}var C=tn()+F*1e3;i=C}function K(){if(!a){var b=i?Math.max(0,i-tn()):0,I=Math.max(l._senderConfig.maxBatchInterval(),b);a=setTimeout(function(){l.triggerSend(!0,null,1)},I)}}function ne(b){return b===408||b===429||b===500||b===503}function P(b,I){return b?"XMLHttpRequest,Status:"+b.status+",Response:"+Pu(b)||b.response||"":I}function Y(b,I){var F=is(),H=new XDomainRequest;H.onload=function(){return l._xdrOnLoad(H,b)},H.onerror=function(Q){return l._onError(b,q(H),Q)};var X=F&&F.location&&F.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(X,0)!==0){l.diagLog().throwInternal(W.WARNING,L.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var C=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");H.open("POST",C);var B=l._buffer.batchPayloads(b);H.send(B),l._buffer.markAsSent(b)}function q(b,I){return b?"XDomainRequest,Response:"+Pu(b)||"":I}function ae(){var b="getNotifyMgr";return l.core[b]?l.core[b]():l.core._notificationManager}function Z(b,I){var F=ae();if(F&&F.eventsSendRequest)try{F.eventsSendRequest(b,I)}catch(H){l.diagLog().throwInternal(W.CRITICAL,L.NotificationException,"send request notification failed: "+Pe(H),{exception:ge(H)})}}function le(b){var I=V(b.disableInstrumentationKeyValidation)?!1:b.disableInstrumentationKeyValidation;if(I)return!0;var F="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",H=new RegExp(F);return H.test(b.instrumentationKey)}}),n}return t.constructEnvelope=function(n,r,i){var o;switch(r!==n.iKey&&!V(r)?o=Fo({},n,{iKey:r}):o=n,o.baseType){case gn.dataType:return Td.EventEnvelopeCreator.Create(i,o);case ur.dataType:return zy.TraceEnvelopeCreator.Create(i,o);case mn.dataType:return Hy.PageViewEnvelopeCreator.Create(i,o);case cr.dataType:return By.PageViewPerformanceEnvelopeCreator.Create(i,o);case Dt.dataType:return Ly.ExceptionEnvelopeCreator.Create(i,o);case Fn.dataType:return Oy.MetricEnvelopeCreator.Create(i,o);case Nn.dataType:return Uy.DependencyEnvelopeCreator.Create(i,o);default:return Td.EventEnvelopeCreator.Create(i,o)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Ai)}),Ky=M(()=>{RS()}),Wm,Dd,Gy,MS=M(()=>{dt(),lt(),Ee(),Wm="ai_session",Dd=function(){function e(){}return e}(),Gy=function(){function e(t,n){var r=this,i,o,a=dc(n),s=$d(n);$e(e,r,function(u){t||(t={}),Te(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Te(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),u.config=t;var c=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";i=function(){return Wm+c},u.automaticSession=new Dd,u.update=function(){var m=tn(),v=!1,h=u.automaticSession;h.id||(v=!l(h,m));var x=u.config.sessionExpirationMs();if(!v&&x>0){var E=u.config.sessionRenewalMs(),_=m-h.acquisitionDate,y=m-h.renewalDate;v=_<0||y<0,v=v||_>x,v=v||y>E}v?f(m):(!o||m-o>e.cookieUpdateInterval)&&p(h,m)},u.backup=function(){var m=u.automaticSession;g(m.id,m.acquisitionDate,m.renewalDate)};function l(m,v){var h=!1,x=s.get(i());if(x&&Te(x.split))h=d(m,x);else{var E=Jh(a,i());E&&(h=d(m,E))}return h||!!m.id}function d(m,v){var h=!1,x=", session will be reset",E=v.split("|");if(E.length>=2)try{var _=+E[1]||0,y=+E[2]||0;isNaN(_)||_<=0?a.throwInternal(W.WARNING,L.SessionRenewalDateIsZero,"AI session acquisition date is 0"+x):isNaN(y)||y<=0?a.throwInternal(W.WARNING,L.SessionRenewalDateIsZero,"AI session renewal date is 0"+x):E[0]&&(m.id=E[0],m.acquisitionDate=_,m.renewalDate=y,h=!0)}catch(K){a.throwInternal(W.CRITICAL,L.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(v||"")+"]"+x+" - "+Pe(K),{exception:ge(K)})}return h}function f(m){var v=u.config||{},h=(v.getNewId?v.getNewId():null)||gc;u.automaticSession.id=h(v.idLength?v.idLength():22),u.automaticSession.acquisitionDate=m,p(u.automaticSession,m),lp()||a.throwInternal(W.WARNING,L.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function p(m,v){var h=m.acquisitionDate;m.renewalDate=v;var x=u.config,E=x.sessionRenewalMs(),_=h+x.sessionExpirationMs()-v,y=[m.id,h,v],K=0;_<E?K=_/1e3:K=E/1e3;var ne=x.cookieDomain?x.cookieDomain():null;s.set(i(),y.join("|"),x.sessionExpirationMs()>0?K:null,ne),o=v}function g(m,v,h){Yh(a,i(),[m,v,h].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()}),Xy,kS=M(()=>{Xy=function(){function e(){}return e}()}),Qy,FS=M(()=>{Qy=function(){function e(){this.id="browser",this.deviceClass="Browser"}return e}()}),Vm,$y,NS=M(()=>{Vm="2.6.4",$y=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+Vm}return e}()});function Km(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}var Jy,US=M(()=>{dt(),lt(),Ee(),Jy=function(){function e(t,n){this.isNewUser=!1;var r=dc(n),i=$d(n),o;$e(e,this,function(a){a.config=t;var s=a.config.userCookiePostfix&&a.config.userCookiePostfix()?a.config.userCookiePostfix():"";o=function(){return e.userCookieName+s};var u=i.get(o());if(u){a.isNewUser=!1;var c=u.split(e.cookieSeparator);c.length>0&&(a.id=c[0])}if(!a.id){var l=t||{},d=(l.getNewId?l.getNewId():null)||gc;a.id=d(l.idLength?t.idLength():22);var f=31536e3,p=Mr(new Date);a.accountAcquisitionDate=p,a.isNewUser=!0;var g=[a.id,p];i.set(o(),g.join(e.cookieSeparator),f);var m=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Zh(r,m)}a.accountId=t.accountId?t.accountId():void 0;var v=i.get(e.authUserCookieName);if(v){v=decodeURI(v);var h=v.split(e.cookieSeparator);h[0]&&(a.authenticatedId=h[0]),h.length>1&&h[1]&&(a.accountId=h[1])}a.setAuthenticatedUserContext=function(x,E,_){_===void 0&&(_=!1);var y=!Km(x)||E&&!Km(E);if(y){r.throwInternal(W.WARNING,L.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}a.authenticatedId=x;var K=a.authenticatedId;E&&(a.accountId=E,K=[a.authenticatedId,a.accountId].join(e.cookieSeparator)),_&&i.set(e.authUserCookieName,encodeURI(K))},a.clearAuthenticatedUserContext=function(){a.authenticatedId=null,a.accountId=null,i.del(e.authUserCookieName)}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()}),Yy,LS=M(()=>{Yy=function(){function e(){}return e}()}),Zy,OS=M(()=>{lt(),Ee(),Zy=function(){function e(t,n,r,i){var o=this;o.traceID=t||Mn(),o.parentID=n,o.name=r;var a=Si();!r&&a&&a.pathname&&(o.name=a.pathname),o.name=At(i,o.name)}return e}()});function wo(e,t){e&&e[t]&&_i(e[t]).length===0&&delete e[t]}var qa,ja,ex,HS=M(()=>{dt(),Ee(),MS(),lt(),kS(),FS(),NS(),US(),LS(),OS(),qa="ext",ja="tags",ex=function(){function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},$e(e,this,function(o){o.application=new Xy,o.internal=new $y(n),fc()&&(o.sessionManager=new Gy(n,t),o.device=new Qy,o.location=new Yy,o.user=new Jy(n,t),o.telemetryTrace=new Zy(void 0,void 0,void 0,i),o.session=new Dd),o.applySessionContext=function(a,s){var u=o.session,c=o.sessionManager;u&&ye(u.id)?Ie(yt(a.ext,Tt.AppExt),"sesId",u.id):c&&c.automaticSession&&Ie(yt(a.ext,Tt.AppExt),"sesId",c.automaticSession.id,ye)},o.applyOperatingSystemContxt=function(a,s){Ie(a.ext,Tt.OSExt,o.os)},o.applyApplicationContext=function(a,s){var u=o.application;if(u){var c=yt(a,ja);Ie(c,ke.applicationVersion,u.ver,ye),Ie(c,ke.applicationBuild,u.build,ye)}},o.applyDeviceContext=function(a,s){var u=o.device;if(u){var c=yt(yt(a,qa),Tt.DeviceExt);Ie(c,"localId",u.id,ye),Ie(c,"ip",u.ip,ye),Ie(c,"model",u.model,ye),Ie(c,"deviceClass",u.deviceClass,ye)}},o.applyInternalContext=function(a,s){var u=o.internal;if(u){var c=yt(a,ja);Ie(c,ke.internalAgentVersion,u.agentVersion,ye),Ie(c,ke.internalSdkVersion,u.sdkVersion,ye),(a.baseType===Po.dataType||a.baseType===mn.dataType)&&(Ie(c,ke.internalSnippet,u.snippetVer,ye),Ie(c,ke.internalSdkSrc,u.sdkSrc,ye))}},o.applyLocationContext=function(a,s){var u=r.location;u&&Ie(yt(a,ja,[]),ke.locationIp,u.ip,ye)},o.applyOperationContext=function(a,s){var u=o.telemetryTrace;if(u){var c=yt(yt(a,qa),Tt.TraceExt,{traceID:void 0,parentID:void 0});Ie(c,"traceID",u.traceID,ye),Ie(c,"name",u.name,ye),Ie(c,"parentID",u.parentID,ye)}},o.applyWebContext=function(a,s){var u=r.web;u&&Ie(yt(a,qa),Tt.WebExt,u)},o.applyUserContext=function(a,s){var u=o.user;if(u){var c=yt(a,ja,[]);Ie(c,ke.userAccountId,u.accountId,ye);var l=yt(yt(a,qa),Tt.UserExt);Ie(l,"id",u.id,ye),Ie(l,"authId",u.authenticatedId,ye)}},o.cleanUp=function(a,s){var u=a.ext;u&&(wo(u,Tt.DeviceExt),wo(u,Tt.UserExt),wo(u,Tt.WebExt),wo(u,Tt.OSExt),wo(u,Tt.AppExt),wo(u,Tt.TraceExt))}})}return e}()}),Gm,wp,BS=M(()=>{Fe(),dt(),Ee(),HS(),lt(),Gm=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=zo;var r,i;return $e(t,n,function(o,a){o.initialize=function(u,c,l,d){a.initialize(u,c,l,d);var f=o._getTelCtx(),p=o.identifier,g=t.getDefaultConfig();i=i||{},ct(g,function(m,v){i[m]=function(){return f.getConfig(p,m,v())}}),o.context=new ex(c,i),r=Gh(l,wc),o.context.appId=function(){return r?r._appId:null},o._extConfig=i},o.processTelemetry=function(u,c){if(!V(u)){c=o._getTelCtx(c),u.name===mn.envelopeType&&c.diagLog().resetInternalMessageCount();var l=o.context||{};if(l.session&&typeof o.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),s(u,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var d=new Po(L.SendBrowserInfoOnUserInit,(Ln()||{}).userAgent||"");c.diagLog().logInternalMessage(W.CRITICAL,d)}o.processNext(u,c)}};function s(u,c){yt(u,"tags",[]),yt(u,"ext",{});var l=o.context;l.applySessionContext(u,c),l.applyApplicationContext(u,c),l.applyDeviceContext(u,c),l.applyOperationContext(u,c),l.applyUserContext(u,c),l.applyOperatingSystemContxt(u,c),l.applyWebContext(u,c),l.applyLocationContext(u,c),l.applyInternalContext(u,c),l.cleanUp(u,c)}}),n}return t.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},t}(Ai),wp=Gm}),tx=M(()=>{BS()});function nx(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=_t(i,o)),r}function yi(e,t,n,r,i){var o=0,a=nx(n,r,i);return a&&(o=Dr(e,t,ir(a))),o}function Dr(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var o=e[r]=e[r]||{};o[t]=n,i=1}return i}function zS(e,t){var n=e.perfTiming,r=t[Bt]||{},i=0,o="name",a="Start",s="End",u="domainLookup",c="connect",l="redirect",d="request",f="response",p="duration",g="startTime",m=u+a,v=u+s,h=c+a,x=c+s,E=d+a,_=d+s,y=f+a,K=f+s,ne=l+a,P=l=s,Y="transferSize",q="encodedBodySize",ae="decodedBodySize",Z="serverTiming";if(n){i|=yi(r,l,n,ne,P),i|=yi(r,u,n,m,v),i|=yi(r,c,n,h,x),i|=yi(r,d,n,E,_),i|=yi(r,f,n,y,K),i|=yi(r,"networkConnect",n,g,x),i|=yi(r,"sentRequest",n,E,K);var le=n[p];le||(le=nx(n,g,K)||0),i|=Dr(r,p,le),i|=Dr(r,"perfTotal",le);var b=n[Z];if(b){var I={};xe(b,function(F,H){var X=lw(F[o]||""+H),C=I[X]||{};ct(F,function(B,Q){(B!==o&&ye(Q)||Hd(Q))&&(C[B]&&(Q=C[B]+";"+Q),(Q||!ye(Q))&&(C[B]=Q))}),I[X]=C}),i|=Dr(r,Z,I)}i|=Dr(r,Y,n[Y]),i|=Dr(r,q,n[q]),i|=Dr(r,ae,n[ae])}else e.perfMark&&(i|=Dr(r,"missing",e.perfAttempts));i&&(t[Bt]=r)}var Bt,Xm,Pd,qS=M(()=>{lt(),Ee(),dt(),Bt="properties",Xm=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return e}(),Pd=function(){function e(t,n,r){var i=this,o=r,a="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Xm,i.clientFailure=0,i.traceID=t,i.spanID=n,$e(e,i,function(s){s.getAbsoluteUrl=function(){return s.requestUrl?ny(s.requestUrl):null},s.getPathName=function(){return s.requestUrl?ls(o,ry(s.method,s.requestUrl)):null},s.CreateTrackItem=function(u,c,l){if(s.ajaxTotalDuration=Math.round(_t(s.requestSentTime,s.responseFinishedTime)*1e3)/1e3,s.ajaxTotalDuration<0)return null;var d=(m={id:"|"+s.traceID+"."+s.spanID,target:s.getAbsoluteUrl(),name:s.getPathName(),type:u,startTime:null,duration:s.ajaxTotalDuration,success:+s.status>=200&&+s.status<400,responseCode:+s.status,method:s.method},m[Bt]={HttpMethod:s.method},m);if(s.requestSentTime&&(d.startTime=new Date,d.startTime.setTime(s.requestSentTime)),zS(s,d),c&&_i(s.requestHeaders).length>0&&(d[Bt]=d[Bt]||{},d[Bt].requestHeaders=s.requestHeaders),l){var f=l();if(f){var p=f.correlationContext;if(p&&(d.correlationContext=p),f.headerMap&&_i(f.headerMap).length>0&&(d[Bt]=d[Bt]||{},d[Bt].responseHeaders=f.headerMap),s.status>=400){var g=f.type;d[Bt]=d[Bt]||{},(g===""||g==="text")&&(d[Bt][a]=f[a]?f.statusText+" - "+f[a]:f.statusText),g==="json"&&(d[Bt][a]=f.response?f.statusText+" - "+JSON.stringify(f.response):f.statusText)}}}return d;var m}})}return e}()}),jS,WS=M(()=>{Ee(),Ee(),jS=function(){function e(){}return e.GetLength=function(t){var n=0;if(!V(t)){var r="";try{r=t.toString()}catch{}n=r.length,n=isNaN(n)?0:n}return n},e}()}),Ad,VS=M(()=>{Ee(),Ad=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=Mn(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=Mn().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()});function KS(){var e=ko();return!e||V(e.Request)||V(e.Request[Gt])||V(e[Do])?null:e[Do]}function GS(e){var t=!1;if(typeof XMLHttpRequest!==or&&!V(XMLHttpRequest)){var n=XMLHttpRequest[Gt];t=!V(n)&&!V(n.open)&&!V(n.send)&&!V(n.abort)}var r=zd();if(r&&r<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[zt]={};var o=XMLHttpRequest[Gt].open;XMLHttpRequest[Gt].open=o}catch(a){t=!1,Ja(e,L.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:ge(a)})}return t}function zu(e){var t="";try{!V(e)&&!V(e[zt])&&!V(e[zt].requestUrl)&&(t+="(url: '"+e[zt].requestUrl+"')")}catch{}return t}function Ja(e,t,n,r,i){e[_o]()[Sp](W.CRITICAL,t,n,r,i)}function Au(e,t,n,r,i){e[_o]()[Sp](W.WARNING,t,n,r,i)}function Wa(e,t,n){return function(r){Ja(e,t,n,{ajaxDiagnosticsMessage:zu(r.inst),exception:ge(r.err)})}}function So(e,t){return e&&t?e.indexOf(t):-1}var qf,_o,zt,Sp,Do,jf,Ep,XS=M(()=>{Fe(),lt(),Ee(),qS(),WS(),VS(),dt(),qf="ai.ajxmn.",_o="diagLog",zt="ajaxData",Sp="throwInternal",Do="fetch",jf=0,Ep=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r="trackDependencyDataInternal",i=Si(),o=!1,a=!1,s=i&&i.host&&i.host.toLowerCase(),u=t.getEmptyConfig(),c=!1,l=0,d,f,p,g,m=!1,v=0,h=!1,x=[],E={},_;return $e(t,n,function(y,K){y.initialize=function(T,A,U,z){if(!y.isInitialized()){K.initialize(T,A,U,z);var $=y._getTelCtx(),oe=t.getDefaultConfig();ct(oe,function(Ye,rn){u[Ye]=$.getConfig(t.identifier,Ye,rn)});var re=u.distributedTracingMode;if(c=u.enableRequestHeaderTracking,m=u.enableAjaxPerfTracking,v=u.maxAjaxCallsPerView,h=u.enableResponseHeaderTracking,_=u.excludeRequestFromAutoTrackingPatterns,p=re===vn.AI||re===vn.AI_AND_W3C,f=re===vn.AI_AND_W3C||re===vn.W3C,m){var be=T.instrumentationKey||"unkwn";be.length>5?g=qf+be.substring(be.length-5)+".":g=qf+be+"."}if(u.disableAjaxTracking===!1&&q(),P(),U.length>0&&U){for(var Me=void 0,Oe=0;!Me&&Oe<U.length;)U[Oe]&&U[Oe].identifier===zo&&(Me=U[Oe]),Oe++;Me&&(d=Me.context)}}},y.teardown=function(){xe(x,function(T){T.rm()}),x=[],o=!1,a=!1,y.setInitialized(!1)},y.trackDependencyData=function(T,A){y[r](T,A)},y.includeCorrelationHeaders=function(T,A,U,z){var $=y._currentWindowHost||s;if(A){if(Pr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(U||(U={}),U.headers=new Headers(U.headers||(A instanceof Request?A.headers||{}:{})),p){var oe="|"+T.traceID+"."+T.spanID;U.headers.set(Le.requestIdHeader,oe),c&&(T.requestHeaders[Le.requestIdHeader]=oe)}var re=u.appId||d&&d.appId();if(re&&(U.headers.set(Le.requestContextHeader,Le.requestContextAppIdFormat+re),c&&(T.requestHeaders[Le.requestContextHeader]=Le.requestContextAppIdFormat+re)),f){var be=new Ad(T.traceID,T.spanID);U.headers.set(Le.traceParentHeader,be.toString()),c&&(T.requestHeaders[Le.traceParentHeader]=be.toString())}}return U}else if(z){if(Pr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(p){var oe="|"+T.traceID+"."+T.spanID;z.setRequestHeader(Le.requestIdHeader,oe),c&&(T.requestHeaders[Le.requestIdHeader]=oe)}var re=u.appId||d&&d.appId();if(re&&(z.setRequestHeader(Le.requestContextHeader,Le.requestContextAppIdFormat+re),c&&(T.requestHeaders[Le.requestContextHeader]=Le.requestContextAppIdFormat+re)),f){var be=new Ad(T.traceID,T.spanID);z.setRequestHeader(Le.traceParentHeader,be.toString()),c&&(T.requestHeaders[Le.traceParentHeader]=be.toString())}}return z}},y[r]=function(T,A,U){if(v===-1||l<v){(u.distributedTracingMode===vn.W3C||u.distributedTracingMode===vn.AI_AND_W3C)&&typeof T.id=="string"&&T.id[T.id.length-1]!=="."&&(T.id+="."),V(T.startTime)&&(T.startTime=new Date);var z=Dn.create(T,Nn.dataType,Nn.envelopeType,y[_o](),A,U);y.core.track(z)}else l===v&&Ja(y,L.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function ne(T){var A=!0;return(T||u.ignoreHeaders)&&xe(u.ignoreHeaders,function(U){if(U.toLowerCase()===T.toLowerCase())return A=!1,-1}),A}function P(){var T=KS();if(T){var A=ko(),U=T.polyfill;u.disableFetchTracking===!1?(x.push(gd(A,Do,{req:function(z,$,oe){var re;if(o&&!ae(null,$,oe)&&!(U&&a)){var be=z.ctx();re=B($,oe);var Me=y.includeCorrelationHeaders(re,$,oe);Me!==oe&&z.set(1,Me),be.data=re}},rsp:function(z,$){var oe=z.ctx().data;oe&&(z.rslt=z.rslt.then(function(re){return G(z,(re||{}).status,re,oe,function(){var be={statusText:re.statusText,headerMap:null,correlationContext:fe(re)};if(h){var Me={};re.headers.forEach(function(Oe,Ye){ne(Ye)&&(Me[Ye]=Oe)}),be.headerMap=Me}return be}),re}).catch(function(re){throw G(z,0,$,oe,null,{error:re.message}),re}))},hkErr:Wa(y,L.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),o=!0):U&&x.push(gd(A,Do,{req:function(z,$,oe){ae(null,$,oe)}})),U&&(A[Do].polyfill=U)}}function Y(T,A,U){x.push(Hw(T,A,U))}function q(){GS(y)&&!a&&(Y(XMLHttpRequest,"open",{req:function(T,A,U,z){var $=T.inst,oe=$[zt];!ae($,U)&&Z($,!0)&&(!oe||!oe.xhrMonitoringState.openDone)&&le($,A,U,z)},hkErr:Wa(y,L.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"send",{req:function(T,A){var U=T.inst,z=U[zt];Z(U)&&!z.xhrMonitoringState.sendDone&&(X("xhr",z),z.requestSentTime=Xa(),y.includeCorrelationHeaders(z,void 0,void 0,U),z.xhrMonitoringState.sendDone=!0)},hkErr:Wa(y,L.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"abort",{req:function(T){var A=T.inst,U=A[zt];Z(A)&&!U.xhrMonitoringState.abortDone&&(U.aborted=1,U.xhrMonitoringState.abortDone=!0)},hkErr:Wa(y,L.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&Y(XMLHttpRequest,"setRequestHeader",{req:function(T,A,U){var z=T.inst;Z(z)&&ne(A)&&(z[zt].requestHeaders[A]=U)},hkErr:Wa(y,L.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0)}function ae(T,A,U){var z=!1,$=((ye(A)?A:(A||{}).url||"")||"").toLowerCase();if(xe(_,function(be){var Me=be;ye(be)&&(Me=new RegExp(be)),z||(z=Me.test($))}),z)return z;var oe=So($,"?"),re=So($,"#");return(oe===-1||re!==-1&&re<oe)&&(oe=re),oe!==-1&&($=$.substring(0,oe)),V(T)?V(A)||(z=(typeof A=="object"?A[bi]===!0:!1)||(U?U[bi]===!0:!1)):z=T[bi]===!0||$[bi]===!0,z?E[$]||(E[$]=1):E[$]&&(z=!0),z}function Z(T,A){var U=!0,z=a;return V(T)||(U=A===!0||!V(T[zt])),z&&U}function le(T,A,U,z){var $=d&&d.telemetryTrace&&d.telemetryTrace.traceID||Mn(),oe=Mn().substr(0,16),re=new Pd($,oe,y[_o]());re.method=A,re.requestUrl=U,re.xhrMonitoringState.openDone=!0,re.requestHeaders={},re.async=z,T[zt]=re,b(T)}function b(T){T[zt].xhrMonitoringState.stateChangeAttached=as.Attach(T,"readystatechange",function(){try{T&&T.readyState===4&&Z(T)&&F(T)}catch(U){var A=ge(U);(!A||So(A.toLowerCase(),"c00c023f")===-1)&&Ja(y,L.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:zu(T),exception:A})}})}function I(T){try{var A=T.responseType;if(A===""||A==="text")return T.responseText}catch{}return null}function F(T){var A=T[zt];A.responseFinishedTime=Xa(),A.status=T.status;function U(z,$){var oe=$||{};oe.ajaxDiagnosticsMessage=zu(T),z&&(oe.exception=ge(z)),Au(y,L.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",oe)}C("xmlhttprequest",A,function(){try{var z=A.CreateTrackItem("Ajax",c,function(){var $={statusText:T.statusText,headerMap:null,correlationContext:H(T),type:T.responseType,responseText:I(T),response:T.response};if(h){var oe=T.getAllResponseHeaders();if(oe){var re=ht(oe).split(/[\r\n]+/),be={};xe(re,function(Me){var Oe=Me.split(": "),Ye=Oe.shift(),rn=Oe.join(": ");ne(Ye)&&(be[Ye]=rn)}),$.headerMap=be}}return $});z?y[r](z):U(null,{requestSentTime:A.requestSentTime,responseFinishedTime:A.responseFinishedTime})}finally{try{T[zt]=null}catch{}}},function(z){U(z,null)})}function H(T){try{var A=T.getAllResponseHeaders();if(A!==null){var U=So(A.toLowerCase(),Le.requestContextHeaderLowerCase);if(U!==-1){var z=T.getResponseHeader(Le.requestContextHeader);return Pr.getCorrelationContext(z)}}}catch($){Au(y,L.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:zu(T),exception:ge($)})}}function X(T,A){if(A.requestUrl&&g&&m){var U=rr();if(U&&Te(U.mark)){jf++;var z=g+T+"#"+jf;U.mark(z);var $=U.getEntriesByName(z);$&&$.length===1&&(A.perfMark=$[0])}}}function C(T,A,U,z){var $=A.perfMark,oe=rr(),re=u.maxAjaxPerfLookupAttempts,be=u.ajaxPerfLookupDelay,Me=A.requestUrl,Oe=0;(function Ye(){try{if(oe&&$){Oe++;for(var rn=null,Bn=oe.getEntries(),Rt=Bn.length-1;Rt>=0;Rt--){var Mt=Bn[Rt];if(Mt){if(Mt.entryType==="resource")Mt.initiatorType===T&&(So(Mt.name,Me)!==-1||So(Me,Mt.name)!==-1)&&(rn=Mt);else if(Mt.entryType==="mark"&&Mt.name===$.name){A.perfTiming=rn;break}if(Mt.startTime<$.startTime-1e3)break}}}!$||A.perfTiming||Oe>=re||A.async===!1?($&&Te(oe.clearMarks)&&oe.clearMarks($.name),A.perfAttempts=Oe,U()):setTimeout(Ye,be)}catch(w){z(w)}})()}function B(T,A){var U=d&&d.telemetryTrace&&d.telemetryTrace.traceID||Mn(),z=Mn().substr(0,16),$=new Pd(U,z,y[_o]());$.requestSentTime=Xa(),T instanceof Request?$.requestUrl=T?T.url:"":$.requestUrl=T;var oe="GET";A&&A.method?oe=A.method:T&&T instanceof Request&&(oe=T.method),$.method=oe;var re={};if(c){var be=new Headers((A?A.headers:0)||(T instanceof Request?T.headers||{}:{}));be.forEach(function(Me,Oe){ne(Oe)&&(re[Oe]=Me)})}return $.requestHeaders=re,X("fetch",$),$}function Q(T){var A="";try{V(T)||(typeof T=="string"?A+="(url: '"+T+"')":A+="(url: '"+T.url+"')")}catch(U){Ja(y,L.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:ge(U)})}return A}function G(T,A,U,z,$,oe){if(!z)return;function re(be,Me,Oe){var Ye=Oe||{};Ye.fetchDiagnosticsMessage=Q(U),Me&&(Ye.exception=ge(Me)),Au(y,be,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Ye)}z.responseFinishedTime=Xa(),z.status=A,C("fetch",z,function(){var be=z.CreateTrackItem("Fetch",c,$);be?y[r](be):re(L.FailedMonitorAjaxDur,null,{requestSentTime:z.requestSentTime,responseFinishedTime:z.responseFinishedTime})},function(be){re(L.FailedMonitorAjaxGetCorrelationHeader,be,null)})}function fe(T){if(T&&T.headers)try{var A=T.headers.get(Le.requestContextHeader);return Pr.getCorrelationContext(A)}catch(U){Au(y,L.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Q(T),exception:ge(U)})}}}),n}return t.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:vn.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return ct(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(Ai)}),rx=M(()=>{XS()}),Wf,Vf,Qm,ix,Cp,ox=M(()=>{Ee(),ky(),Ky(),tx(),rx(),lt(),Vf=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Qm={Default:0,Required:1,Array:2,Hidden:4},ix={__proto__:null,PropertiesPluginIdentifier:zo,BreezeChannelIdentifier:wc,AnalyticsPluginIdentifier:yp,Util:fp,CorrelationIdHelper:Pr,UrlHelper:uy,DateTimeUtils:cy,ConnectionStringParser:vy,FieldType:Qm,RequestHeaders:Le,DisabledPropertyName:bi,ProcessLegacy:Ro,SampleRate:hc,HttpMethod:nc,DEFAULT_BREEZE_ENDPOINT:sp,AIData:pp,AIBase:dp,Envelope:vp,Event:gn,Exception:Dt,Metric:Fn,PageView:mn,PageViewData:xc,RemoteDependencyData:Nn,Trace:ur,PageViewPerformance:cr,Data:tr,SeverityLevel:us,ConfigurationManager:Dy,ContextTagKeys:bc,DataSanitizer:Vh,TelemetryItemCreator:Dn,CtxTagKeys:ke,Extensions:Tt,DistributedTracingModes:vn},Cp=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=fy(r.connectionString),o=i.ingestionendpoint;r.endpointUrl=o?o+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new xp,n.properties=new wp,n.dependencies=new Ep,n.core=new ep,n._sender=new bp,n.snippet=t,n.config=r,n.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){var n=t||{};this.appInsights.trackPageView(n)},e.prototype.trackPageViewPerformance=function(t){var n=t||{};this.appInsights.trackPageViewPerformance(n)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;t===void 0&&(t=!0),Oo(this.core,function(){return"AISKU.flush"},function(){xe(n.core.getTransmissionControls(),function(r){xe(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),xe(this.core.getTransmissionControls(),function(n){xe(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;t===void 0&&(t=!1);var o=this;function a(s){if(s){var u="";V(o._snippetVersion)||(u+=o._snippetVersion),t&&(u+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=u||"-"),ct(o,function(c,l){ye(c)&&!Te(l)&&c&&c[0]!=="_"&&Vf.indexOf(c)===-1&&(s[c]=l)})}}return t&&o.config.extensions&&o.config.extensions.length>0&&An("Extensions not allowed in legacy mode"),Oo(o.core,function(){return"AISKU.loadAppInsights"},function(){var s=[];s.push(o._sender),s.push(o.properties),s.push(o.dependencies),s.push(o.appInsights),o.core.initialize(o.config,s,n,r),o.context=o.properties.context,Wf&&o.context&&(o.context.internal.sdkSrc=Wf),a(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(i)}),o},e.prototype.updateSnippetDefinitions=function(t){ah(t,this,function(n){return n&&Vf.indexOf(n)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(fr(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++){var i=t.snippet.queue[r];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(a){var o={};a&&Te(a.toString)&&(o.exception=a.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(fc()||uh()){var n=function(){t.onunloadFlush(!1),xe(t.appInsights.core._extensions,function(i){if(i.identifier===zo)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!t.appInsights.config.disableFlushOnBeforeUnload){var r=xi("beforeunload",n);r=xi("unload",n)||r,r=xi("pagehide",n)||r,r=xi("visibilitychange",n)||r,!r&&!ww()&&t.appInsights.core.logger.throwInternal(W.CRITICAL,L.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(xi("pagehide",n),xi("visibilitychange",n))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch{}if(e)try{var i=e.toLowerCase();if(i){for(var o="",a=0;a<n.length;a++)if(i.indexOf(n[a])!==-1){o="cdn"+(a+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?o+="-next":i.indexOf("/beta/")!==-1&&(o+="-beta")),Wf=o+(t?".mod":"");break}}}catch{}}()}),$m,ax,QS=M(()=>{lt(),Ee(),$m=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],ax=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=30*60*1e3,t.sessionExpirationMs=24*60*60*1e3,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=Re(t.enableDebug),t.disableExceptionTracking=Re(t.disableExceptionTracking),t.disableTelemetry=Re(t.disableTelemetry),t.verboseLogging=Re(t.verboseLogging),t.emitLineDelimitedJson=Re(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=Re(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=Re(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=Re(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=Re(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=Re(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=Re(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=Re(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=Re(t.isRetryDisabled),t.isCookieUseDisabled=Re(t.isCookieUseDisabled),t.isStorageUseDisabled=Re(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=Re(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=Re(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,o){var a={name:t,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(a)},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,o,a,s){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:o,properties:{HttpMethod:n},success:a,responseCode:s})},e.prototype.trackException=function(t,n,r,i,o){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,o,a){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:o})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,o){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:o})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){An("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){ah(t,this,function(n){return n&&$m.indexOf(n)===-1})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(o,a,s){n.apply(t,[null,o,a,s])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(o,a,s){t.trackPageView(null,o,a,s)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(o,a,s){t.trackEvent(o,a,s)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[Ro]=this._queue,t},e}()}),sx,$S=M(()=>{QS(),ox(),Ee(),sx=function(){function e(){}return e.getAppInsights=function(t,n){var r=new Cp(t),i=n!==2;if(Wo(),n===2)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var o=new ax(t,r);return o.updateSnippetDefinitions(t),r.loadAppInsights(i),o},e}()}),ux={};$b(ux,{AppInsightsCore:()=>ep,ApplicationAnalytics:()=>xp,ApplicationInsights:()=>Cp,ApplicationInsightsContainer:()=>sx,BaseCore:()=>Yd,BaseTelemetryPlugin:()=>Ai,CoreUtils:()=>tc,DependenciesPlugin:()=>Ep,DistributedTracingModes:()=>vn,Event:()=>gn,Exception:()=>Dt,LoggingSeverity:()=>W,Metric:()=>Fn,NotificationManager:()=>Zd,PageView:()=>mn,PageViewPerformance:()=>cr,PerfEvent:()=>Ao,PerfManager:()=>Kd,PropertiesPlugin:()=>wp,RemoteDependencyData:()=>Nn,Sender:()=>bp,SeverityLevel:()=>us,Telemetry:()=>ix,Trace:()=>ur,Util:()=>fp,_InternalMessageId:()=>L,doPerf:()=>Oo});var JS=M(()=>{ox(),$S(),Ee(),lt(),Ky(),ky(),tx(),rx()}),YS=(e,t,n)=>Mo(void 0,null,function*(){let r=yield Promise.resolve().then(()=>(fi(),Ng)),i=yield Promise.resolve().then(()=>(xm(),ym)),o=new r.AppInsightsCore,a=new i.PostChannel,s={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(n){s.extensionConfig={};let c={alwaysUseXhrOverride:!0,httpXHROverride:n};s.extensionConfig[a.identifier]=c}let u=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(s,[]),o.addTelemetryInitializer(c=>{var l,d;!u||(c.ext=(l=c.ext)!=null?l:{},c.ext.utc=(d=c.ext.utc)!=null?d:{},c.ext.utc.flags=8462029)}),o}),ZS=(e,t,n)=>Mo(void 0,null,function*(){let r=yield YS(e,t,n);return{logEvent:(i,o)=>{try{r?.track({name:i,baseData:{name:i,properties:o?.properties,measurements:o?.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>Mo(void 0,null,function*(){try{r?.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}})}}),eE=class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}flush(){return Mo(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},kn=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return kn._instance||(kn._instance=new kn(e)),kn._instance}},tE=class{constructor(e,t,n,r,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=kn.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(t=n)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(e==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let o=[];for(let c of r)for(;(n=c.exec(e))&&n;)o.push([n.index,c.lastIndex]);let a=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,u=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!a.test(n[0])&&o.every(([c,l])=>n.index<c||n.index>=l)&&(i+=e.substring(u,n.index)+"<REDACTED: user-file-path>",u=s.lastIndex);u<e.length&&(i+=e.substr(u))}for(let o of r)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,a=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":a.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(kn.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&e!==""){if(t=Pn(Pn({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=Pn(Pn({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=Pn(Pn({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},nE=(e,t)=>Mo(void 0,null,function*(){let n;try{let r=yield Promise.resolve().then(()=>(JS(),ux)),i;e&&e.indexOf("AIF-")===0&&(i="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),i&&fetch(i).catch(()=>n=void 0)}catch(r){return Promise.reject(r)}return{logEvent:(r,i)=>{let o=Pn(Pn({},i?.properties),i?.measurements);t!=null&&t.length&&kn.applyReplacements(o,t),n?.trackEvent({name:r},o)},logException:(r,i)=>{let o=Pn(Pn({},i?.properties),i?.measurements);t!=null&&t.length&&kn.applyReplacements(o,t),n?.trackException({exception:r,properties:o})},flush:()=>Mo(void 0,null,function*(){n?.flush()})}}),cx=class extends tE{constructor(e,t,n,r,i){let o=s=>nE(s,i);kn.shouldUseOneDataSystemSDK(n)&&(o=s=>ZS(s,Jm));let a=new eE(n,o);n&&(n.indexOf("AIF-")===0||kn.shouldUseOneDataSystemSDK(n))&&(r=!0),super(e,t,a,{release:navigator.appVersion,platform:"web",architecture:"web"},Jm,r)}};var Je=ft(require("vscode"));var Nr=class{constructor(t){this.interval=t}next(){return rE(this.interval)}},rE=e=>({duration:e,next(){return this}});var Ri=class extends Error{constructor(t="Operation cancelled"){super(t),this.message=t,this.isTaskCancelledError=!0}};var fx={dispose:()=>{}},lx;(function(e){e.once=(t,n)=>{let r=!1,i;return i=t(o=>{n(o),i?i.dispose():r=!0}),r?(i.dispose(),fx):i},e.toPromise=(t,n)=>n?n.aborted?Promise.reject(new Ri):new Promise((r,i)=>{let o=iE(n)(()=>{a.dispose(),i(new Ri)}),a=e.once(t,s=>{o.dispose(),r(s)})}):new Promise(r=>e.once(t,r))})(lx||(lx={}));var iE=e=>{let t=new Ip;if(e.aborted)return t.emit(),t.addListener;let n=()=>{t.emit(),e.removeEventListener("abort",n)};return e.addEventListener("abort",n),t.addListener},bn=class{constructor(){this.addListener=t=>this.addListenerInner(t)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(t){if(this.listeners)if(typeof this.listeners=="function")this.listeners(t);else for(let n of this.listeners)n(t)}addListenerInner(t){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,t]:this.listeners.push(t):this.listeners=t,{dispose:()=>this.removeListener(t)}}removeListener(t){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===t&&(this.listeners=void 0);return}let n=this.listeners.indexOf(t);n!==-1&&(this.listeners.length===2?this.listeners=n===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,n).concat(this.listeners.slice(n+1)))}};var Ip=class extends bn{constructor(){super(...arguments),this.addListener=t=>this.lastValue?(t(this.lastValue.value),fx):this.addListenerInner(t)}emit(t){this.lastValue={value:t},super.emit(t),this.listeners=void 0}};var Vo=new AbortController().signal,dx=new AbortController;dx.abort();var WD=dx.signal;var px=e=>{if("error"in e)throw e.error;return"success"in e?e.success:e.value},oE=()=>{if(typeof performance<"u"){let e=performance.now();return()=>performance.now()-e}else{let e=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-e)/1e6}},Ur=class e{constructor(t=()=>!1,n=()=>!1){this.errorFilter=t,this.resultFilter=n,this.successEmitter=new bn,this.failureEmitter=new bn,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new e(this.errorFilter,this.resultFilter)}async invoke(t,...n){let r=this.successEmitter.size||this.failureEmitter.size?oE():null;try{let i=await t(...n);return this.resultFilter(i)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:i}}),{value:i}):(r&&this.successEmitter.emit({duration:r()}),{success:i})}catch(i){let o=i,a=this.errorFilter(o);if(r&&this.failureEmitter.emit({duration:r(),handled:a,reason:{error:o}}),!a)throw o;return{error:o}}}};var Sc=class extends Error{constructor(t,n){super(`Bulkhead capacity exceeded (0/${t} execution slots, 0/${n} available)`),this.isBulkheadRejectedError=!0}};var vx=()=>{let e,t,n=new Promise((r,i)=>{e=r,t=i});return{resolve:e,reject:t,promise:n}};var Ec=class{constructor(t,n){this.capacity=t,this.queueCapacity=n,this.active=0,this.queue=[],this.onRejectEmitter=new bn,this.executor=new Ur,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(t,n=Vo){if(n.aborted)throw new Ri;if(this.active<this.capacity){this.active++;try{return await t({signal:n})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){let{resolve:r,reject:i,promise:o}=vx();return this.queue.push({signal:n,fn:t,resolve:r,reject:i}),o}throw this.onRejectEmitter.emit(),new Sc(this.capacity,this.queueCapacity)}dequeue(){let t=this.queue.shift();t&&Promise.resolve().then(()=>this.execute(t.fn,t.signal)).then(t.resolve).catch(t.reject)}};var Cc=class{constructor(){this.executor=new Ur,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(t,n=Vo){return px(await this.executor.invoke(t,{signal:n}))}};var aE=(e,t)=>new Promise(n=>{let r=setTimeout(n,e);t&&r.unref()}),Ic=class e{constructor(t,n){this.options=t,this.executor=n,this.onGiveUpEmitter=new bn,this.onRetryEmitter=new bn,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}dangerouslyUnref(){return new e({...this.options,unref:!0},this.executor.clone())}async execute(t,n=Vo){let r=this.options.backoff||new Nr(0),i;for(let o=0;;o++){let a=await this.executor.invoke(t,{attempt:o,signal:n});if("success"in a)return a.success;if(!n.aborted&&o<this.options.maxAttempts){let s={attempt:o+1,signal:n,result:a};i=i?i.next(s):r.next(s);let u=i.duration,c=aE(u,!!this.options.unref);this.onRetryEmitter.emit({...a,delay:u}),await c;continue}if(this.onGiveUpEmitter.emit(a),"error"in a)throw a.error;return a.value}}};var gx=(e,t)=>t?n=>n instanceof e&&t(n):n=>n instanceof e,sE=()=>!0,mx=()=>!1,Tc=class e{constructor(t){this.options=t}orType(t,n){let r=gx(t,n);return new e({...this.options,errorFilter:i=>this.options.errorFilter(i)||r(i)})}orWhen(t){return new e({...this.options,errorFilter:n=>this.options.errorFilter(n)||t(n)})}orWhenResult(t){return new e({...this.options,resultFilter:n=>this.options.resultFilter(n)||t(n)})}orResultType(t,n){let r=gx(t,n);return new e({...this.options,resultFilter:i=>this.options.resultFilter(i)||r(i)})}},gP=new Cc,mP=new Tc({errorFilter:sE,resultFilter:mx});function hx(e){return new Tc({errorFilter:e,resultFilter:mx})}function _c(e,t=0){return new Ec(e,t)}function yx(e,t){return new Ic({backoff:t.backoff||new Nr(0),maxAttempts:t.maxAttempts??1/0},new Ur(e.options.errorFilter,e.options.resultFilter))}var xx=e=>(t,n)=>{let r,i=0,o=n.length-1;for(;i<=o;)r=Math.floor((i+o)/2),e(n[r])>=t?o=r-1:i=r+1;return i};var Dc=Symbol("unset"),Pc=e=>{let t=Dc,n=()=>(t===Dc&&(t=e()),t);return n.getValue=()=>t===Dc?void 0:t,n.forget=()=>{t=Dc},n};var uE=e=>e.op===0?{...e,op:1,previous:e.value}:e.op===1?{...e,op:0,value:e.previous}:{...e,value:e.previous,previous:e.value};var fs=class{constructor(t){this.saveGuard=_c(1,1/0);this._unsavedEditIndex=0;this.getSizeInner=Pc(()=>this.accessor.getSize());this.getAllEditTimeline=Pc(()=>wx(this._edits));this.getUnsavedEditTimeline=Pc(()=>wx(this._edits.slice(this._unsavedEditIndex)));this._edits=t.edits?t.edits.saved.concat(t.edits.unsaved):[],this._unsavedEditIndex=t.edits?.saved.length??0,this.supportsLengthChanges=t.supportsLengthChanges,this.isFiniteSize=t.isFiniteSize,this.accessor=t.accessor,this.pageSize=t.accessor.pageSize}get uri(){return this.accessor.uri}get isReadonly(){return!!this.accessor.isReadonly}async size(){if(!this.isFiniteSize)return;let t=await this.getSizeInner();if(t!==void 0)return t}async sizeWithEdits(){if(!this.isFiniteSize)return;let t=await this.getSizeInner();if(t===void 0)return;let{sizeDelta:n}=this.getUnsavedEditTimeline();return t+n}get edits(){return this._edits}get unsavedEdits(){return this._edits.slice(this.unsavedEditIndex)}get unsavedEditIndex(){return this._unsavedEditIndex}get isSynced(){return this.unsavedEditIndex===this.edits.length}readInto(t,n){return this.accessor.read(t,n)}readWithAllEdits(t=0,n=128*1024){return bx(this.accessor,this.getAllEditTimeline().ranges,t,n)}readWithUnsavedEdits(t=0,n=128*1024){return bx(this.accessor,this.getUnsavedEditTimeline().ranges,t,n)}save(){let t=this._edits.slice(this.unsavedEditIndex);return t.length===0?Promise.resolve():this.saveGuard.execute(async()=>{t.some(n=>n.op!==2||n.previous.length!==n.value.length)?await this.accessor.writeStream(this.readWithUnsavedEdits()):await this.accessor.writeBulk(t.map(n=>({offset:n.offset,data:n.value}))),this._unsavedEditIndex+=t.length,this.getUnsavedEditTimeline.forget(),this.getSizeInner.forget()})}revert(){this._unsavedEditIndex=0,this._edits=[],this.accessor.invalidate?.(),this.getAllEditTimeline.forget(),this.getUnsavedEditTimeline.forget(),this.getSizeInner.forget()}makeEdits(t){let n=this._edits.length;return this._edits.push(...t),this.getAllEditTimeline.forget(),this.getUnsavedEditTimeline.forget(),{undo:()=>(this.unsavedEditIndex<=n?this._edits.splice(n,t.length):this._edits.push(...t.map(uE)),this.getAllEditTimeline.forget(),this.getUnsavedEditTimeline.forget(),this._edits),redo:()=>(this._edits.push(...t),this.getAllEditTimeline.forget(),this.getUnsavedEditTimeline.forget(),this._edits)}}dispose(){this.accessor.dispose()}};async function*bx(e,t,n=0,r=1024){let i=new Uint8Array(r);for(let o=0;o<t.length;o++){let a=t[o];if(a.op===1)continue;if(a.op===3){let c=a.offset+a.length-n;if(c<=0)continue;let l=c<a.length?i.fill(0,-c).subarray(-c):i.fill(0,-a.length).subarray(-a.length);l.length>0&&(yield l);continue}if(a.op===2){let c=a.offset+a.value.length-n;if(c<=0)continue;let l=c<a.value.length?a.value.subarray(-c):a.value;l.length>0&&(yield l);continue}let s=a.roffset+(o+1<t.length?t[o+1].offset:1/0)-a.offset,u=a.roffset+Math.max(0,n-a.offset);for(;u<s;){let c=await e.read(u,i.subarray(0,Math.min(i.length,s-u)));if(c===0)break;yield i.subarray(0,c),u+=c}}}var wx=e=>{let t=[{op:0,editIndex:-1,roffset:0,offset:0}],n=(a,s,u)=>s.op===0?{before:{op:0,editIndex:a,roffset:s.roffset,offset:s.offset},after:{op:0,editIndex:a,roffset:s.roffset+u,offset:s.offset+u}}:s.op===1?{before:{op:1,editIndex:a,offset:s.offset},after:{op:1,editIndex:a,offset:s.offset+u}}:s.op===2?{before:{op:2,editIndex:a,offset:s.offset,value:s.value.subarray(0,u)},after:{op:2,editIndex:a,offset:s.offset+u,value:s.value.subarray(u)}}:{before:{op:3,editIndex:a,offset:s.offset,length:u},after:{op:3,editIndex:a,offset:s.offset+u,length:s.length-u}},r=xx(a=>a.offset),i=0,o=(a,s)=>{for(i+=s;a<t.length;a++)t[a].offset+=s};for(let a=0;a<e.length;a++){let s=e[a],u=r(s.offset,t);(u===t.length||t[u].offset>s.offset)&&u--;let c=t[u];if(s.op===0||s.op===3){let{before:l,after:d}=n(a,c,s.offset-c.offset);t.splice(u,1,l,s.op===0?{op:2,editIndex:a,offset:s.offset,value:s.value}:{op:3,editIndex:a,offset:s.offset,length:s.length},d),o(u+2,s.op===0?s.value.length:s.length)}else if(s.op===1||s.op===2){let{before:l}=n(a,c,s.offset-c.offset),d=r(s.offset+s.previous.length,t);(d===t.length||t[d].offset>s.offset)&&d--;let{after:f}=n(a,t[d],s.offset+s.previous.length-t[d].offset);t.splice(u,d-u+1,l,s.op===2?{op:2,editIndex:a,offset:s.offset,value:s.value}:{op:1,editIndex:a,offset:s.offset},f),o(u+2,(s.op===2?s.value.length:0)-s.previous.length)}}return{ranges:t,sizeDelta:i}};var Sx=ft(require("vscode"));function Mi(e){let t={};if(e){let n=(e[0]==="?"?e.substr(1):e).split("&");for(let r of n){let i=r.split("="),o=i.shift();if(o){let a=i.join("=");o==="side"?(a==="modified"||a==="original"||a===void 0)&&(t.side=a):t[o]=a}}}return t}function Tp(e){let t=[];for(let n in e){let r=e[n];r!==void 0&&r!==""&&t.push(`${n}=${r}`)}return t.join("&")}var cE=()=>{let e=0;return()=>(e++).toString()},lE=cE(),Ex=(e,t)=>{let n=lE(),r=e.with({scheme:"hexdiff",query:Tp({...Mi(e.query),side:"original",token:n})}),i=t.with({scheme:"hexdiff",query:Tp({...Mi(e.query),side:"modified",token:n})});Sx.commands.executeCommand("vscode.diff",r,i)};var fE=typeof atob=="function",dE=typeof btoa=="function",Mc=typeof Buffer=="function",_P=typeof TextDecoder=="function"?new TextDecoder:void 0,DP=typeof TextEncoder=="function"?new TextEncoder:void 0,pE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ds=Array.prototype.slice.call(pE),Ac=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(ds),vE=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Rc=String.fromCharCode.bind(String),Cx=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=n=>n)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),gE=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Tx=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),mE=e=>{let t,n,r,i,o="",a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=ds[t>>18&63]+ds[t>>12&63]+ds[t>>6&63]+ds[t&63]}return a?o.slice(0,a-3)+"===".substring(a):o},hE=dE?e=>btoa(e):Mc?e=>Buffer.from(e,"binary").toString("base64"):mE,Ix=Mc?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(Rc.apply(null,e.subarray(r,r+4096)));return hE(n.join(""))},kc=(e,t=!1)=>t?gE(Ix(e)):Ix(e);var yE=e=>{if(e=e.replace(/\s+/g,""),!vE.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let o=0;o<e.length;)t=Ac[e.charAt(o++)]<<18|Ac[e.charAt(o++)]<<12|(r=Ac[e.charAt(o++)])<<6|(i=Ac[e.charAt(o++)]),n+=r===64?Rc(t>>16&255):i===64?Rc(t>>16&255,t>>8&255):Rc(t>>16&255,t>>8&255,t&255);return n},xE=fE?e=>atob(Tx(e)):Mc?e=>Buffer.from(e,"base64").toString("binary"):yE,bE=Mc?e=>Cx(Buffer.from(e,"base64")):e=>Cx(xE(e),t=>t.charCodeAt(0)),_x=e=>bE(wE(e));var wE=e=>Tx(e.replace(/[-_]/g,t=>t=="-"?"+":"/"));var wn=ft(require("vscode"));var Ko=class{constructor(t,n){this.messageHandler=t;this.postMessage=n;this.messageIdCounter=0;this.pendingMessages=new Map}sendEvent(t,n){this.postMessage({body:t,messageId:this.messageIdCounter++},n)}sendRequest(t,n){let r=this.messageIdCounter++;return this.postMessage({body:t,messageId:r},n),new Promise((i,o)=>{this.pendingMessages.set(r,{resolve:i,reject:o})})}sendReply(t,n){this.postMessage({body:n,messageId:this.messageIdCounter++,inReplyTo:t.messageId})}handleMessage(t){t.inReplyTo!==void 0?(this.pendingMessages.get(t.inReplyTo)?.resolve(t.body),this.pendingMessages.delete(t.inReplyTo)):Promise.resolve(this.messageHandler(t.body)).then(n=>n&&this.sendReply(t,n))}};var Px={Hex:EE,Literal:CE,"UTF-8":SE,C:IE,Go:TE,Java:_E,JSON:DE,Base64:PE},Ax=async e=>{let t=[{label:"Hex"},{label:"Literal"},{label:"UTF-8"},{label:"C"},{label:"Go"},{label:"Java"},{label:"JSON"},{label:"Base64"}];wn.window.showQuickPick(t).then(n=>{n&&e.sendEvent({type:15,format:n.label})})};function SE(e){wn.env.clipboard.writeText(new TextDecoder().decode(e))}function EE(e){let t=Array.from(e,n=>n.toString(16).padStart(2,"0")).join("");wn.env.clipboard.writeText(t)}function CE(e){let t="",r=Array.from(e,i=>i.toString(16).padStart(2,"0")).join("").match(/.{1,2}/g);r&&(t="\\x"+r.join("\\x")),wn.env.clipboard.writeText(t)}function IE(e,t){let n=e.length,r=`unsigned char ${t}[${n}] =
{`;for(let i=0;i<n;++i){i%8==0&&(r+=`
	`);let o=e[i].toString(16).padStart(2,"0");r+=`0x${o}, `}r+=`
};
`,typeof process<"u"&&process.platform==="win32"&&(r=r.replace(/\n/g,`\r
`)),wn.env.clipboard.writeText(r)}function TE(e,t){let n=e.length,r=`// ${t} (${n} bytes)
`;r+=`var ${t} = []byte{`;for(let i=0;i<n;++i){i%8==0&&(r+=`
	`);let o=e[i].toString(16).padStart(2,"0");r+=`0x${o}, `}r+=`
}
`,typeof process<"u"&&process.platform==="win32"&&(r=r.replace(/\n/g,`\r
`)),wn.env.clipboard.writeText(r)}function _E(e,t){let n=e.length,r=`byte ${t}[] =
{`;for(let i=0;i<n;++i){i%8==0&&(r+=`
	`);let o=e[i].toString(16).padStart(2,"0");r+=`0x${o}, `}r+=`
};
`,typeof process<"u"&&process.platform==="win32"&&(r=r.replace(/\n/g,`\r
`)),wn.env.clipboard.writeText(r)}function DE(e){wn.env.clipboard.writeText(JSON.stringify(e))}function PE(e){wn.env.clipboard.writeText(kc(e))}var Xt=ft(require("vscode"));function _p(e){for(;e.length;){let t=e.pop();t&&t.dispose()}}var qt=class{constructor(){this._isDisposed=!1;this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,_p(this._disposables))}_register(t){return this._isDisposed?t.dispose():this._disposables.push(t),t}get isDisposed(){return this._isDisposed}},Lr=class{constructor(t){this._value=t}get value(){return this._value}set value(t){this._value!==t&&(this._value?.dispose(),this._value=t)}dispose(){this.value?.dispose()}};var Rx=require("vscode");function Nc(e=32){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Dp=e=>e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(0,e.byteLength);var Mx=e=>{let t=0;for(let i of e)t+=i.byteLength;let n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.byteLength;return n},kx=e=>{let t=e.split("/").pop();return t=t.substring(0,t.lastIndexOf("."))||t,t.replace(/[^a-z0-9]/gi,"")};var ps=class e extends qt{constructor(n,r){super();this._extensionURI=n;this._register(r.onDidChangeActiveDocument(i=>{let a=Xt.workspace.getConfiguration("hexeditor").get("inspectorType")==="sidebar"&&!!i;Xt.commands.executeCommand("setContext","hexEditor:showSidebarInspector",a),a&&this.show({autoReveal:!0})}))}static{this.viewType="hexEditor.dataInspectorView"}resolveWebviewView(n,r,i){this._view=n,n.webview.options={enableScripts:!0,localResourceRoots:[this._extensionURI]},n.webview.html=this._getWebviewHTML(n.webview),n.webview.onDidReceiveMessage(o=>{o.type==="ready"&&n.show()}),this._view.onDidDispose(()=>this._view=void 0),n.onDidChangeVisibility(()=>{n.visible&&this._lastMessage&&n.webview.postMessage(this._lastMessage)}),this._lastMessage&&n.webview.postMessage(this._lastMessage)}handleEditorMessage(n){this._lastMessage=n,this._view?.webview.postMessage(n)}show(n){n?.autoReveal&&!Xt.workspace.getConfiguration("hexeditor.dataInspector").get("autoReveal",!1)||(this._view&&!n?.forceFocus?this._view.show():Xt.commands.executeCommand(`${e.viewType}.focus`),this._lastMessage&&this._view?.webview.postMessage(this._lastMessage))}_getWebviewHTML(n){let r=n.asWebviewUri(Xt.Uri.joinPath(this._extensionURI,"dist","inspector.js")),i=n.asWebviewUri(Xt.Uri.joinPath(this._extensionURI,"dist","inspector.css")),o=Xt.workspace.getConfiguration().get("hexeditor.defaultEndianness"),a=Nc();return`<!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <!--
                Use a content security policy to only allow loading images from https or from our extension directory,
                and only allow scripts that have a specific nonce.
              -->
              <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${n.cspSource}; script-src 'nonce-${a}';">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <link href="${i}" rel="stylesheet">

              <title>Data Inspector</title>
            </head>
            <body>
              <div id="data-inspector">
                <div class="grid-container">
									<!-- Input elements filled in by dataInspector.ts -->
                  <div class="grid-item endian-select">
                    <label for="endianness">Endianness</label>
                  </div>
                  <div class="grid-item endian-select">
                    <select id="endianness">
                      <option value="little" ${o==="little"?"selected":""}>${Xt.l10n.t("Little Endian")}</option>
                      <option value="big" ${o==="big"?"selected":""}>${Xt.l10n.t("Big Endian")}</option>
                    </select>
                  </div>
                </div>
              </div>
              <script nonce="${a}" src="${r}"><\/script>
            </body>
            </html>`}};var Uc=ft(require("vscode"));var RE=/^0x[a-f0-9]+$/i,ME=/^[0-9]+$/i,Fx=e=>{let t=Uc.window.createInputBox();t.placeholder="Enter offset to go to",e.sendEvent({type:7});let n,r=!1;t.onDidChangeValue(i=>{if(!i)n=void 0;else if(RE.test(i))n=parseInt(i.slice(2),16);else if(ME.test(i))n=parseInt(i,10);else{t.validationMessage=Uc.l10n.t("Offset must be provided as a decimal (12345) or hex (0x12345) address");return}t.validationMessage="",n!==void 0&&(t.validationMessage="",e.sendEvent({type:8,offset:n}))}),t.onDidAccept(()=>{r=!0,n!==void 0&&e.sendEvent({type:10,offset:n})}),t.onDidHide(()=>{r||e.sendEvent({type:13})}),t.show()};var dr=ft(require("vscode"));function Lc(e){return e.with({scheme:"file"})}var Oc=class{constructor(){this._emitter=new dr.EventEmitter;this.onDidChangeFile=this._emitter.event}readDirectory(t){throw new Error("Method not implemented.")}createDirectory(t){throw new Error("Method not implemented.")}readFile(t){return dr.workspace.fs.readFile(Lc(t))}writeFile(t,n,r){return dr.workspace.fs.writeFile(Lc(t),n)}delete(t,n){return dr.workspace.fs.delete(Lc(t),n)}rename(t,n,r){throw new Error("Method not implemented")}copy(t,n,r){throw new Error("Method not implemented.")}watch(t,n){return new dr.Disposable(()=>{})}stat(t){return dr.workspace.fs.stat(Lc(t))}};var te=ft(require("vscode"));var Nx=e=>typeof e=="function"?e():e,Go=class{constructor(){this.table=new Map}set(t,n){let r=FE(t),i=this.table.get(r);if(!i){let a={buf:t,value:Nx(n)};return this.table.set(r,[a]),a.value}for(let a of i)if(kE(a.buf,t))return a.value;let o={buf:t,value:Nx(n)};return i.push(o),o.value}*entries(){for(let t of this.table.values())for(let{buf:n,value:r}of t)yield[n,r]}*keys(){for(let t of this.table.values())for(let{buf:n}of t)yield n}*values(){for(let t of this.table.values())for(let{value:n}of t)yield n}};function kE(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function FE(e,t=0){t=Ux(149417,t);for(let n=0,r=e.length;n<r;n++)t=Ux(e[n],t);return t}function Ux(e,t){return(t<<5)-t+e|0}var Xo=e=>{let t=0,n=new Go,r=a=>({offset:n.set(a,()=>{let u=t;return t+=a.length,u}),len:a.length}),i=[];for(let a of e)a.op===0?i.push({...a,value:r(a.value)}):a.op===1?i.push({...a,previous:r(a.previous)}):i.push({...a,previous:r(a.previous),value:r(a.value)});let o=new Uint8Array(t);for(let[a,s]of n.entries())o.set(a,s);return{data:o,edits:i}},Lx=({edits:e,data:t})=>{let n=({offset:r,len:i})=>t.slice(r,r+i);return e.map(r=>r.op===0?{...r,value:n(r.value)}:r.op===1?{...r,previous:n(r.previous)}:{...r,previous:n(r.previous),value:n(r.value)})};var Bc="%1%";var St=ft(require("vscode"));var Pp=ft(require("vscode")),NE=new TextEncoder,UE=new TextDecoder,vs=class{constructor(t){this.uri=t}async write(t){let n=JSON.stringify(t,(r,i)=>i instanceof Uint8Array?{$u8:kc(i)}:i);await Pp.workspace.fs.writeFile(this.uri,NE.encode(n))}async read(){let t;try{t=UE.decode(await Pp.workspace.fs.readFile(this.uri))}catch{return[]}return JSON.parse(t,(n,r)=>r&&typeof r=="object"&&"$u8"in r?_x(r.$u8):r)}};var Be=ft(require("vscode")),Fp=async(e,t)=>{if(e.scheme==="untitled")return new Mp(e,t??new Uint8Array);if(e.scheme==="vscode-debug-memory"){let{permissions:n=0}=await Be.workspace.fs.stat(e);return new kp(e,!!(n&Be.FilePermission.Readonly))}if(e.scheme==="file"||e.scheme==="hexdiff")try{let n=require("fs"),r=require("os"),i=await n.promises.stat(e.fsPath),{uid:o,gid:a}=r.userInfo(),s=o===-1||o===i.uid?!(i.mode&128):a===i.gid?!(i.mode&16):!(i.mode&2);if(i.isFile())return new Rp(e,e.scheme==="hexdiff"?!0:s,n)}catch{}return new zc(e)},Ap=class{constructor(t,n,r){this.path=t;this.flags=n;this._fs=r;this.borrowQueue=[];this.disposed=!1}borrow(t){return this.disposed?Promise.reject(new Error("FileHandle was disposed")):new Promise((n,r)=>{this.borrowQueue.push(async i=>{if(i instanceof Error)return r(i);try{n(await t(i))}catch(o){r(o)}}),this.borrowQueue.length===1&&this.process()})}dispose(){this.disposed=!0,this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout),this.rejectAll(new Error("FileHandle was disposed"))}async close(){await this.handle?.close(),this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout)}rejectAll(t){for(;this.borrowQueue.length;)this.borrowQueue.pop()(t)}async process(){for(this.disposeTimeout&&clearTimeout(this.disposeTimeout);this.borrowQueue.length;){if(!this.handle)try{this.handle=await this._fs.promises.open(this.path,this.flags|this._fs.constants.O_CREAT)}catch(t){return this.rejectAll(t)}await this.borrowQueue[0]?.(this.handle),this.borrowQueue.shift()}this.handle&&(this.disposeTimeout=setTimeout(()=>{this.handle?.close(),this.handle=void 0},1e3))}},LE=yx(hx(e=>e.code==="ENOENT"),{maxAttempts:50,backoff:new Nr(50)}),Ox=128*1024,Rp=class{constructor(t,n,r){this.fs=r;this.supportsIncremetalAccess=!0;this.pageSize=Ox;this.uri=t.toString(),this.isReadonly=n,this.handle=new Ap(t.fsPath,n?r.constants.O_RDONLY:r.constants.O_RDWR,r)}watch(t,n){return Np(this.uri,t,n)}async getSize(){return this.handle.borrow(async t=>(await t.stat()).size)}async read(t,n){return this.handle.borrow(async r=>{let{bytesRead:i}=await r.read(n,0,n.byteLength,t);return i})}writeBulk(t){return this.handle.borrow(async n=>Promise.all(t.map(({data:r,offset:i})=>n.write(r,0,r.byteLength,i))))}async writeStream(t,n){let r=`${this.handle.path}.tmp`,i=await this.fs.promises.open(r,this.fs.constants.O_WRONLY|this.fs.constants.O_CREAT|this.fs.constants.O_TRUNC);try{let o=0;for await(let a of t){if(n?.isCancellationRequested)return;await i.write(a,0,a.byteLength,o),o+=a.byteLength}}finally{await i.close()}return await this.handle.borrow(async()=>{await this.handle.close(),await LE.execute(()=>this.fs.promises.rename(r,this.handle.path))}),this.handle.borrow(async o=>{if(n?.isCancellationRequested)return;let a=0;for await(let s of t){if(n?.isCancellationRequested)return;await o.write(s,0,s.byteLength,a),a+=s.byteLength}})}dispose(){this.handle.dispose()}},zc=class{constructor(t){this.pageSize=Ox;this.uri=t.toString(),this.fsPath=t.fsPath,this.isReadonly=Be.workspace.fs.isWritableFileSystem(this.uri)===!1}watch(t,n){return Np(this.uri,t,n)}async getSize(){return(await Be.workspace.fs.stat(Be.Uri.parse(this.uri))).size}async read(t,n){let r=await this.getContents(),i=Math.min(n.length,r.length-t);return n.set(r.subarray(t,i+t)),i}async writeStream(t,n){let r=0,i=[];for await(let s of t){if(n?.isCancellationRequested)throw new Be.CancellationError;i.push(s),r+=s.length}let o=new Uint8Array(r),a=0;for(let s of i)o.set(s,a),a+=s.length;await Be.workspace.fs.writeFile(Be.Uri.parse(this.uri),o)}async writeBulk(t){let n=await this.getContents();for(let{data:r,offset:i}of t)n.set(r,i);return Be.workspace.fs.writeFile(Be.Uri.parse(this.uri),n)}invalidate(){this.contents=void 0}dispose(){this.contents=void 0}getContents(){return this.contents??=Be.workspace.fs.readFile(Be.Uri.parse(this.uri)),this.contents}},Mp=class extends zc{constructor(t,n){super(t),this.contents=n}getSize(){return Promise.resolve(this.contents.byteLength)}},kp=class{constructor(t,n){this.isReadonly=n;this.supportsIncremetalAccess=!0;this.pageSize=4*1024;this.uri=t.toString()}watch(t,n){return Np(this.uri,t,n)}async getSize(){}async read(t,n){let r=await Be.workspace.fs.readFile(this.referenceRange(t,t+n.length)),i=Math.min(n.length,r.length);return n.set(r.subarray(0,i)),i}async writeStream(){throw new Error("Not supported")}async writeBulk(t){await Promise.all(t.map(n=>Be.workspace.fs.writeFile(this.referenceRange(n.offset,n.offset+n.data.length),n.data)))}referenceRange(t,n){return Be.Uri.parse(this.uri).with({query:`?range=${t}:${n}`})}invalidate(){}dispose(){}},Np=(e,t,n)=>{let r=e.split("/"),i=r.pop(),o=new Be.RelativePattern(Be.Uri.parse(r.join("/")),i),a=Be.workspace.createFileSystemWatcher(o),s=a.onDidChange(t),u=a.onDidDelete(n);return new Be.Disposable(()=>{s.dispose(),u.dispose(),a.dispose()})};var qc=class{start(t,n){this._request?.dispose(),this._request=n,(async()=>{for await(let r of n.search())t.sendEvent({type:2,data:r})})()}cancel(){this._request?.dispose(),this._request=void 0}};var jc=class e extends qt{constructor(n,r,i,o){super();this.model=n;this.isLargeFile=r;this.baseAddress=i;this.diffModel=o;this.lastSave=0;this._selectionState={selected:0};this._editMode=0;this._hoverState=void 0;this.searchProvider=new qc;this._onDidDispose=this._register(new St.EventEmitter);this.onDidDispose=this._onDidDispose.event;this._onDidChangeSelectionState=this._register(new St.EventEmitter);this.onDidChangeSelectionState=this._onDidChangeSelectionState.event;this._onDidChangeEditMode=this._register(new St.EventEmitter);this.onDidChangeEditMode=this._onDidChangeEditMode.event;this._onDidChangeHoverState=this._register(new St.EventEmitter);this.onDidChangeHoverState=this._onDidChangeHoverState.event;this._onDidRevert=this._register(new St.EventEmitter);this.onDidRevert=this._onDidRevert.event}static async create(n,{backupId:r,untitledDocumentData:i},o,a){let s=await Fp(n,i),u=new fs({accessor:s,isFiniteSize:!0,supportsLengthChanges:!0,edits:r?{unsaved:await new vs(St.Uri.parse(r)).read(),saved:[]}:void 0}),c=Mi(n.query),l=c.baseAddress?e.parseHexOrDecInt(c.baseAddress):0,d=await s.getSize();o.sendTelemetryEvent("fileOpen",{},{fileSize:d??0});let f=St.workspace.getConfiguration().get("hexeditor.maxFileSize")*1e6,p=!r&&!s.supportsIncremetalAccess&&(d??0)>f,g=c.side&&a?await a.setModel(c.side,u).build():void 0;return{document:new e(u,p,l,g),accessor:s}}get pageSize(){return this.model.pageSize}get isReadonly(){return this.model.isReadonly}get uri(){return St.Uri.parse(this.model.uri)}async readDecorators(){if(this.diffModel)try{return await this.diffModel.computeDecorators(this.uri)}catch(n){St.window.showErrorMessage(n instanceof Error?n.message:St.l10n.t("Unknown Error in HexEditor Diff"))}return[]}readWithUnsavedEdits(n){return this.model.readWithUnsavedEdits(n)}async readBufferWithEdits(n,r){let i=new Uint8Array(r),o=0;for await(let a of this.model.readWithUnsavedEdits(n)){let s=Math.min(a.length,i.length-o);if(i.set(a.subarray(0,s),o),o+=s,o===r)return i}return i.slice(0,o)}async readBuffer(n,r){let i=new Uint8Array(r),o=await this.model.readInto(n,i);return o===r?i:i.slice(0,o)}dispose(){this._onDidDispose.fire(),this.model.dispose(),super.dispose()}get selectionState(){return this._selectionState}set selectionState(n){this._selectionState=n,this._onDidChangeSelectionState.fire(n)}get editMode(){return this._editMode}set editMode(n){this._editMode=n,this._onDidChangeEditMode.fire(n)}get hoverState(){return this._hoverState}set hoverState(n){this._hoverState=n,this._onDidChangeHoverState.fire(n)}get isSynced(){return this.model.isSynced}get edits(){return this.model.edits}get unsavedEditIndex(){return this.model.unsavedEditIndex}makeEdits(n){return this.model.makeEdits(n)}insert(n,r){return this.model.makeEdits([{op:0,offset:n,value:r}])}async replace(n,r){let i=await this.readBufferWithEdits(n,r.length);return i.length===r.length?this.makeEdits([{op:2,offset:n,value:r,previous:i}]):this.makeEdits([{op:2,offset:n,value:r.subarray(0,i.length),previous:i},{op:0,offset:n+i.length,value:r.subarray(i.length)}])}size(){return this.model.size()}async save(n){this.lastSave=Date.now(),await this.model.save(),this.lastSave=Date.now()}async saveAs(n,r){if(r&&r.isCancellationRequested)return;if(!this.model.isFiniteSize)throw new Error("Cannot save a document without a finite size");let i=await Fp(n);this.lastSave=Date.now(),await i.writeStream(this.model.readWithUnsavedEdits()),this.lastSave=Date.now(),this.model.dispose(),this.model=new fs({accessor:i,isFiniteSize:!0,supportsLengthChanges:!0})}async revert(n){this.model.revert(),this._onDidRevert.fire()}async backup(n){return await new vs(n).write(this.model.unsavedEdits),{id:n.toString(),delete:async()=>{try{await St.workspace.fs.delete(n)}catch{}}}}static parseHexOrDecInt(n){return n=n.toLowerCase(),n.startsWith("0x")?parseInt(n.substring(2),16):parseInt(n,10)}};var Wc=Symbol("Wildcard"),Hx=new Uint8Array(255);for(let e=0;e<255;e++)Hx[e]=e;var Up=new Uint8Array(255);for(let e=0;e<255;e++)Up[e]=String.fromCharCode(e).toUpperCase().charCodeAt(0);var Vc=class{constructor(t,n,r=Hx){this.needle=t;this.onMatch=n;this.equivalencyTable=r;this.needleLen=0;this.index=0;this.usableBuffer=0;for(let i of t)i===Wc?this.needleLen++:this.needleLen+=i.length;this.buffer=new Uint8Array(this.needleLen)}push(t){let{needleLen:n,buffer:r}=this;for(let i=0;i<t.length;i++)r[this.index++%n]=t[i],this.usableBuffer++,this.attemptMatch()}attemptMatch(){let{needle:t,needleLen:n,buffer:r,index:i,equivalencyTable:o}=this;if(this.usableBuffer<n)return;let a=0;for(let u=0;u<t.length;u++){let c=t[u];if(c===Wc){a++;continue}for(let l=0;l<c.length;l++){if(o[c[l]]!==o[r[(i+a)%n]])return;a++}}this.matchTmpBuf||(this.matchTmpBuf=new Uint8Array(n));let s=this.index%n;this.matchTmpBuf.set(r.subarray(s),0),this.matchTmpBuf.set(r.subarray(0,s),n-s),this.onMatch(this.index-n,this.matchTmpBuf),this.usableBuffer=0}};var Kc=class e{constructor(t,n){this.filesize=t;this.cap=n;this.buffers=new Go;this.fileOffset=0;this.lastYieldedTime=Date.now();this.results=[]}static{this.targetUpdateInterval=1e3}get capped(){return this.cap===0}push(t,n,r){let i=this.buffers.set(t,()=>new Uint8Array(t));this.cap===void 0?this.results.push({from:n,to:r,previous:i}):this.cap>0&&(this.results.push({from:n,to:r,previous:i}),this.cap--)}toYield(){let t=Date.now();if(t-this.lastYieldedTime>e.targetUpdateInterval){this.lastYieldedTime=t;let n=this.results;return this.results=[],{progress:this.filesize?this.fileOffset/this.filesize:0,results:n}}}final(){return{progress:1,capped:this.capped,results:this.results}}},Gc=class{constructor(t,n,r,i){this.document=t;this.query=n;this.isCaseSensitive=r;this.cap=i;this.cancelled=!1}dispose(){this.cancelled=!0}async*search(){let{isCaseSensitive:t,query:n,document:r,cap:i}=this,o=new Kc(await r.size(),i),a=new Vc(n.literal.map(s=>s==="*"?Wc:s),(s,u)=>o.push(u,s,s+u.length),t?void 0:Up);for await(let s of r.readWithUnsavedEdits(0)){if(this.cancelled||o.capped){yield o.final();return}a.push(s),o.fileOffset+=s.length;let u=o.toYield();u&&(yield u)}yield o.final()}},OE=8*1024,Xc=class{constructor(t,n,r,i){this.document=t;this.cap=i;this.cancelled=!1;this.re=new RegExp(n.re,r?"g":"ig")}dispose(){this.cancelled=!0}async*search(){let t="",n=0,{re:r,document:i}=this,o=new TextDecoder("ascii"),a=new TextEncoder,s=new Kc(await i.size(),this.cap);for await(let u of i.readWithUnsavedEdits(0)){if(this.cancelled||s.capped){yield s.final();return}t+=o.decode(u);let c=0;for(let f of t.matchAll(r)){let p=n+t.slice(0,f.index).length,g=f[0].length;s.push(a.encode(f[0]),p,p+g),c=f.index+f[0].length}s.fileOffset+=u.length;let l=Math.max(t.length-OE,c);l>0&&(n+=l,r.lastIndex=0,t=t.slice(l));let d=s.toYield();d&&(yield d)}yield s.final()}};var zx={columnWidth:16,showDecodedText:!0,defaultEndianness:"little",inspectorType:"aside"},Bx=Object.keys(zx),Qc=class e{constructor(t,n,r,i){this._context=t;this._telemetryReporter=n;this._dataInspectorView=r;this._registry=i;this._onDidChangeCustomDocument=new te.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static register(t,n,r,i){return te.window.registerCustomEditorProvider(e.viewType,new e(t,n,r,i),{supportsMultipleEditorsPerDocument:!1})}static{this.viewType="hexEditor.hexedit"}async openCustomDocument(t,n,r){let i=this._registry.getDiff(t),{document:o,accessor:a}=await jc.create(t,n,this._telemetryReporter,i.builder),s=[];s.push(i),s.push(o.onDidRevert(async()=>{let d=await o.size()??null;for(let f of this._registry.getMessaging(o))f.sendEvent({type:3,edits:{edits:[],data:new Uint8Array},replaceFileSize:d}),f.sendEvent({type:6})}),o.onDidChangeEditMode(d=>{for(let f of this._registry.getMessaging(o))f.sendEvent({type:4,mode:d})}));let u=te.l10n.t("Overwrite"),c=async()=>{if(o.isSynced){Date.now()-o.lastSave<5e3||o.revert();return}let d=te.l10n.t("This file has changed on disk, but you have unsaved changes. Saving now will overwrite the file on disk with your changes."),f=te.l10n.t("Revert"),p=await te.window.showWarningMessage(d,u,f);p===u?te.commands.executeCommand("workbench.action.files.save"):p===f&&te.commands.executeCommand("workbench.action.files.revert")},l=()=>{for(let d of te.window.tabGroups.all)for(let f of d.tabs)f.input===o&&te.window.tabGroups.close(f,!0)};return s.push(a.watch(c,l)),o.onDidDispose(()=>_p(s)),o}async resolveCustomEditor(t,n,r){let i=new Ko(a=>this.onMessage(i,t,a),a=>n.webview.postMessage(a)),o=this._registry.add(t,i);n.onDidDispose(()=>o.dispose()),n.webview.options={enableScripts:!0},n.webview.html=this.getHtmlForWebview(n.webview),n.webview.onDidReceiveMessage(a=>i.handleMessage(a))}async saveCustomDocument(t,n){await t.save(n);for(let r of this._registry.getMessaging(t))r.sendEvent({type:5,unsavedEditIndex:t.unsavedEditIndex})}saveCustomDocumentAs(t,n,r){return t.saveAs(n,r)}revertCustomDocument(t,n){return t.revert(n)}backupCustomDocument(t,n,r){return t.backup(n.destination)}getHtmlForWebview(t){let n=t.asWebviewUri(te.Uri.joinPath(this._context.extensionUri,"dist","editor.js")),r=t.asWebviewUri(te.Uri.joinPath(this._context.extensionUri,"dist","editor.css")),i=Nc(),o={pasteAs:te.l10n.t("Paste as"),pasteMode:te.l10n.t("Paste mode"),replace:te.l10n.t("Replace"),insert:te.l10n.t("Insert"),bytes:te.l10n.t("bytes"),encodingError:te.l10n.t("Encoding Error"),decodedText:te.l10n.t("Decoded Text"),loadingUpper:te.l10n.t("LOADING"),loadingDotDotDot:te.l10n.t("Loading..."),littleEndian:te.l10n.t("Little Endian"),onlyHexChars:te.l10n.t("Only hexadecimal characters (0-9 and a-f) are allowed"),onlyHexCharsAndPlaceholders:te.l10n.t("Only hexadecimal characters (0-9, a-f, and ?? placeholders) are allowed"),toggleReplace:te.l10n.t("Toggle Replace"),findBytes:te.l10n.t("Find Bytes (hex)"),findText:te.l10n.t("Find Text"),regexSearch:te.l10n.t("Regular Expression Search"),searchInBinaryMode:te.l10n.t("Search in Binary Mode"),caseSensitive:te.l10n.t("Case Sensitive"),cancelSearch:te.l10n.t("Cancel Search"),previousMatch:te.l10n.t("Previous Match"),nextMatch:te.l10n.t("Next Match"),closeWidget:te.l10n.t("Close Widget (Esc)"),replaceAllMatches:te.l10n.t("Replace All Matches"),replaceSelectedMatch:te.l10n.t("Replace Selected Match"),resultOverflow:te.l10n.t("More than {0} results, click to find all",Bc),resultCount:te.l10n.t("{0} results",Bc),foundNResults:te.l10n.t("Found {0}...",Bc),noResults:te.l10n.t("No results"),openLargeFileWarning:te.l10n.t("Opening this large file may cause instability."),openAnyways:te.l10n.t("Open Anyways"),readonlyWarning:te.l10n.t("Cannot edit in read-only editor."),openSettings:te.l10n.t("Open Settings"),showDecodedText:te.l10n.t("Show Decoded Text"),bytesPerRow:te.l10n.t("Bytes per row"),close:te.l10n.t("Close")};return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${t.cspSource} blob:; font-src ${t.cspSource}; style-src ${t.cspSource}; script-src 'nonce-${i}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${r}" rel="stylesheet" />
				<script nonce="${i}">globalThis.LOC_STRINGS=${JSON.stringify(o)}<\/script>
				<script nonce="${i}" src="${n}" defer><\/script>

				<title>Hex Editor</title>
			</head>
			<body>
			</body>
			</html>`}readCodeSettings(){return{scrollBeyondLastLine:te.workspace.getConfiguration("editor").get("scrollBeyondLastLine",!0)}}readEditorSettings(){let t=te.workspace.getConfiguration("hexeditor"),n={...zx};for(let r of Bx)t.has(r)&&(n[r]=t.get(r));return n}writeEditorSettings(t){let n=te.workspace.getConfiguration("hexeditor");for(let r of Bx){let i=n.inspect(r),o=i?i.workspaceFolderValue!==void 0?te.ConfigurationTarget.WorkspaceFolder:i.workspaceValue!==void 0?te.ConfigurationTarget.Workspace:te.ConfigurationTarget.Global:te.ConfigurationTarget.Global;n.update(r,t[r],o)}}async onMessage(t,n,r){switch(r.type){case 16:return{type:0,initialOffset:n.baseAddress,editorSettings:this.readEditorSettings(),codeSettings:this.readCodeSettings(),edits:Xo(n.edits),unsavedEditIndex:n.unsavedEditIndex,fileSize:await n.size(),pageSize:n.pageSize,isLargeFile:n.isLargeFile,isReadonly:n.isReadonly,editMode:n.editMode,decorators:await n.readDecorators()};case 12:n.selectionState=r;break;case 9:n.hoverState=r.hovered;break;case 18:let i=await n.readBuffer(r.offset,r.bytes);return{type:1,data:Dp(i)};case 19:this.publishEdit(t,n,n.makeEdits(Lx(r.edits)));return;case 26:this.publishEdit(t,n,r.mode==="insert"?n.insert(r.offset,r.data):await n.replace(r.offset,r.data)),t.sendEvent({type:3,edits:Xo(n.edits)});return;case 27:{let a=await Promise.all(r.selections.sort((c,l)=>c[0]-l[0]).map(c=>n.readBuffer(c[0],c[1]-c[0]))),s=Mx(a),u=kx(n.uri.path);Px[r.format](s,u);return}case 20:{let s=(await Promise.all(r.deletes.map(u=>n.readBufferWithEdits(u.start,u.end-u.start)))).map((u,c)=>({op:1,previous:u,offset:r.deletes[c].start}));return t.sendEvent({type:3,edits:Xo(s),appendOnly:!0}),this.publishEdit(t,n,n.makeEdits(s)),{type:14}}case 22:n.searchProvider.cancel();return;case 21:let o;"re"in r.query?o=new Xc(n,r.query,r.caseSensitive,r.cap):o=new Gc(n,r.query,r.caseSensitive,r.cap),n.searchProvider.start(t,o);return;case 23:this._dataInspectorView.handleEditorMessage({method:"reset"});break;case 24:this._dataInspectorView.handleEditorMessage({method:"update",data:Dp(await n.readBufferWithEdits(r.offset,8))});break;case 25:this.writeEditorSettings(r.editorSettings);break}}publishEdit(t,n,r){this._onDidChangeCustomDocument.fire({document:n,undo:()=>t.sendEvent({type:3,edits:Xo(r.undo())}),redo:()=>t.sendEvent({type:3,edits:Xo(r.redo())})})}};var Hn=ft(require("vscode"));var qx=ft(require("vscode"));var $c=class e{constructor(t,n,r){this.originalModel=t;this.modifiedModel=n;this.messageHandler=r;this.saveGuard=_c(1,1/0)}async computeDecorators(t){return this.saveGuard.execute(async()=>{if(this.decorators===void 0){let n=await this.originalModel.sizeWithEdits(),r=await this.modifiedModel.sizeWithEdits();if(n===void 0||r===void 0)throw new Error(qx.l10n.t("HexEditor Diff: Failed to get file sizes."));let i=new Uint8Array(n),o=new Uint8Array(r);await this.originalModel.readInto(0,i),await this.modifiedModel.readInto(0,o);let a=await this.messageHandler.sendRequest({type:0,original:i,modified:o},[i.buffer,o.buffer]);this.decorators=a}return t.toString()===this.originalModel.uri.toString()?this.decorators.original:this.decorators.modified})}static{this.Builder=class{constructor(t){this.messageHandler=t;let n,r;n=new Promise(i=>r=i),this.original={promise:n,resolve:r},n=new Promise(i=>r=i),this.modified={promise:n,resolve:r}}setModel(t,n){return t==="original"?this.original.resolve(n):this.modified.resolve(n),this}async build(){let[t,n]=await Promise.all([this.original.promise,this.modified.promise]);return this.built===void 0&&(this.built=new e(t,n,this.messageHandler)),this.built}}}};var jx=[],Jc=class extends qt{constructor(n){super();this.initDiffWorker=n;this.docs=new Map;this.diffsBuilder=new Map;this.onChangeEmitter=new Hn.EventEmitter;this.onDidChangeActiveDocument=this.onChangeEmitter.event;this._register(Hn.window.tabGroups.onDidChangeTabs(this.onChangedTabs,this)),this._register(Hn.window.tabGroups.onDidChangeTabGroups(this.onChangedTabs,this)),this.onChangedTabs()}get activeDocument(){return this._activeDocument}get activeMessaging(){return this._activeDocument&&this.docs.get(this._activeDocument)||jx}getMessaging(n){return this.docs.get(n)||jx}add(n,r){let i=this.docs.get(n);return i?i.add(r):(i=new Set([r]),this.docs.set(n,i)),this.onChangedTabs(),{dispose:()=>{i.delete(r),i.size===0&&this.docs.delete(n)}}}getDiff(n){let{token:r}=Mi(n.query);if(r===void 0)return{builder:void 0,dispose:()=>{}};let i=this.initDiffWorker();this.diffsBuilder.has(r)||this.diffsBuilder.set(r,{refCount:0,value:new $c.Builder(i)});let o=this.diffsBuilder.get(r);return o.refCount++,{builder:o.value,dispose:()=>{o.refCount--,o.refCount===0&&this.diffsBuilder.delete(r)}}}onChangedTabs(){let n=Hn.window.tabGroups.activeTabGroup.activeTab?.input,r=n instanceof Hn.TabInputCustom?n.uri:void 0,i;if(r){for(let o of this.docs.keys())if(o.uri.toString()===r.toString()){i=o;break}}i!==this._activeDocument&&(this._activeDocument=i,Hn.commands.executeCommand("setContext","hexEditor:isActive",!!i),this.onChangeEmitter.fire(i))}};var Wx=ft(require("vscode"));function Vx(e,t){let n;return()=>{if(!n){let{msgHandler:r,dispose:i}=HE(e);n=r,t({dispose:i})}return n}}function HE(e){let t,n=Wx.Uri.joinPath(e,"dist","diffWorker.js").toString();try{t=new Worker(n)}catch{let{Worker:i}=require("worker_threads"),o=new i(new URL(n)),a=o.addListener;o.addEventListener=a,t=o}let r=new Ko(async()=>{},(i,o)=>t.postMessage(i,o));return t.addEventListener("message",i=>i.data?r.handleMessage(i.data):r.handleMessage(i)),{msgHandler:r,dispose:()=>t.terminate()}}var gs=ft(require("vscode"));var BE=/^0x[a-f0-9]+$/i,zE=/^[0-9]+$/i,Kx=async(e,t)=>{e.sendEvent({type:7});let n,r=t.activeDocument?.selectionState;r!==void 0&&r.selected>0&&r.focused!==void 0&&(n=`0x${r.focused.toString(16)}`);let i=await o(gs.l10n.t("Enter offset to select from"),n);if(i!==void 0){let a=await o(gs.l10n.t("Enter offset to select until"));a!==void 0&&e.sendEvent({type:11,startingOffset:i,endingOffset:a})}async function o(a,s){let u=[];try{return await new Promise((l,d)=>{let f=gs.window.createInputBox();f.title=a,f.value=s||"",f.prompt=a,f.ignoreFocusOut=!0,f.placeholder=a,u.push(f.onDidAccept(()=>{let p=f.value;f.enabled=!1,f.busy=!0;let g=c(p);g!==void 0&&l(g),f.enabled=!0,f.busy=!1}),f.onDidChangeValue(p=>{let g=c(p);g===void 0?f.validationMessage="Offset must be provided as a decimal (12345) or hex (0x12345) address":(f.validationMessage="",e.sendEvent({type:8,offset:g}))}),f.onDidHide(()=>{e.sendEvent({type:13}),l(void 0)}),f),f.show()})}finally{u.forEach(l=>l.dispose())}function c(l){let d;return l?BE.test(l)?d=parseInt(l.slice(2),16):zE.test(l)&&(d=parseInt(l,10)):d=void 0,d}}};var Or=ft(require("vscode"));var ms=class extends qt{constructor(n){super();this.docChangeListener=this._register(new Lr);this.item=this._register(Or.window.createStatusBarItem(Or.StatusBarAlignment.Right,99)),this.item.tooltip=Or.l10n.t("Switch Edit Mode"),this.item.command="hexEditor.switchEditMode";let r=i=>{i?(this.docChangeListener.value=i.onDidChangeEditMode(o=>this.update(o)),this.update(i.editMode),this.show()):this.hide()};this._register(n.onDidChangeActiveDocument(r)),r(n.activeDocument)}update(n){if(n===0)this.item.text=Or.l10n.t("Insert");else if(n===2)this.item.text=Or.l10n.t("Replace");else{this.item.hide();return}this.item.show()}show(){this.item.show()}hide(){this.item.hide()}};var Qo=ft(require("vscode"));var qE=new Intl.NumberFormat,hs=class extends qt{constructor(n){super();this.docChangeListener=this._register(new Lr);this.item=this._register(Qo.window.createStatusBarItem(Qo.StatusBarAlignment.Right,100));let r=i=>{i?(this.docChangeListener.value=i.onDidChangeSelectionState(o=>this.update(o)),this.update(i.selectionState),this.show()):this.hide()};this._register(n.onDidChangeActiveDocument(r)),r(n.activeDocument)}update({focused:n}){let r=n!==void 0?qE.format(n):void 0;if(r)this.item.text=Qo.l10n.t("{0}/0x{1}",r,n.toString(16).toUpperCase()),this.item.show();else{this.item.hide();return}}show(){this.item.show()}hide(){this.item.hide()}};var Hr=ft(require("vscode"));var Gx=new Intl.NumberFormat,ys=class extends qt{constructor(n){super();this.docChangeListener=this._register(new Lr);this.item=this._register(Hr.window.createStatusBarItem(Hr.StatusBarAlignment.Right,101));let r=i=>{i?(this._register(i.onDidChangeHoverState(()=>this.update(i))),this._register(i.onDidChangeSelectionState(()=>this.update(i))),this.update(i),this.show()):this.hide()};this._register(n.onDidChangeActiveDocument(r)),r(n.activeDocument)}update({hoverState:n,selectionState:r}){let{selected:i}=r,o=n!==void 0?Gx.format(n):void 0,a=i>1?Gx.format(i):void 0;o&&a?this.item.text=Hr.l10n.t("{0}/0x{1} ({2}/0x{3} selected)",o,n.toString(16).toUpperCase(),a,i.toString(16).toUpperCase()):o?this.item.text=Hr.l10n.t("{0}/0x{1}",o,n.toString(16).toUpperCase()):a?this.item.text=Hr.l10n.t("{0}/0x{1} selected",a,i.toString(16).toUpperCase()):this.item.text="",this.item.show()}show(){this.item.show()}hide(){this.item.hide()}};function jE(e){let t=e.packageJSON;return{extId:`${t.publisher}.${t.name}`,version:t.version,aiKey:t.aiKey}}function WE(){let e=Je.window.tabGroups.activeTabGroup.activeTab?.input;e.uri&&Je.commands.executeCommand("vscode.openWith",e.uri,"hexEditor.hexedit")}async function VE(e){let t=Vx(e.extensionUri,g=>e.subscriptions.push(g)),n=new Jc(t),r=new ps(e.extensionUri,n),i=jE(e.extension);e.subscriptions.push(n,r,Je.window.registerWebviewViewProvider(ps.viewType,r));let o=new cx(i.extId,i.version,i.aiKey);e.subscriptions.push(o);let a=Je.commands.registerCommand("hexEditor.openFile",WE),s=Je.commands.registerCommand("hexEditor.goToOffset",()=>{let g=n.activeMessaging[Symbol.iterator]().next();g.value&&Fx(g.value)}),u=Je.commands.registerCommand("hexEditor.selectBetweenOffsets",()=>{let g=n.activeMessaging[Symbol.iterator]().next();g.value&&Kx(g.value,n)}),c=Je.commands.registerCommand("hexEditor.copyAs",()=>{let g=n.activeMessaging[Symbol.iterator]().next();g.value&&Ax(g.value)}),l=Je.commands.registerCommand("hexEditor.switchEditMode",()=>{n.activeDocument&&(n.activeDocument.editMode=n.activeDocument.editMode===0?2:0)}),d=Je.commands.registerCommand("hexEditor.copyOffsetAsHex",()=>{if(n.activeDocument){let g=n.activeDocument.selectionState.focused;g!==void 0&&Je.env.clipboard.writeText(g.toString(16).toUpperCase())}}),f=Je.commands.registerCommand("hexEditor.copyOffsetAsDec",()=>{if(n.activeDocument){let g=n.activeDocument.selectionState.focused;g!==void 0&&Je.env.clipboard.writeText(g.toString())}}),p=Je.commands.registerCommand("hexEditor.compareSelected",async(...g)=>{if(g.length!==2&&!(g[1]instanceof Array))return;let[m,v]=g[1];m instanceof Je.Uri&&v instanceof Je.Uri&&Ex(m,v)});e.subscriptions.push(new ms(n)),e.subscriptions.push(new hs(n)),e.subscriptions.push(new ys(n)),e.subscriptions.push(s),e.subscriptions.push(u),e.subscriptions.push(c),e.subscriptions.push(l),e.subscriptions.push(a),e.subscriptions.push(o),e.subscriptions.push(f,d),e.subscriptions.push(p),e.subscriptions.push(Je.workspace.registerFileSystemProvider("hexdiff",new Oc,{isCaseSensitive:typeof process<"u"&&process.platform!=="win32"&&process.platform!=="darwin"})),e.subscriptions.push(Qc.register(e,o,r,n))}function KE(){}
/*! Bundled license information:

@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@vscode/extension-telemetry/lib/telemetryReporter.web.min.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
*/
